(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{202:function(n,e,t){},208:function(n,e,t){"use strict";t.r(e);var i=t(0),r=(t(202),function(){return[{h1:"服务端渲染（SSR）",p:["标准的 InDiv 应用会运行在浏览器中，","当 JavaScript 脚本加载完毕后，它会在 DOM 中渲染页面，以响应用户的操作。","但是在特殊场景，比如 SEO，需要提升在低性能设备上的渲染速度，需要迅速显示首屏时，","可能服务端渲染更适合。","它可以生成这些页面，并在浏览器请求时直接用它们给出响应。"],info:[{title:"工作原理",p:["通过引入 @indiv/ssr-renderer v1.1.0+。","@indiv/ssr-renderer 包提供了服务端的 DOM 实现，使得渲染 InDiv 应用不再依赖浏览器。","通过 node 端，会把客户端对应用页面的请求传给 @indiv/ssr-renderer 中的 renderToString  函数，","引入 indiv 实例和路由的配置对象，renderToString 会根据对应的路径，返回已经被渲染完的字符串模板。",'通过不同框架的渲染机制，将返回的字符串模板渲染到模板的 <div id="root"></div> 中。',"最后，服务器就会把渲染好的页面返回给客户端。"],pchild:["1. 生命周期受到限制，服务端渲染中仅仅支持 constructor 和 OnInit 的调用。","2. 因为 InDiv 的 nvHttp 对象是封装的 axios 库，因此支持在 node 环境中使用 http 请求。","3. 通过 nv-on:eventName 方式绑定的方法暂时无法渲染。"]},{title:"环境及使用",p:["Node.js: v6+","indiv: v1.2.0+","@indiv/ssr-renderer: v1.1.0+","本例子使用 express 及 ejs 模板，你也可以选择适合的 服务端框架 及 模板 。"],pchild:["1. 创建 InDiv app","2. 创建一个用于处理请求的 express Web 服务器","3. 创建一个 ejs 模板","4. 引入 @indiv/ssr-renderer 包 renderToString: (url: string, routes: TRouter[], indiv: InDiv) => string","5. 将 request 的 url， indiv app路由配置对象，和 indiv实例 作为参数依次传入 renderToString","6. 最后 renderToString 的返回值渲染至模板中"],code:"\n  // in index.ejs\n  <div id=\"root\">\n    <%- content %>\n  </div>\n\n  // in service side\n  const express = require('express');\n  const renderToString = require('@indiv/ssr-renderer');\n\n  const app = express();\n\n  app.use('/indiv-doc', (request, response, next) => {    \n    // import indiv app\n    const ssrData = require('./dist/main.js');\n    response.render('index.ejs', {\n      // use in ejs template\n      content: renderToString(request.url, ssrData.routes, ssrData.default.inDiv),\n    });\n  });\n    "}]}]});function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var c=function(n,e,t,i){var r,c=arguments.length,s=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"===("undefined"==typeof Reflect?"undefined":o(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,i);else for(var p=n.length-1;p>=0;p--)(r=n[p])&&(s=(c<3?r(s):c>3?r(e,t,s):r(e,t))||s);return c>3&&s&&Object.defineProperty(e,t,s),s},s=function(){function n(){this.infos=r(),this.codeType="javascript"}return n=c([Object(i.a)({selector:"ssr-container",template:'\n        <div class="page-container">\n            <div class="info-content" nv-repeat="info in infos">\n                <h1>{{info.h1}}</h1>\n                <p nv-repeat="rp in info.p">{{rp}}</p>\n                <div class="child-info" nv-repeat="code in info.info">\n                    <h2>{{code.title}}</h2>\n                    <p nv-repeat="pli in code.p">{{pli}}</p>\n                    <div class="pchild" nv-if="code.pchild">\n                    <p nv-repeat="child in code.pchild">{{child}}</p>\n                    </div>\n                    <code-shower nv-if="code.code" type="{codeType}" codes="{code.code}"></code-shower>\n                </div>\n            </div>\n        </div>\n    '})],n)}();function p(n){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var d=function(n,e,t,i){var r,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(r=n[s])&&(c=(o<3?r(c):o>3?r(e,t,c):r(e,t))||c);return o>3&&c&&Object.defineProperty(e,t,c),c},f=function(){function n(){}return n=d([Object(i.g)({declarations:[s],exports:[s],bootstrap:s})],n)}();e.default=f}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3NyLnRzIiwid2VicGFjazovLy9pbmRleC50cyIsIndlYnBhY2s6Ly8vc3NyLm1vZHVsZS50cyJdLCJuYW1lcyI6WyJzc3JJbmZvIiwiaDEiLCJwIiwiaW5mbyIsInRpdGxlIiwicGNoaWxkIiwiY29kZSIsInNzciIsIlNTUkNvbnRhaW5lciIsInRoaXMiLCJpbmZvcyIsImNvZGVUeXBlIiwiX19kZWNvcmF0ZSIsIk9iamVjdCIsImNvcmUiLCJzZWxlY3RvciIsInRlbXBsYXRlIiwic3NyX21vZHVsZV9TU1JNb2R1bGUiLCJTU1JNb2R1bGUiLCJzc3JfbW9kdWxlX2RlY29yYXRlIiwiZGVjbGFyYXRpb25zIiwiZXhwb3J0cyIsImJvb3RzdHJhcCIsIl9fd2VicGFja19leHBvcnRzX18iXSwibWFwcGluZ3MiOiJrSUFBYUEsVUFBVSxXQUFNLE9BQ3pCLENBQ0VDLEdBQUksYUFDSkMsRUFBRyxDQUNELHdCQUNBLCtDQUNBLDZDQUNBLGNBQ0EsZ0NBRUZDLEtBQU0sQ0FDSixDQUNFQyxNQUFPLE9BQ1BGLEVBQUcsQ0FDRCxvQ0FDQSw0REFDQSx1RUFDQSw4REFDQSx1REFDQSwwQkFFRkcsT0FBUSxDQUNOLG1EQUNBLGdFQUNBLHlDQUdKLENBQ0VELE1BQU8sUUFDUEYsRUFBRyxDQUNELGVBQ0EsaUJBQ0EsK0JBQ0EsaURBRUZHLE9BQVEsQ0FDTixrQkFDQSxpQ0FDQSxpQkFDQSx1R0FDQSx3RUFDQSxtQ0FFRkMsS0FBTSw2bUNDSEtDLEVBQXJCLFdBbkJBLFNBQUFDLElBb0JXQyxLQUFBQyxNQUFnQlYsSUFDaEJTLEtBQUFFLFNBQW1CLGFBQzlCLE9BSHFCSCxFQUFZSSxFQUFBLENBbkJoQ0MsT0FBQUMsRUFBQSxFQUFBRCxDQUFVLENBQ1BFLFNBQVUsZ0JBQ1ZDLFNBQVcsMnNCQWlCTVIsR0FBckIseWxCQzNCQVMsRUFBQSxvQkFBQUMsS0FBZ0MsT0FBWEEsRUFBU0MsRUFBQSxDQVQ3Qk4sT0FBQUMsRUFBQSxFQUFBRCxDQUFTLENBQ05PLGFBQWMsQ0FDVmIsR0FFSmMsUUFBUyxDQUNMZCxHQUVKZSxVQUFXZixLQUVNVyxHQUFyQixHQUFxQkssRUFBQSIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBzc3JJbmZvID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW1xuICAgIHtcbiAgICAgICAgaDE6ICfmnI3liqHnq6/muLLmn5PvvIhTU1LvvIknLFxuICAgICAgICBwOiBbXG4gICAgICAgICAgICAn5qCH5YeG55qEIEluRGl2IOW6lOeUqOS8mui/kOihjOWcqOa1j+iniOWZqOS4re+8jCcsXG4gICAgICAgICAgICAn5b2TIEphdmFTY3JpcHQg6ISa5pys5Yqg6L295a6M5q+V5ZCO77yM5a6D5Lya5ZyoIERPTSDkuK3muLLmn5PpobXpnaLvvIzku6Xlk43lupTnlKjmiLfnmoTmk43kvZzjgIInLFxuICAgICAgICAgICAgJ+S9huaYr+WcqOeJueauiuWcuuaZr++8jOavlOWmgiBTRU/vvIzpnIDopoHmj5DljYflnKjkvY7mgKfog73orr7lpIfkuIrnmoTmuLLmn5PpgJ/luqbvvIzpnIDopoHov4XpgJ/mmL7npLrpppblsY/ml7bvvIwnLFxuICAgICAgICAgICAgJ+WPr+iDveacjeWKoeerr+a4suafk+abtOmAguWQiOOAgicsXG4gICAgICAgICAgICAn5a6D5Y+v5Lul55Sf5oiQ6L+Z5Lqb6aG16Z2i77yM5bm25Zyo5rWP6KeI5Zmo6K+35rGC5pe255u05o6l55So5a6D5Lus57uZ5Ye65ZON5bqU44CCJyxcbiAgICAgICAgXSxcbiAgICAgICAgaW5mbzogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn5bel5L2c5Y6f55CGJyxcbiAgICAgICAgICAgICAgICBwOiBbXG4gICAgICAgICAgICAgICAgICAgICfpgJrov4flvJXlhaUgQGluZGl2L3Nzci1yZW5kZXJlciB2MS4xLjAr44CCJyxcbiAgICAgICAgICAgICAgICAgICAgJ0BpbmRpdi9zc3ItcmVuZGVyZXIg5YyF5o+Q5L6b5LqG5pyN5Yqh56uv55qEIERPTSDlrp7njrDvvIzkvb/lvpfmuLLmn5MgSW5EaXYg5bqU55So5LiN5YaN5L6d6LWW5rWP6KeI5Zmo44CCJyxcbiAgICAgICAgICAgICAgICAgICAgJ+mAmui/hyBub2RlIOerr++8jOS8muaKiuWuouaIt+err+WvueW6lOeUqOmhtemdoueahOivt+axguS8oOe7mSBAaW5kaXYvc3NyLXJlbmRlcmVyIOS4reeahCByZW5kZXJUb1N0cmluZyAg5Ye95pWw77yMJyxcbiAgICAgICAgICAgICAgICAgICAgJ+W8leWFpSBpbmRpdiDlrp7kvovlkozot6/nlLHnmoTphY3nva7lr7nosaHvvIxyZW5kZXJUb1N0cmluZyDkvJrmoLnmja7lr7nlupTnmoTot6/lvoTvvIzov5Tlm57lt7Lnu4/ooqvmuLLmn5PlroznmoTlrZfnrKbkuLLmqKHmnb/jgIInLFxuICAgICAgICAgICAgICAgICAgICAn6YCa6L+H5LiN5ZCM5qGG5p6255qE5riy5p+T5py65Yi277yM5bCG6L+U5Zue55qE5a2X56ym5Liy5qih5p2/5riy5p+T5Yiw5qih5p2/55qEIDxkaXYgaWQ9XCJyb290XCI+PC9kaXY+IOS4reOAgicsXG4gICAgICAgICAgICAgICAgICAgICfmnIDlkI7vvIzmnI3liqHlmajlsLHkvJrmiormuLLmn5Plpb3nmoTpobXpnaLov5Tlm57nu5nlrqLmiLfnq6/jgIInLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgcGNoaWxkOiBbXG4gICAgICAgICAgICAgICAgICAgICcxLiDnlJ/lkb3lkajmnJ/lj5fliLDpmZDliLbvvIzmnI3liqHnq6/muLLmn5PkuK3ku4Xku4XmlK/mjIEgY29uc3RydWN0b3Ig5ZKMIE9uSW5pdCDnmoTosIPnlKjjgIInLFxuICAgICAgICAgICAgICAgICAgICAnMi4g5Zug5Li6IEluRGl2IOeahCBudkh0dHAg5a+56LGh5piv5bCB6KOF55qEIGF4aW9zIOW6k++8jOWboOatpOaUr+aMgeWcqCBub2RlIOeOr+Wig+S4reS9v+eUqCBodHRwIOivt+axguOAgicsXG4gICAgICAgICAgICAgICAgICAgICczLiDpgJrov4cgbnYtb246ZXZlbnROYW1lIOaWueW8j+e7keWumueahOaWueazleaaguaXtuaXoOazlea4suafk+OAgicsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICfnjq/looPlj4rkvb/nlKgnLFxuICAgICAgICAgICAgICAgIHA6IFtcbiAgICAgICAgICAgICAgICAgICAgJ05vZGUuanM6IHY2KycsXG4gICAgICAgICAgICAgICAgICAgICdpbmRpdjogdjEuMi4wKycsXG4gICAgICAgICAgICAgICAgICAgICdAaW5kaXYvc3NyLXJlbmRlcmVyOiB2MS4xLjArJyxcbiAgICAgICAgICAgICAgICAgICAgJ+acrOS+i+WtkOS9v+eUqCBleHByZXNzIOWPiiBlanMg5qih5p2/77yM5L2g5Lmf5Y+v5Lul6YCJ5oup6YCC5ZCI55qEIOacjeWKoeerr+ahhuaetiDlj4og5qih5p2/IOOAgicsXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBwY2hpbGQ6IFtcbiAgICAgICAgICAgICAgICAgICAgJzEuIOWIm+W7uiBJbkRpdiBhcHAnLFxuICAgICAgICAgICAgICAgICAgICAnMi4g5Yib5bu65LiA5Liq55So5LqO5aSE55CG6K+35rGC55qEIGV4cHJlc3MgV2ViIOacjeWKoeWZqCcsXG4gICAgICAgICAgICAgICAgICAgICczLiDliJvlu7rkuIDkuKogZWpzIOaooeadvycsXG4gICAgICAgICAgICAgICAgICAgICc0LiDlvJXlhaUgQGluZGl2L3Nzci1yZW5kZXJlciDljIUgcmVuZGVyVG9TdHJpbmc6ICh1cmw6IHN0cmluZywgcm91dGVzOiBUUm91dGVyW10sIGluZGl2OiBJbkRpdikgPT4gc3RyaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgJzUuIOWwhiByZXF1ZXN0IOeahCB1cmzvvIwgaW5kaXYgYXBw6Lev55Sx6YWN572u5a+56LGh77yM5ZKMIGluZGl25a6e5L6LIOS9nOS4uuWPguaVsOS+neasoeS8oOWFpSByZW5kZXJUb1N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICc2LiDmnIDlkI4gcmVuZGVyVG9TdHJpbmcg55qE6L+U5Zue5YC85riy5p+T6Iez5qih5p2/5LitJyxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiXFxuICAvLyBpbiBpbmRleC5lanNcXG4gIDxkaXYgaWQ9XFxcInJvb3RcXFwiPlxcbiAgICA8JS0gY29udGVudCAlPlxcbiAgPC9kaXY+XFxuXFxuICAvLyBpbiBzZXJ2aWNlIHNpZGVcXG4gIGNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XFxuICBjb25zdCByZW5kZXJUb1N0cmluZyA9IHJlcXVpcmUoJ0BpbmRpdi9zc3ItcmVuZGVyZXInKTtcXG5cXG4gIGNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcXG5cXG4gIGFwcC51c2UoJy9pbmRpdi1kb2MnLCAocmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpID0+IHsgICAgXFxuICAgIC8vIGltcG9ydCBpbmRpdiBhcHBcXG4gICAgY29uc3Qgc3NyRGF0YSA9IHJlcXVpcmUoJy4vZGlzdC9tYWluLmpzJyk7XFxuICAgIHJlc3BvbnNlLnJlbmRlcignaW5kZXguZWpzJywge1xcbiAgICAgIC8vIHVzZSBpbiBlanMgdGVtcGxhdGVcXG4gICAgICBjb250ZW50OiByZW5kZXJUb1N0cmluZyhyZXF1ZXN0LnVybCwgc3NyRGF0YS5yb3V0ZXMsIHNzckRhdGEuZGVmYXVsdC5pbkRpdiksXFxuICAgIH0pO1xcbiAgfSk7XFxuICAgIFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9LFxuXTsgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWMzTnlMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE1pT2xzaWMzTnlMblJ6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVVGQkxFMUJRVTBzUTBGQlF5eEpRVUZOTEU5QlFVOHNSMEZCUnl4alFVRk5MRTlCUVVFN1NVRkRla0k3VVVGRFJTeEZRVUZGTEVWQlFVVXNXVUZCV1R0UlFVTm9RaXhEUVVGRExFVkJRVVU3V1VGRFJDeDFRa0ZCZFVJN1dVRkRka0lzT0VOQlFUaERPMWxCUXpsRExEUkRRVUUwUXp0WlFVTTFReXhoUVVGaE8xbEJRMklzT0VKQlFUaENPMU5CUXk5Q08xRkJRMFFzU1VGQlNTeEZRVUZGTzFsQlEwbzdaMEpCUTBVc1MwRkJTeXhGUVVGRkxFMUJRVTA3WjBKQlEySXNRMEZCUXl4RlFVRkZPMjlDUVVORUxHMURRVUZ0UXp0dlFrRkRia01zTWtSQlFUSkVPMjlDUVVNelJDeHpSVUZCYzBVN2IwSkJRM1JGTERaRVFVRTJSRHR2UWtGRE4wUXNjMFJCUVhORU8yOUNRVU4wUkN4M1FrRkJkMEk3YVVKQlEzcENPMmRDUVVORUxFMUJRVTBzUlVGQlJUdHZRa0ZEVGl4clJFRkJhMFE3YjBKQlEyeEVMQ3RFUVVFclJEdHZRa0ZETDBRc2MwTkJRWE5ETzJsQ1FVTjJRenRoUVVOR08xbEJRMFE3WjBKQlEwVXNTMEZCU3l4RlFVRkZMRTlCUVU4N1owSkJRMlFzUTBGQlF5eEZRVUZGTzI5Q1FVTkVMR05CUVdNN2IwSkJRMlFzWjBKQlFXZENPMjlDUVVOb1FpdzRRa0ZCT0VJN2IwSkJRemxDTEN0RFFVRXJRenRwUWtGRGFFUTdaMEpCUTBRc1RVRkJUU3hGUVVGRk8yOUNRVU5PTEdsQ1FVRnBRanR2UWtGRGFrSXNaME5CUVdkRE8yOUNRVU5vUXl4blFrRkJaMEk3YjBKQlEyaENMSE5IUVVGelJ6dHZRa0ZEZEVjc2RVVkJRWFZGTzI5Q1FVTjJSU3hwUTBGQmFVTTdhVUpCUTJ4RE8yZENRVU5FTEVsQlFVa3NSVUZCUlN4bmFFSkJiMEpZTzJGQlEwazdVMEZEUmp0TFFVTkdPME5CUTBZc1JVRnVSVEJDTEVOQmJVVXhRaXhEUVVGREluMD0iLCJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgJy4vc3R5bGUubGVzcyc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAaW5kaXYvY29yZSc7XG5pbXBvcnQgeyBzc3JJbmZvIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL3Nzcic7XG52YXIgU1NSQ29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNTUkNvbnRhaW5lcigpIHtcbiAgICAgICAgdGhpcy5pbmZvcyA9IHNzckluZm8oKTtcbiAgICAgICAgdGhpcy5jb2RlVHlwZSA9ICdqYXZhc2NyaXB0JztcbiAgICB9XG4gICAgU1NSQ29udGFpbmVyID0gX19kZWNvcmF0ZShbXG4gICAgICAgIENvbXBvbmVudCh7XG4gICAgICAgICAgICBzZWxlY3RvcjogJ3Nzci1jb250YWluZXInLFxuICAgICAgICAgICAgdGVtcGxhdGU6IChcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicGFnZS1jb250YWluZXJcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImluZm8tY29udGVudFxcXCIgbnYtcmVwZWF0PVxcXCJpbmZvIGluIGluZm9zXFxcIj5cXG4gICAgICAgICAgICAgICAgPGgxPnt7aW5mby5oMX19PC9oMT5cXG4gICAgICAgICAgICAgICAgPHAgbnYtcmVwZWF0PVxcXCJycCBpbiBpbmZvLnBcXFwiPnt7cnB9fTwvcD5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2hpbGQtaW5mb1xcXCIgbnYtcmVwZWF0PVxcXCJjb2RlIGluIGluZm8uaW5mb1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8aDI+e3tjb2RlLnRpdGxlfX08L2gyPlxcbiAgICAgICAgICAgICAgICAgICAgPHAgbnYtcmVwZWF0PVxcXCJwbGkgaW4gY29kZS5wXFxcIj57e3BsaX19PC9wPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGNoaWxkXFxcIiBudi1pZj1cXFwiY29kZS5wY2hpbGRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPHAgbnYtcmVwZWF0PVxcXCJjaGlsZCBpbiBjb2RlLnBjaGlsZFxcXCI+e3tjaGlsZH19PC9wPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8Y29kZS1zaG93ZXIgbnYtaWY9XFxcImNvZGUuY29kZVxcXCIgdHlwZT1cXFwie2NvZGVUeXBlfVxcXCIgY29kZXM9XFxcIntjb2RlLmNvZGV9XFxcIj48L2NvZGUtc2hvd2VyPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICBcIiksXG4gICAgICAgIH0pXG4gICAgXSwgU1NSQ29udGFpbmVyKTtcbiAgICByZXR1cm4gU1NSQ29udGFpbmVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFNTUkNvbnRhaW5lcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWFXNWtaWGd1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SnBibVJsZUM1MGN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU96czdPenM3UVVGQlFTeFBRVUZQTEdOQlFXTXNRMEZCUXp0QlFVTjBRaXhQUVVGUExFVkJRVVVzVTBGQlV5eEZRVUZGTEUxQlFVMHNZVUZCWVN4RFFVRkRPMEZCUlhoRExFOUJRVThzUlVGQlJTeFBRVUZQTEVWQlFVVXNUVUZCVFN4eFFrRkJjVUlzUTBGQlF6dEJRWEZET1VNN1NVRnVRa0U3VVVGdlFsY3NWVUZCU3l4SFFVRlhMRTlCUVU4c1JVRkJSU3hEUVVGRE8xRkJRekZDTEdGQlFWRXNSMEZCVnl4WlFVRlpMRU5CUVVNN1NVRkRNME1zUTBGQlF6dEpRVWh2UWl4WlFVRlpPMUZCYmtKb1F5eFRRVUZUTEVOQlFVTTdXVUZEVUN4UlFVRlJMRVZCUVVVc1pVRkJaVHRaUVVONlFpeFJRVUZSTEVWQlFVVXNRMEZCUXl4cGRVSkJaVllzUTBGQlF6dFRRVU5NTEVOQlFVTTdUMEZEYlVJc1dVRkJXU3hEUVVkb1F6dEpRVUZFTEcxQ1FVRkRPME5CUVVFc1FVRklSQ3hKUVVkRE8yVkJTRzlDTEZsQlFWa2lmUT09IiwidmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgTnZNb2R1bGUgfSBmcm9tICdAaW5kaXYvY29yZSc7XG5pbXBvcnQgU1NSQ29udGFpbmVyIGZyb20gJy4uL3BhZ2VzL3Nzcic7XG52YXIgU1NSTW9kdWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNTUk1vZHVsZSgpIHtcbiAgICB9XG4gICAgU1NSTW9kdWxlID0gX19kZWNvcmF0ZShbXG4gICAgICAgIE52TW9kdWxlKHtcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICAgICAgICAgIFNTUkNvbnRhaW5lcixcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBleHBvcnRzOiBbXG4gICAgICAgICAgICAgICAgU1NSQ29udGFpbmVyLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGJvb3RzdHJhcDogU1NSQ29udGFpbmVyLFxuICAgICAgICB9KVxuICAgIF0sIFNTUk1vZHVsZSk7XG4gICAgcmV0dXJuIFNTUk1vZHVsZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTU1JNb2R1bGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2ljM055TG0xdlpIVnNaUzVxY3lJc0luTnZkWEpqWlZKdmIzUWlPaUlpTENKemIzVnlZMlZ6SWpwYkluTnpjaTV0YjJSMWJHVXVkSE1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3T3pzN08wRkJRVUVzVDBGQlR5eEZRVUZGTEZGQlFWRXNSVUZCUlN4TlFVRk5MR0ZCUVdFc1EwRkJRenRCUVVWMlF5eFBRVUZQTEZsQlFWa3NUVUZCVFN4alFVRmpMRU5CUVVNN1FVRlhlRU03U1VGQlFUdEpRVUZuUXl4RFFVRkRPMGxCUVZvc1UwRkJVenRSUVZRM1FpeFJRVUZSTEVOQlFVTTdXVUZEVGl4WlFVRlpMRVZCUVVVN1owSkJRMVlzV1VGQldUdGhRVU5tTzFsQlEwUXNUMEZCVHl4RlFVRkZPMmRDUVVOTUxGbEJRVms3WVVGRFpqdFpRVU5FTEZOQlFWTXNSVUZCUlN4WlFVRlpPMU5CUXpGQ0xFTkJRVU03VDBGRGJVSXNVMEZCVXl4RFFVRkhPMGxCUVVRc1owSkJRVU03UTBGQlFTeEJRVUZxUXl4SlFVRnBRenRsUVVGYUxGTkJRVk1pZlE9PSJdLCJzb3VyY2VSb290IjoiIn0=