{"version":3,"sources":["../../InDiv/node_modules/core-js/modules/_global.js","../../InDiv/node_modules/core-js/modules/_core.js","../../InDiv/node_modules/core-js/modules/_is-object.js","../../InDiv/node_modules/core-js/modules/_an-object.js","../../InDiv/node_modules/core-js/modules/_fails.js","../../InDiv/node_modules/core-js/modules/_descriptors.js","../../InDiv/node_modules/core-js/modules/_dom-create.js","../../InDiv/node_modules/core-js/modules/_ie8-dom-define.js","../../InDiv/node_modules/core-js/modules/_to-primitive.js","../../InDiv/node_modules/core-js/modules/_object-dp.js","../../InDiv/node_modules/core-js/modules/_property-desc.js","../../InDiv/node_modules/core-js/modules/_hide.js","../../InDiv/node_modules/core-js/modules/_has.js","../../InDiv/node_modules/core-js/modules/_uid.js","../../InDiv/node_modules/core-js/modules/_redefine.js","../../InDiv/node_modules/core-js/modules/_a-function.js","../../InDiv/node_modules/core-js/modules/_ctx.js","../../InDiv/node_modules/core-js/modules/_export.js","../../InDiv/node_modules/core-js/modules/_cof.js","../../InDiv/node_modules/core-js/modules/_iobject.js","../../InDiv/node_modules/core-js/modules/_defined.js","../../InDiv/node_modules/core-js/modules/_to-object.js","../../InDiv/node_modules/core-js/modules/_to-integer.js","../../InDiv/node_modules/core-js/modules/_to-length.js","../../InDiv/node_modules/core-js/modules/_is-array.js","../../InDiv/node_modules/core-js/modules/_library.js","../../InDiv/node_modules/core-js/modules/_shared.js","../../InDiv/node_modules/core-js/modules/_wks.js","../../InDiv/node_modules/core-js/modules/_array-species-constructor.js","../../InDiv/node_modules/core-js/modules/_array-species-create.js","../../InDiv/node_modules/core-js/modules/_array-methods.js","../../InDiv/node_modules/core-js/modules/_add-to-unscopables.js","../../InDiv/node_modules/core-js/modules/es6.array.find.js","../../InDiv/node_modules/core-js/modules/es6.array.find-index.js","../../InDiv/node_modules/core-js/modules/_strict-method.js","../../InDiv/node_modules/core-js/modules/es6.array.for-each.js","../../InDiv/node_modules/core-js/modules/_iter-call.js","../../InDiv/node_modules/core-js/modules/_iterators.js","../../InDiv/node_modules/core-js/modules/_is-array-iter.js","../../InDiv/node_modules/core-js/modules/_create-property.js","../../InDiv/node_modules/core-js/modules/_classof.js","../../InDiv/node_modules/core-js/modules/core.get-iterator-method.js","../../InDiv/node_modules/core-js/modules/_iter-detect.js","../../InDiv/node_modules/core-js/modules/es6.array.from.js","../../InDiv/node_modules/core-js/modules/_to-iobject.js","../../InDiv/node_modules/core-js/modules/_to-absolute-index.js","../../InDiv/node_modules/core-js/modules/_array-includes.js","../../InDiv/node_modules/core-js/modules/es6.array.index-of.js","../../InDiv/node_modules/core-js/modules/es6.array.map.js","../../InDiv/node_modules/core-js/modules/es6.array.sort.js","../../InDiv/node_modules/core-js/modules/es6.object.define-property.js","../../InDiv/node_modules/core-js/modules/es6.object.to-string.js","../../InDiv/node_modules/core-js/modules/_fix-re-wks.js","../../InDiv/node_modules/core-js/modules/es6.regexp.match.js","../../InDiv/node_modules/core-js/modules/es6.regexp.replace.js","../../InDiv/node_modules/core-js/modules/_shared-key.js","../../InDiv/node_modules/core-js/modules/_object-keys-internal.js","../../InDiv/node_modules/core-js/modules/_enum-bug-keys.js","../../InDiv/node_modules/core-js/modules/_object-keys.js","../../InDiv/node_modules/core-js/modules/_object-dps.js","../../InDiv/node_modules/core-js/modules/_html.js","../../InDiv/node_modules/core-js/modules/_object-create.js","../../InDiv/node_modules/core-js/modules/_redefine-all.js","../../InDiv/node_modules/core-js/modules/_an-instance.js","../../InDiv/node_modules/core-js/modules/_for-of.js","../../InDiv/node_modules/core-js/modules/_set-to-string-tag.js","../../InDiv/node_modules/core-js/modules/_iter-create.js","../../InDiv/node_modules/core-js/modules/_object-gpo.js","../../InDiv/node_modules/core-js/modules/_iter-define.js","../../InDiv/node_modules/core-js/modules/_iter-step.js","../../InDiv/node_modules/core-js/modules/_set-species.js","../../InDiv/node_modules/core-js/modules/_meta.js","../../InDiv/node_modules/core-js/modules/_validate-collection.js","../../InDiv/node_modules/core-js/modules/_collection-strong.js","../../InDiv/node_modules/core-js/modules/_object-pie.js","../../InDiv/node_modules/core-js/modules/_object-gopd.js","../../InDiv/node_modules/core-js/modules/_set-proto.js","../../InDiv/node_modules/core-js/modules/_inherit-if-required.js","../../InDiv/node_modules/core-js/modules/_collection.js","../../InDiv/node_modules/core-js/modules/es6.map.js","../../InDiv/node_modules/core-js/modules/_species-constructor.js","../../InDiv/node_modules/core-js/modules/_invoke.js","../../InDiv/node_modules/core-js/modules/_task.js","../../InDiv/node_modules/core-js/modules/_microtask.js","../../InDiv/node_modules/core-js/modules/_new-promise-capability.js","../../InDiv/node_modules/core-js/modules/_perform.js","../../InDiv/node_modules/core-js/modules/_user-agent.js","../../InDiv/node_modules/core-js/modules/_promise-resolve.js","../../InDiv/node_modules/core-js/modules/es6.promise.js","../../InDiv/node_modules/core-js/modules/_bind.js","../../InDiv/node_modules/core-js/modules/es6.function.bind.js","../../InDiv/node_modules/core-js/modules/es6.reflect.construct.js","../node_modules/_process@0.11.10@process/browser.js","Reflect.ts","../../InDiv/node_modules/easier-cookie/build/index.js","../../../InDiv/src/Utils/index.ts","../../../InDiv/src/Watcher/index.ts","../../../InDiv/src/KeyWatcher/index.ts","../../../InDiv/src/VirtualDOM/parse.ts","../../../InDiv/src/VirtualDOM/diff.ts","../../../InDiv/src/VirtualDOM/render.ts","../../../InDiv/src/VirtualDOM/index.ts","../../../InDiv/src/CompileUtils/index.ts","../../../InDiv/src/Compile/index.ts","../../../InDiv/src/DI/injectable.ts","../../../InDiv/src/DI/injected.ts","../../../InDiv/src/DI/factory-creator.ts","../../../InDiv/src/DI/index.ts","../../../InDiv/src/Component/index.ts","../../../InDiv/src/types/index.ts","../../../InDiv/src/Router/index.ts","../../../InDiv/src/NvModule/index.ts","../../../InDiv/src/InDiv/index.ts","../../InDiv/node_modules/axios/lib/helpers/bind.js","../../InDiv/node_modules/axios/node_modules/is-buffer/index.js","../../InDiv/node_modules/axios/lib/utils.js","../../InDiv/node_modules/axios/lib/helpers/normalizeHeaderName.js","../../InDiv/node_modules/axios/lib/core/enhanceError.js","../../InDiv/node_modules/axios/lib/core/createError.js","../../InDiv/node_modules/axios/lib/core/settle.js","../../InDiv/node_modules/axios/lib/helpers/buildURL.js","../../InDiv/node_modules/axios/lib/helpers/parseHeaders.js","../../InDiv/node_modules/axios/lib/helpers/isURLSameOrigin.js","../../InDiv/node_modules/axios/lib/helpers/btoa.js","../../InDiv/node_modules/axios/lib/helpers/cookies.js","../../InDiv/node_modules/axios/lib/adapters/xhr.js","../../InDiv/node_modules/axios/lib/defaults.js","../../InDiv/node_modules/axios/lib/core/InterceptorManager.js","../../InDiv/node_modules/axios/lib/core/transformData.js","../../InDiv/node_modules/axios/lib/cancel/isCancel.js","../../InDiv/node_modules/axios/lib/helpers/isAbsoluteURL.js","../../InDiv/node_modules/axios/lib/helpers/combineURLs.js","../../InDiv/node_modules/axios/lib/core/dispatchRequest.js","../../InDiv/node_modules/axios/lib/core/Axios.js","../../InDiv/node_modules/axios/lib/cancel/Cancel.js","../../InDiv/node_modules/axios/lib/cancel/CancelToken.js","../../InDiv/node_modules/axios/lib/helpers/spread.js","../../InDiv/node_modules/axios/lib/axios.js","../../InDiv/node_modules/axios/index.js","../../../InDiv/src/Http/index.ts","../../../InDiv/src/index.ts","../routes/index.ts","../constants/introduction.ts","../pages/introduction/index.ts","../modules/introduction.module.ts","../constants/start.ts","../pages/architecture/index.ts","../modules/architecture.module.ts","../pages/docs/index.ts","../constants/component.ts","../node_modules/rxjs/node_modules/tslib/tslib.es6.js","../../../src/internal/util/isFunction.ts","../../src/internal/config.ts","../../../src/internal/util/hostReportError.ts","../../src/internal/Observer.ts","../../../src/internal/util/isArray.ts","../../../src/internal/util/isObject.ts","../../../src/internal/util/errorObject.ts","../../../src/internal/util/tryCatch.ts","../../../src/internal/util/UnsubscriptionError.ts","../../src/internal/Subscription.ts","../../../src/internal/symbol/rxSubscriber.ts","../../src/internal/Subscriber.ts","../../../src/internal/util/canReportError.ts","../../../src/internal/util/toSubscriber.ts","../../../src/internal/symbol/observable.ts","../../../src/internal/util/noop.ts","../../../src/internal/util/pipe.ts","../../src/internal/Observable.ts","../../../src/internal/util/ObjectUnsubscribedError.ts","../../src/internal/SubjectSubscription.ts","../../src/internal/Subject.ts","../../../src/internal/operators/refCount.ts","../../../src/internal/observable/ConnectableObservable.ts","../../../src/internal/operators/groupBy.ts","../../src/internal/BehaviorSubject.ts","../../../src/internal/scheduler/Action.ts","../../../src/internal/scheduler/AsyncAction.ts","../../../src/internal/scheduler/QueueAction.ts","../../src/internal/Scheduler.ts","../../../src/internal/scheduler/AsyncScheduler.ts","../../../src/internal/scheduler/QueueScheduler.ts","../../../src/internal/scheduler/queue.ts","../../../src/internal/observable/empty.ts","../../../src/internal/util/isScheduler.ts","../../../src/internal/util/subscribeToArray.ts","../../../src/internal/observable/fromArray.ts","../../../src/internal/observable/scalar.ts","../../../src/internal/observable/of.ts","../../../src/internal/observable/throwError.ts","../../src/internal/Notification.ts","../../../src/internal/operators/observeOn.ts","../../src/internal/ReplaySubject.ts","../../src/internal/AsyncSubject.ts","../../../src/internal/util/Immediate.ts","../../../src/internal/scheduler/AsapAction.ts","../../../src/internal/scheduler/AsapScheduler.ts","../../../src/internal/scheduler/asap.ts","../../../src/internal/scheduler/async.ts","../../../src/internal/scheduler/AnimationFrameAction.ts","../../../src/internal/scheduler/AnimationFrameScheduler.ts","../../../src/internal/scheduler/animationFrame.ts","../../../src/internal/scheduler/VirtualTimeScheduler.ts","../../../src/internal/util/identity.ts","../../../src/internal/util/isObservable.ts","../../../src/internal/util/ArgumentOutOfRangeError.ts","../../../src/internal/util/EmptyError.ts","../../../src/internal/util/TimeoutError.ts","../../../src/internal/operators/map.ts","../../../src/internal/observable/bindCallback.ts","../../../src/internal/observable/bindNodeCallback.ts","../../src/internal/OuterSubscriber.ts","../../src/internal/InnerSubscriber.ts","../../../src/internal/util/subscribeToPromise.ts","../../../src/internal/symbol/iterator.ts","../../../src/internal/util/subscribeToIterable.ts","../../../src/internal/util/subscribeToObservable.ts","../../../src/internal/util/isArrayLike.ts","../../../src/internal/util/isPromise.ts","../../../src/internal/util/subscribeTo.ts","../../../src/internal/util/subscribeToResult.ts","../../../src/internal/observable/combineLatest.ts","../../../src/internal/util/isInteropObservable.ts","../../../src/internal/util/isIterable.ts","../../../src/internal/observable/fromPromise.ts","../../../src/internal/observable/fromIterable.ts","../../../src/internal/observable/fromObservable.ts","../../../src/internal/observable/from.ts","../../../src/internal/operators/mergeMap.ts","../../../src/internal/operators/mergeAll.ts","../../../src/internal/operators/concatAll.ts","../../../src/internal/observable/concat.ts","../../../src/internal/observable/defer.ts","../../../src/internal/observable/forkJoin.ts","../../../src/internal/observable/fromEvent.ts","../../../src/internal/observable/fromEventPattern.ts","../../../src/internal/observable/generate.ts","../../../src/internal/observable/iif.ts","../../../src/internal/util/isNumeric.ts","../../../src/internal/observable/interval.ts","../../../src/internal/observable/merge.ts","../../../src/internal/observable/never.ts","../../../src/internal/observable/onErrorResumeNext.ts","../../../src/internal/observable/pairs.ts","../../../src/internal/observable/race.ts","../../../src/internal/observable/range.ts","../../../src/internal/observable/timer.ts","../../../src/internal/observable/using.ts","../../../src/internal/observable/zip.ts","../src/index.ts","../service/test.service.ts","../pages/docs/component/index.ts","../constants/template.ts","../pages/docs/template/index.ts","../constants/module.ts","../pages/docs/module/index.ts","../constants/service.ts","../pages/docs/service/index.ts","../constants/route.ts","../pages/docs/route/index.ts","../constants/indiv.ts","../pages/docs/indiv/index.ts","../constants/libs.ts","../pages/docs/libs/index.ts","../constants/http.ts","../pages/docs/http/index.ts","../modules/docs.module.ts","../constants/ssr.ts","../pages/ssr/index.ts","../modules/ssr.module.ts","../components/root-component/index.ts","../constants/nav.ts","../components/side-bars/index.ts","../components/code-show/index.ts","../modules/index.ts","../main.ts","../node_modules/_parcel-bundler@1.10.1@parcel-bundler/src/builtins/bundle-url.js","../node_modules/_parcel-bundler@1.10.1@parcel-bundler/src/builtins/css-loader.js"],"names":["process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","nextTick","args","Array","arguments","i","push","Item","array","prototype","apply","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","utils","require","settle","buildURL","parseHeaders","isURLSameOrigin","createError","btoa","window","bind","xhrAdapter","config","Promise","dispatchXhrRequest","resolve","reject","requestData","data","requestHeaders","headers","isFormData","request","XMLHttpRequest","loadEvent","xDomain","XDomainRequest","url","onprogress","handleProgress","ontimeout","handleTimeout","auth","username","password","Authorization","open","method","toUpperCase","params","paramsSerializer","handleLoad","readyState","status","responseURL","indexOf","responseHeaders","getAllResponseHeaders","responseData","responseType","responseText","response","statusText","onerror","handleError","isStandardBrowserEnv","cookies","xsrfValue","withCredentials","xsrfCookieName","read","undefined","xsrfHeaderName","forEach","setRequestHeader","val","key","toLowerCase","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","onCanceled","cancel","abort","send","extendStatics","d","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__extends","__","constructor","create","__assign","assign","t","s","n","__rest","getOwnPropertySymbols","__decorate","decorators","target","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","fulfilled","value","step","next","rejected","result","done","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","__exportStar","m","__values","o","__read","ar","error","__spread","__await","__asyncGenerator","asyncIterator","q","a","resume","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","k","default","__importDefault","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","match","getBaseURL","replace","bundle","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","document","querySelectorAll"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AoRAA,IAAIsO,SAAS,GAAG,IAAhB;;AACA,SAASC,kBAAT,GAA8B;AAC5B,MAAI,CAACD,SAAL,EAAgB;AACdA,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD;;AAED,SAAOF,SAAP;AACD;;AAED,SAASE,YAAT,GAAwB;AACtB;AACA,MAAI;AACF,UAAM,IAAIlO,KAAJ,EAAN;AACD,GAFD,CAEE,OAAOmO,GAAP,EAAY;AACZ,QAAIC,OAAO,GAAG,CAAC,KAAKD,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,gCAAvB,CAAd;;AACA,QAAIF,OAAJ,EAAa;AACX,aAAOG,UAAU,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD;AACF;;AAED,SAAO,GAAP;AACD;;AAED,SAASG,UAAT,CAAoBvJ,GAApB,EAAyB;AACvB,SAAO,CAAC,KAAKA,GAAN,EAAWwJ,OAAX,CAAmB,uCAAnB,EAA4D,IAA5D,IAAoE,GAA3E;AACD;;AAED5O,OAAO,CAACsO,YAAR,GAAuBD,kBAAvB;AACArO,OAAO,CAAC2O,UAAR,GAAqBA,UAArB;;AC5BA,IAAIE,MAAM,GAAGlL,OAAO,CAAC,cAAD,CAApB;;AAEA,SAASmL,UAAT,CAAoBC,IAApB,EAA0B;AACxB,MAAIC,OAAO,GAAGD,IAAI,CAACE,SAAL,EAAd;;AACAD,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAACI,MAAL;AACD,GAFD;;AAGAH,EAAAA,OAAO,CAACI,IAAR,GAAeL,IAAI,CAACK,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;AACAR,EAAAA,IAAI,CAACS,UAAL,CAAgBC,YAAhB,CAA6BT,OAA7B,EAAsCD,IAAI,CAACW,WAA3C;AACD;;AAED,IAAIC,UAAU,GAAG,IAAjB;;AACA,SAASC,SAAT,GAAqB;AACnB,MAAID,UAAJ,EAAgB;AACd;AACD;;AAEDA,EAAAA,UAAU,GAAGrP,UAAU,CAAC,YAAY;AAClC,QAAIuP,KAAK,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,wBAA1B,CAAZ;;AACA,SAAK,IAAIlO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgO,KAAK,CAAC1O,MAA1B,EAAkCU,CAAC,EAAnC,EAAuC;AACrC,UAAIgN,MAAM,CAACF,UAAP,CAAkBkB,KAAK,CAAChO,CAAD,CAAL,CAASuN,IAA3B,MAAqCP,MAAM,CAACP,YAAP,EAAzC,EAAgE;AAC9DQ,QAAAA,UAAU,CAACe,KAAK,CAAChO,CAAD,CAAN,CAAV;AACD;AACF;;AAED8N,IAAAA,UAAU,GAAG,IAAb;AACD,GATsB,EASpB,EAToB,CAAvB;AAUD;;AAED5P,MAAM,CAACC,OAAP,GAAiB4P,SAAjB;;;;;;;;;;;;;ArR7BA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;;ACFA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/BA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3CA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChJA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACPA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/CA;AACA,IAAI9P,OAAO,GAAGC,MAAM,CAACC,OAAP,GAAiB,EAA/B,EAEA;AACA;AACA;AACA;;AAEA,IAAIC,gBAAJ;AACA,IAAIC,kBAAJ;;AAEA,SAASC,gBAAT,GAA4B;AACxB,QAAM,IAAIC,KAAJ,CAAU,iCAAV,CAAN;AACH;;AACD,SAASC,mBAAT,GAAgC;AAC5B,QAAM,IAAID,KAAJ,CAAU,mCAAV,CAAN;AACH;;AACA,aAAY;AACT,MAAI;AACA,QAAI,OAAOE,UAAP,KAAsB,UAA1B,EAAsC;AAClCL,MAAAA,gBAAgB,GAAGK,UAAnB;AACH,KAFD,MAEO;AACHL,MAAAA,gBAAgB,GAAGE,gBAAnB;AACH;AACJ,GAND,CAME,OAAOI,CAAP,EAAU;AACRN,IAAAA,gBAAgB,GAAGE,gBAAnB;AACH;;AACD,MAAI;AACA,QAAI,OAAOK,YAAP,KAAwB,UAA5B,EAAwC;AACpCN,MAAAA,kBAAkB,GAAGM,YAArB;AACH,KAFD,MAEO;AACHN,MAAAA,kBAAkB,GAAGG,mBAArB;AACH;AACJ,GAND,CAME,OAAOE,CAAP,EAAU;AA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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;;AAEA,IAAIC,KAAK,GAAGC,OAAO,CAAC,YAAD,CAAnB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,kBAAD,CAApB;;AACA,IAAIE,QAAQ,GAAGF,OAAO,CAAC,uBAAD,CAAtB;;AACA,IAAIG,YAAY,GAAGH,OAAO,CAAC,2BAAD,CAA1B;;AACA,IAAII,eAAe,GAAGJ,OAAO,CAAC,8BAAD,CAA7B;;AACA,IAAIK,WAAW,GAAGL,OAAO,CAAC,qBAAD,CAAzB;;AACA,IAAIM,IAAI,GAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACD,IAAxC,IAAgDC,MAAM,CAACD,IAAP,CAAYE,IAAZ,CAAiBD,MAAjB,CAAjD,IAA8EP,OAAO,CAAC,mBAAD,CAAhG;;AAEA5D,MAAM,CAACC,OAAP,GAAiB,SAASoE,UAAT,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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"main.map","sourceRoot":"public","sourcesContent":["// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.5.7' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = false;\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2018 Denis Pushkarev (zloirock.ru)'\n});\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar $forEach = require('./_array-methods')(0);\nvar STRICT = require('./_strict-method')([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","module.exports = {};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","'use strict';\nvar $export = require('./_export');\nvar $indexOf = require('./_array-includes')(false);\nvar $native = [].indexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $map = require('./_array-methods')(1);\n\n$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n","// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue) {\n    'use strict';\n    var O = defined(this);\n    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","exports.f = {}.propertyIsEnumerable;\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar aFunction = require('./_a-function');\nvar isObject = require('./_is-object');\nvar invoke = require('./_invoke');\nvar arraySlice = [].slice;\nvar factories = {};\n\nvar construct = function (F, len, args) {\n  if (!(len in factories)) {\n    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = arraySlice.call(arguments, 1);\n  var bound = function (/* args... */) {\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if (isObject(fn.prototype)) bound.prototype = fn.prototype;\n  return bound;\n};\n","// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\nvar $export = require('./_export');\n\n$export($export.P, 'Function', { bind: require('./_bind') });\n","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n",null,"parcelRequire=function(e,r,n,t){function i(n,t){function o(e){return i(o.resolve(e))}function c(r){return e[n][1][r]||r}if(!r[n]){if(!e[n]){var l=\"function\"==typeof parcelRequire&&parcelRequire;if(!t&&l)return l(n,!0);if(u)return u(n,!0);if(f&&\"string\"==typeof n)return f(n);var p=new Error(\"Cannot find module '\"+n+\"'\");throw p.code=\"MODULE_NOT_FOUND\",p}o.resolve=c;var a=r[n]=new i.Module(n);e[n][0].call(a.exports,o,a,a.exports,this)}return r[n].exports}function o(e){this.id=e,this.bundle=i,this.exports={}}var u=\"function\"==typeof parcelRequire&&parcelRequire,f=\"function\"==typeof require&&require;i.isParcelRequire=!0,i.Module=o,i.modules=e,i.cache=r,i.parent=u;for(var c=0;c<n.length;c++)i(n[c]);if(n.length){var l=i(n[n.length-1]);\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=l:\"function\"==typeof define&&define.amd?define(function(){return l}):t&&(this[t]=l)}return i}({1:[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e={set:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=\"\",n=\"\",i=\"\",c=\"\";if(r.expires){var a=new Date;a.setDate(a.getDate()+r.expires),o=\";expires=\"+a.toGMTString()}r.path&&(n=\";path=\"+r.path),r.domain&&(i=\";domain=\"+r.domain),c=t instanceof Object?encodeURI(JSON.stringify(t)):encodeURI(t),document.cookie=encodeURI(e)+\"=\"+c+o+n+i},get:function(e){if(!e)return null;for(var t=document.cookie.split(\"; \"),r=0;r<t.length;r++){var o=t[r].split(\"=\");if(o[0]===decodeURI(e)){var n=void 0;try{n=JSON.parse(decodeURI(o[1]))}catch(e){n=decodeURI(o[1])}return\"\"===n?null:n}}return null},remove:function(e){try{return this.set(e,\"\",-1),!0}catch(t){return console.error(\"remove cookie \"+e+\" failed:\",t),!1}}};exports.default=e;\n},{}]},{},[1], null)","import Cookie from 'easier-cookie';\n\n/**\n * utils for InDiv\n *\n * @class Utils\n */\nclass Utils {\n  /**\n   * Creates an instance of Utils.\n   * @memberof Utils\n   */\n  constructor() {\n    this.toString = Object.prototype.toString;\n  }\n\n  /**\n   * set Cookie with easier-cookie\n   *\n   * @param {string} name\n   * @param {*} value\n   * @param {*} [options]\n   * @memberof Utils\n   */\n  public setCookie(name: string, value: any, options?: any): void {\n    Cookie.set(name, value, options);\n  }\n\n  /**\n   * get Cookie with easier-cookie\n   *\n   * @param {string} name\n   * @returns {*}\n   * @memberof Utils\n   */\n  public getCookie(name: string): any {\n    return Cookie.get(name);\n  }\n\n  /**\n   * remove Cookie with easier-cookie\n   *\n   * @param {string} name\n   * @returns {boolean}\n   * @memberof Utils\n   */\n  public removeCookie(name: string): boolean {\n    return Cookie.remove(name);\n  }\n\n  /**\n   * build url query\n   *\n   * @param {*} object\n   * @returns {string}\n   * @memberof Utils\n   */\n  public buildQuery(object: any): string {\n    if (!object || !(object instanceof Object)) return '';\n    let query = '?';\n    for (const key in object) {\n      if (!(object[key] instanceof Object)) {\n        query += `${key}=${object[key].toString()}&`;\n      } else {\n        query += `${key}=${JSON.stringify(object[key])}&`;\n      }\n    }\n    return query.slice(0, query.length - 1);\n  }\n\n  /**\n   * get one url query\n   *\n   * @param {string} name\n   * @returns {string}\n   * @memberof Utils\n   */\n  public getQuery(name: string): string {\n    const parts: string[] = window.location.search.replace('?', '').split('&');\n    const params: any = {};\n    for (let i = 0; i < parts.length; i++) {\n      const pairs = parts[i].split('=');\n      params[pairs[0]] = pairs[1];\n    }\n    if (params[name]) {\n      return params[name];\n    } else {\n      return '';\n    }\n  }\n\n  /**\n   * judge something is Function or not\n   *\n   * @param {*} func\n   * @returns {boolean}\n   * @memberof Utils\n   */\n  public isFunction(func: any): boolean {\n    return this.toString.call(func) === '[object Function]';\n  }\n\n  /**\n   * judge two things are equal or not\n   *\n   * @param {*} a\n   * @param {*} b\n   * @param {any[]} [aStack]\n   * @param {any[]} [bStack]\n   * @returns {boolean}\n   * @memberof Utils\n   */\n  public isEqual(a: any, b: any, aStack?: any[], bStack?: any[]): boolean {\n    // === 结果为 true 的区别出 +0 和 -0\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // typeof null 的结果为 object ，这里做判断，是为了让有 null 的情况尽早退出函数\n    if (a == null || b == null) return false;\n    // 判断 NaN\n    if (a !== a) return b !== b;\n    // 判断参数 a 类型，如果是基本类型，在这里可以直接返回 false\n    const type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b !== 'object') return false;\n    // 更复杂的对象使用 deepEq 函数进行深度比较\n    return this.deepIsEqual(a, b, aStack, bStack);\n  }\n\n  /**\n   * deep judge two things are equal or not\n   *\n   * @param {*} a\n   * @param {*} b\n   * @param {any[]} [aStack]\n   * @param {any[]} [bStack]\n   * @returns {boolean}\n   * @memberof Utils\n   */\n  public deepIsEqual(a: any, b: any, aStack?: any[], bStack?: any[]): boolean {\n    // a 和 b 的内部属性 [[class]] 相同时 返回 true\n    const className = this.toString.call(a);\n    if (className !== this.toString.call(b)) return false;\n    switch (className) {\n    case '[object RegExp]':\n    case '[object String]':\n      return `${a}` === `${b}`;\n    case '[object Number]':\n      if (+a !== +a) return +b !== +b;\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      return +a === +b;\n    }\n\n    const areArrays = className === '[object Array]';\n    // 不是数组\n    if (!areArrays) {\n      // 过滤掉两个函数的情况\n      if (typeof a !== 'object' || typeof b !== 'object') return false;\n      const aCtor = a.constructor;\n      const bCtor = b.constructor;\n      // aCtor 和 bCtor 必须都存在并且都不是 Object 构造函数的情况下，aCtor 不等于 bCtor， 那这两个对象就真的不相等啦\n      if (aCtor !== bCtor && !(this.isFunction(aCtor) && aCtor instanceof aCtor && this.isFunction(bCtor) && bCtor instanceof bCtor) && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n\n    aStack = aStack || [];\n    bStack = bStack || [];\n    let length = aStack.length;\n    // 检查是否有循环引用的部分\n    while (length--) {\n      if (aStack[length] === a) {\n        return bStack[length] === b;\n      }\n    }\n    aStack.push(a);\n    bStack.push(b);\n    // 数组判断\n    if (areArrays) {\n      length = a.length;\n      if (length !== b.length) return false;\n      while (length--) {\n        if (!this.isEqual(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      const keys = Object.keys(a);\n      let key;\n      length = keys.length;\n      if (Object.keys(b).length !== length) return false;\n      while (length--) {\n        key = keys[length];\n        if (!(b.hasOwnProperty(key) && this.isEqual(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    aStack.pop();\n    bStack.pop();\n    return true;\n  }\n\n  /**\n   * format string for InnerHTML\n   *\n   * @param {string} inner\n   * @returns {string}\n   * @memberof Utils\n   */\n  public formatInnerHTML(inner: string): string {\n    inner = inner.replace(/(\\n\\s*)/g, '');\n    inner = inner.replace(/^[^\\S\\n]+/gm, '');\n    return inner;\n  }\n\n  /**\n   * judge evn is browser or node\n   *\n   * @returns {boolean}\n   * @memberof Utils\n   */\n  public isBrowser(): boolean {\n    return typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  }\n}\n\nexport default Utils;\n","import { TFnWatcher, TFnRender } from '../types';\n\nimport Utils from '../Utils';\n\nconst utils = new Utils();\n\n/**\n * Watcher for InDiv\n *\n * @class Watcher\n */\nclass Watcher {\n  public data: any;\n  public watcher: TFnWatcher;\n  public render: TFnRender;\n\n  /**\n   * Creates an instance of Watcher.\n   * \n   * data: watched data\n   * watcher: function for data change\n   * render: InDiv render\n   * \n   * @param {*} data\n   * @param {TFnWatcher} [watcher]\n   * @param {TFnRender} [render]\n   * @memberof Watcher\n   */\n  constructor(\n    data: any,\n    watcher?: TFnWatcher,\n    render?: TFnRender,\n  ) {\n    this.data = data;\n    this.watcher = watcher;\n    this.render = render;\n    this.watchData(this.data);\n  }\n\n  public watchData(data: any): void {\n    if (!data || typeof data !== 'object') return;\n    const vm = this;\n    for (const key in data) {\n      let val = data[key];\n      vm.watchData(val);\n      Object.defineProperty(data, key, {\n        configurable: true,\n        enumerable: true,\n        get() {\n          return val;\n        },\n        set(newVal: any) {\n          if (utils.isEqual(newVal, val)) return;\n\n          // for watcher method\n          let oldData;\n          if (vm.watcher) oldData = JSON.parse(JSON.stringify(vm.data));\n\n          val = newVal;\n          vm.watchData(val);\n          if (vm.watcher) vm.watcher(oldData);\n          if (vm.render) vm.render();\n        },\n      });\n    }\n  }\n}\n\nexport default Watcher;\n","import { TFnWatcher } from '../types';\n\nimport Utils from '../Utils';\n\nconst utils = new Utils();\n\n/**\n * watch a key of an Object\n *\n * @class KeyWatcher\n */\nclass KeyWatcher {\n  public data: any;\n  public watcher?: TFnWatcher;\n  public key: string;\n\n  constructor(data: any, key: string, watcher?: TFnWatcher) {\n    this.data = data;\n    this.key = key;\n    this.watcher = watcher;\n    this.watchData(this.data, this.key);\n  }\n\n  public watchData(data: any, key: string): void {\n    if (!data || typeof data !== 'object' || !data[key]) return;\n    const vm = this;\n    let val = data[key];\n    Object.defineProperty(data, key, {\n      configurable: true,\n      enumerable: true,\n      get() {\n        return val;\n      },\n      set(newVal: any) {\n        if (utils.isEqual(newVal, val)) return;\n\n        let oldData;\n        if (vm.watcher) {\n          if (typeof val === 'object') oldData = JSON.parse(JSON.stringify(val));\n          if (typeof val !== 'object' && typeof val !== 'function') oldData = val;\n        }\n\n        val = newVal;\n\n        if (vm.watcher) vm.watcher(oldData);\n      },\n    });\n  }\n}\n\nexport default KeyWatcher;\n","import { IVnode, TAttributes } from '../types';\n\n/**\n * Vnode\n *\n * @class Vnode\n */\nclass Vnode {\n  public tagName?: string;\n  public node?: DocumentFragment | Element;\n  public parentNode?: Node;\n  public attributes?: TAttributes[];\n  public nodeValue?: string | null;\n  public childNodes?: IVnode[] | any[];\n  public type?: string;\n  public value?: string | number;\n  public repeatData?: any;\n  public eventTypes?: string;\n  public key?: any;\n  public checked?: boolean;\n\n  /**\n   * Creates an instance of Vnode.\n   * @param {IVnode} info\n   * @memberof Vnode\n   */\n  constructor(info: IVnode) {\n    this.tagName = info.tagName;\n    this.node = info.node;\n    this.parentNode = info.parentNode;\n    this.attributes = info.attributes;\n    this.childNodes = info.childNodes;\n    this.nodeValue = info.nodeValue;\n    this.type = info.type;\n    this.value = info.value;\n    this.repeatData = info.repeatData;\n    this.eventTypes = info.eventTypes;\n    this.key = info.key;\n    this.checked = false;\n  }\n}\n\n/**\n * bind nodeType and return type\n *\n * @param {Node} node\n * @returns {string}\n */\nfunction bindNodeType(node: Node): string {\n  if (node.nodeType === 1) return 'element';\n  if (node.nodeType === 3) return 'text';\n  if (node.nodeType === 11) return 'document-fragment';\n  return '';\n}\n\n/**\n * bind node attributes and return TAttributes\n *\n * @param {(DocumentFragment | Element)} node\n * @returns {TAttributes[]}\n */\nfunction bindAttributes(node: DocumentFragment | Element): TAttributes[] {\n  const nodeAttrs: NamedNodeMap = (node as Element).attributes;\n  const attributes: TAttributes[] = [];\n  if (nodeAttrs) {\n    Array.from(nodeAttrs).forEach(attr => {\n      attributes.push({\n        name: attr.name,\n        value: attr.value,\n      });\n    });\n  }\n  return attributes;\n}\n\n/**\n * parse node to VNode\n *\n * @param {(DocumentFragment | Element)} node\n * @returns {IVnode}\n */\nexport default function parseToVnode(node: DocumentFragment | Element): IVnode {\n  const childNodes: IVnode[] = [];\n  if (node.childNodes) {\n    Array.from(node.childNodes).forEach((child: Element) => {\n      childNodes.push(parseToVnode(child));\n    });\n  }\n  return new Vnode({\n    tagName: (node as Element).tagName,\n    node: node,\n    parentNode: node.parentNode,\n    attributes: bindAttributes(node),\n    childNodes,\n    nodeValue: node.nodeValue,\n    type: bindNodeType(node),\n    value: (node as Element).value,\n    repeatData: node.repeatData ? node.repeatData : null,\n    eventTypes: node.eventTypes ? node.eventTypes : null,\n    key: node.indiv_repeat_key ? node.indiv_repeat_key : null,\n  });\n}\n","import { IVnode, IPatchList } from '../types';\n\n/**\n * diff childNodes for diff VNode\n * \n * type: 0 removeChild\n * type: 1 change Child index\n *\n * @param {IVnode} newVnode\n * @param {IVnode} oldVnode\n * @param {IPatchList[]} patchList\n * @param {(oldVnode: IVnode, newVnode: IVnode) => boolean} needDiffChildCallback\n */\nfunction diffChildNodes(oldVnode: IVnode, newVnode: IVnode, patchList: IPatchList[], needDiffChildCallback?: (oldVnode: IVnode, newVnode: IVnode) => boolean): void {\n  if (oldVnode.childNodes.length > 0) {\n    (oldVnode.childNodes as IVnode[]).forEach((oChild, index) => {\n      if (oChild.checked) return;\n      const sameCode = newVnode.childNodes.find(nChild => (nChild.node.isEqualNode(oChild.node) && nChild.key === oChild.key && !nChild.checked) || (nChild.tagName === oChild.tagName && nChild.key === oChild.key && !nChild.checked));\n      if (sameCode) {\n        const sameCodeIndex = newVnode.childNodes.findIndex(nChild => nChild === sameCode);\n        if (sameCodeIndex !== index) {\n          patchList.push({\n            type: 1,\n            newIndex: sameCodeIndex,\n            oldVnode: oChild.node,\n            parentNode: oldVnode.node,\n          });\n        }\n        diffVnode(oChild, sameCode, patchList, needDiffChildCallback);\n        sameCode.checked = true;\n      } else {\n        patchList.push({\n          type: 0,\n          node: oChild.node,\n          parentNode: oldVnode.node,\n        });\n      }\n      oChild.checked = true;\n    });\n  }\n\n  if (newVnode.childNodes.length > 0) {\n    (newVnode.childNodes as IVnode[]).forEach((nChild, index) => {\n      if (nChild.checked) return;\n      patchList.push({\n        type: 1,\n        newIndex: index,\n        oldVnode: nChild.node,\n        parentNode: oldVnode.node,\n      });\n      nChild.checked = true;\n    });\n  }\n}\n\n/**\n * diff attributes for diff VNode\n * \n * type: 2 setAttribute\n * type: 3 removeAttribute\n *\n * @param {IVnode} oldVnode\n * @param {IVnode} newVnode\n * @param {IPatchList[]} patchList\n */\nfunction diffAttributes(oldVnode: IVnode, newVnode: IVnode, patchList: IPatchList[]): void {\n  newVnode.attributes.forEach((attr) => {\n    const oldVnodeAttr = oldVnode.attributes.find(at => at.name === attr.name);\n    if (!oldVnodeAttr || oldVnodeAttr.value !== attr.value) {\n      patchList.push({\n        type: 2,\n        node: oldVnode.node,\n        newValue: attr,\n        oldValue: oldVnodeAttr,\n      });\n    }\n  });\n  oldVnode.attributes.forEach((attr) => {\n    const newVnodeAttr = newVnode.attributes.find(at => at.name === attr.name);\n    if (!newVnodeAttr) {\n      patchList.push({\n        type: 3,\n        node: oldVnode.node,\n        oldValue: attr,\n      });\n    }\n  });\n}\n\n/**\n * diff nodeValue for diff VNode\n * \n * type: 4 change text for node\n *\n * @param {IVnode} oldVnode\n * @param {IVnode} newVnode\n * @param {IPatchList[]} patchList\n * @returns {void}\n */\nfunction diffNodeValue(oldVnode: IVnode, newVnode: IVnode, patchList: IPatchList[]): void {\n  if (oldVnode.nodeValue !== newVnode.nodeValue) {\n    patchList.push({\n      type: 4,\n      node: oldVnode.node,\n      newValue: newVnode.nodeValue,\n      oldValue: oldVnode.nodeValue,\n    });\n  }\n}\n\n/**\n * diff value of input, textarea, select for diff VNode\n * \n * type: 5 change value of input\n *\n * @param {IVnode} newVnode\n * @param {IVnode} oldVnode\n * @param {IPatchList[]} patchList\n * @returns {void}\n */\nfunction diffInputValue(oldVnode: IVnode, newVnode: IVnode, patchList: IPatchList[]): void {\n  if (oldVnode.value !== newVnode.value) {\n    patchList.push({\n      type: 5,\n      node: oldVnode.node,\n      newValue: newVnode.value,\n      oldValue: oldVnode.value,\n    });\n  }\n}\n\n/**\n * diff repeatData of repeat node\n * \n * type: 6 change repeatData of node\n *\n * @param {IVnode} newVnode\n * @param {IVnode} oldVnode\n * @param {IPatchList[]} patchList\n * @returns {void}\n */\nfunction diffRepeatData(oldVnode: IVnode, newVnode: IVnode, patchList: IPatchList[]): void {\n  patchList.push({\n    type: 6,\n    node: oldVnode.node,\n    newValue: newVnode.repeatData,\n  });\n}\n\n/**\n * diff event of node\n *\n * type: 7 change event of node\n * type: 8 change eventTypes of node\n * \n * @param {IVnode} oldVnode\n * @param {IVnode} newVnode\n * @param {IPatchList[]} patchList\n */\nfunction diffEventTypes(oldVnode: IVnode, newVnode: IVnode, patchList: IPatchList[]): void {\n  const oEventTypes: string[] = JSON.parse(oldVnode.eventTypes);\n  const nEventTypes: string[] = JSON.parse(newVnode.eventTypes);\n\n  // 全部更新为新的事件\n  if (nEventTypes && nEventTypes.length > 0) {\n    nEventTypes.forEach(neventType => {\n      patchList.push({\n        type: 7,\n        node: oldVnode.node,\n        eventType: neventType,\n        newValue: (newVnode.node as any)[`event${neventType}`],\n      });\n    });\n  }\n\n  if (oEventTypes && oEventTypes.length > 0) {\n    // 如果新事件不存在，则删除事件\n    // 如果新事件找不到旧事件中的事件，则把旧事件的事件删除\n    oEventTypes.forEach(oeventType => {\n      if (!nEventTypes || nEventTypes.length <= 0) {\n        patchList.push({\n          type: 7,\n          node: oldVnode.node,\n          eventType: oeventType,\n          newValue: null,\n        });\n      }\n      if (nEventTypes && nEventTypes.length > 0 && !nEventTypes.find(neventType => neventType === oeventType)) {\n        patchList.push({\n          type: 7,\n          node: oldVnode.node,\n          eventType: oeventType,\n          newValue: null,\n        });\n      }\n    });\n  }\n  // 最后要更新下 eventTypes，否则下次 oldVnode.eventTypes 将为最开始的eventTypes\n  patchList.push({\n    type: 8,\n    node: oldVnode.node,\n    newValue: newVnode.eventTypes,\n  });\n}\n\n/**\n * diff two Vnode\n *\n * if needDiffChildCallback return false, then stop diff childNodes \n * \n * @param {IVnode} oldVnode\n * @param {IVnode} newVnode\n * @param {IPatchList[]} patchList\n * @param {(oldVnode: IVnode, newVnode: IVnode) => boolean} needDiffChildCallback\n * @returns {void}\n */\nexport default function diffVnode(oldVnode: IVnode, newVnode: IVnode, patchList: IPatchList[], needDiffChildCallback?: (oldVnode: IVnode, newVnode: IVnode) => boolean): void {\n  if (!patchList) throw new Error('patchList can not be null, diffVnode must need an Array');\n\n  if (newVnode.type === 'document-fragment') {\n    diffChildNodes(oldVnode, newVnode, patchList, needDiffChildCallback);\n    return;\n  }\n\n  diffAttributes(oldVnode, newVnode, patchList);\n  diffNodeValue(oldVnode, newVnode, patchList);\n  if (oldVnode.tagName === 'INPUT' || oldVnode.tagName === 'TEXTAREA textarea' || oldVnode.tagName === 'INPUT') diffInputValue(oldVnode, newVnode, patchList);\n  diffRepeatData(oldVnode, newVnode, patchList);\n  diffEventTypes(oldVnode, newVnode, patchList);\n\n  if (needDiffChildCallback && !needDiffChildCallback(oldVnode, newVnode)) return;\n  diffChildNodes(oldVnode, newVnode, patchList, needDiffChildCallback);\n}\n","import { TAttributes, IPatchList } from '../types';\n\n/**\n * renderVnode 对比完render node\n * \n * REMOVETAG: 0, 移除dom: 0\n * REMOVETAG: 1, 移动位置: 1\n * ADDATTRIBUTES: 2, 增加属性: 2\n * REPLACEATTRIBUTES: 3, 移除属性: 3\n * TEXT: 4, 更改文字: 4\n * value: 5, 更改 input textarea select value 的值: 5\n * value: 6, 更改 node 的 repeatData: 6, render过来的的被复制的值\n * value: 7, 更改 node 的 event: 7, 修改事件\n * value: 8, 更改 node 的 eventTypes: 8, 修改node的eventTypes\n * \n * @param [] patchList\n */\nexport default function renderVnode(patchList: IPatchList[]): void {\n  patchList.sort((a, b) => {\n    if (a.type === b.type && a.newIndex && b.newIndex) return a.newIndex - b.newIndex;\n    return a.type - b.type;\n  });\n  patchList.forEach(patch => {\n    switch (patch.type) {\n      case 0:\n        patch.parentNode.removeChild(patch.node);\n        break;\n      case 1:\n        if (!(Array.from((patch.parentNode as Element).children).indexOf(patch.oldVnode as Element) === patch.newIndex)) {\n          if (patch.parentNode.contains(patch.oldVnode)) patch.parentNode.removeChild(patch.oldVnode);\n          if (patch.parentNode.childNodes[patch.newIndex]) {\n            patch.parentNode.insertBefore(patch.oldVnode, patch.parentNode.childNodes[patch.newIndex]);\n          } else {\n            patch.parentNode.appendChild(patch.oldVnode);\n          }\n        }\n        break;\n      case 2:\n        (patch.node as Element).setAttribute((patch.newValue as TAttributes).name, (patch.newValue as TAttributes).value);\n        break;\n      case 3:\n        (patch.node as Element).removeAttribute((patch.oldValue as TAttributes).name);\n        break;\n      case 4:\n        patch.node.nodeValue = (patch.newValue as string);\n        break;\n      case 5:\n        (patch.node as Element).value = patch.newValue;\n        break;\n      case 6:\n        patch.node.repeatData = patch.newValue as any;\n        break;\n      case 7:\n        (patch.node as any)[`on${patch.eventType}`] = patch.newValue as any;\n        break;\n      case 8:\n        patch.node.eventTypes = patch.newValue as string;\n        break;\n    }\n  });\n}\n","export { default as parseToVnode } from './parse';\nexport { default as diffVnode } from './diff';\nexport { default as renderVnode } from './render';\n","declare global {\n  interface Element {\n    value?: any;\n    eventTypes?: string;\n    repeatData?: {\n      [key: string]: any;\n    };\n    indiv_repeat_key?: any;\n    isComponent?: boolean;\n  }\n  interface Node {\n    eventTypes?: string;\n    repeatData?: {\n      [key: string]: any;\n    };\n    indiv_repeat_key?: any;\n    isComponent?: boolean;\n  }\n}\n\n/**\n * compile util for nv-repeat DOM\n *\n * @export\n * @class CompileUtilForRepeat\n */\nexport class CompileUtilForRepeat {\n  [index: string]: any;\n  public $fragment?: Element | DocumentFragment;\n\n  /**\n   * Creates an instance of CompileUtilForRepeat.\n   *\n   * @param {(Element | DocumentFragment)} [fragment]\n   * @memberof CompileUtilForRepeat\n   */\n  constructor(fragment?: Element | DocumentFragment) {\n    this.$fragment = fragment;\n  }\n\n  /**\n   * get value by key and anthor value\n   *\n   * @param {*} vm\n   * @param {string} exp\n   * @param {string} key\n   * @returns {*}\n   * @memberof CompileUtilForRepeat\n   */\n  public _getValueByValue(vm: any, exp: string, key: string): any {\n    const valueList = exp.replace('()', '').split('.');\n    let value = vm;\n    valueList.forEach((v, index) => {\n      if (v === key && index === 0) return;\n      value = value[v];\n    });\n    return value;\n  }\n\n  /**\n   * set value by key and anthor value\n   *\n   * @param {*} vm\n   * @param {string} exp\n   * @param {string} key\n   * @param {*} setValue\n   * @returns {*}\n   * @memberof CompileUtilForRepeat\n   */\n  public _setValueByValue(vm: any, exp: string, key: string, setValue: any): any {\n    const valueList = exp.replace('()', '').split('.');\n    let value = vm;\n    let lastKey;\n    valueList.forEach((v, index) => {\n      if (v === key && index === 0) return lastKey = v;\n      if (index < valueList.length) lastKey = v;\n      if (index < valueList.length - 1 ) value = value[v];\n    });\n    if (lastKey) value[lastKey] = setValue;\n  }\n\n  /**\n   * get value of VM\n   *\n   * @param {*} vm\n   * @param {string} exp\n   * @returns {*}\n   * @memberof CompileUtilForRepeat\n   */\n  public _getVMVal(vm: any, exp: string): any {\n    const valueList = exp.replace('()', '').split('.');\n    let value = vm;\n    valueList.forEach(v => {\n      value = value[v];\n    });\n    return value;\n  }\n\n  /**\n   * get value by repeat value\n   *\n   * @param {*} val\n   * @param {string} exp\n   * @param {string} key\n   * @returns {*}\n   * @memberof CompileUtilForRepeat\n   */\n  public _getVMRepeatVal(val: any, exp: string, key: string): any {\n    let value: any;\n    const valueList = exp.replace('()', '').split('.');\n    valueList.forEach((v, index) => {\n      if (v === key && index === 0) {\n        value = val;\n        return;\n      }\n      value = value[v];\n    });\n    return value;\n  }\n\n  /**\n   * get Function for vm\n   *\n   * @param {*} vm\n   * @param {string} exp\n   * @returns {Function}\n   * @memberof CompileUtil\n   */\n  public _getVMFunction(vm: any, exp: string): Function {\n    const fnList = exp.replace(/^(\\@)/, '').replace(/\\(.*\\)/, '').split('.');\n    let fn = vm;\n    fnList.forEach(f => {\n      fn = fn[f];\n    });\n    return fn as Function;\n  }\n\n  /**\n   * get Function arguments for vm\n   *\n   * @param {*} vm\n   * @param {string} exp\n   * @param {Element} node\n   * @param {string} key\n   * @param {*} val\n   * @returns {any[]}\n   * @memberof CompileUtilForRepeat\n   */\n  public _getVMFunctionArguments(vm: any, exp: string, node: Element, key?: string, val?: any): any[] {\n    const args = exp.replace(/^(\\@)/, '').match(/\\((.*)\\)/)[1].replace(/\\s+/g, '').split(',');\n    const argsList: any[] = [];\n    const utilVm = this;\n    args.forEach(arg => {\n      if (arg === '') return false;\n      if (arg === '$element') return argsList.push(node);\n      if (arg === 'true' || arg === 'false') return argsList.push(arg === 'true');\n      if (/(state.).*/g.test(arg)) return argsList.push(utilVm._getVMVal(vm, arg));\n      if (/\\'.*\\'/g.test(arg)) return argsList.push(arg.match(/\\'(.*)\\'/)[1]);\n      if (!/\\'.*\\'/g.test(arg) && /^[0-9]*$/g.test(arg)) return argsList.push(Number(arg));\n      if (arg.indexOf(key) === 0 || arg.indexOf(`${key}.`) === 0) return argsList.push(utilVm._getVMRepeatVal(val, arg, key));\n      if (node.repeatData) {\n        // $index in this\n        Object.keys(node.repeatData).forEach(data => {\n          if (arg.indexOf(data) === 0 || arg.indexOf(`${data}.`) === 0) return argsList.push(utilVm._getValueByValue(node.repeatData[data], arg, data));\n        });\n      }\n    });\n    return argsList;\n  }\n\n  /**\n   * bind handler for nv irective\n   *\n   * @param {Element} node\n   * @param {string} [key]\n   * @param {string} [dir]\n   * @param {string} [exp]\n   * @param {number} [index]\n   * @param {*} [vm]\n   * @param {*} [watchValue]\n   * @memberof CompileUtilForRepeat\n   */\n  public bind(node: Element, key?: string, dir?: string, exp?: string, index?: number, vm?: any, watchValue?: any, val?: any): void {\n    const repeatValue = (node.repeatData)[key];\n    let value;\n    if (/^(\\@)/.test(exp)) {\n      if (dir === 'model') throw new Error(`directive: nv-model can't use ${exp} as value`);\n      // if @Function need function return value\n      const fn = this._getVMFunction(vm, exp);\n      const argsList = this._getVMFunctionArguments(vm, exp, node, key, val);\n      value = fn.apply(vm, argsList);\n    } else if (exp.indexOf(key) === 0 || exp.indexOf(`${key}.`) === 0) {\n      // repeat value\n      value = this._getVMRepeatVal(repeatValue, exp, key);\n    } else if (/(state.).*/.test(exp)) {\n      // normal value\n      value = this._getVMVal(vm, exp);\n    } else if (exp === '$index') {\n      value = index;\n    } else {\n      throw new Error(`directive: nv-${dir} can't use recognize this value ${exp}`);\n    }\n\n    if (!node.hasChildNodes()) this.templateUpdater(node, repeatValue, key, vm);\n\n    const updaterFn: any = this[`${dir}Updater`];\n    switch (dir) {\n      case 'model':\n        let watchData;\n        if (exp.indexOf(key) === 0 || exp.indexOf(`${key}.`) === 0) {\n          watchData = watchValue;\n        } else {\n          watchData = this._getVMVal(vm, exp);\n        }\n        if (updaterFn) (updaterFn as Function).call(this, node, value, exp, key, index, watchData, vm);\n        break;\n      case 'text':\n        if (updaterFn) (updaterFn as Function).call(this, node, value);\n        break;\n      case 'html':\n        if (updaterFn) (updaterFn as Function).call(this, node, value);\n        break;\n      case 'if':\n        if (updaterFn) (updaterFn as Function).call(this, node, value);\n        break;\n      case 'class':\n        if (updaterFn) (updaterFn as Function).call(this, node, value);\n        break;\n      case 'key':\n        if (updaterFn) (updaterFn as Function).call(this, node, value);\n        break;\n      default:\n        this.commonUpdater.call(this, node, value, dir);\n    }\n  }\n\n  /**\n   * update text for {{}}\n   *\n   * @param {Element} node\n   * @param {*} [val]\n   * @param {string} [key]\n   * @param {*} [vm]\n   * @memberof CompileUtilForRepeat\n   */\n  public templateUpdater(node: Element, val?: any, key?: string, vm?: any): void {\n    const text = node.textContent;\n    const reg = /\\{\\{(.*)\\}\\}/g;\n    if (reg.test(text)) {\n      const textList = text.match(/(\\{\\{[^\\{\\}]+?\\}\\})/g);\n      if (textList && textList.length > 0) {\n        for (let i = 0; i < textList.length; i++) {\n          const exp = textList[i].replace('{{', '').replace('}}', '');\n          let value = null;\n          if (/^(\\@)/.test(exp)) {\n            const fn = this._getVMFunction(vm, exp);\n            const argsList = this._getVMFunctionArguments(vm, exp, node, key, val);\n            value = fn.apply(vm, argsList);\n          } else if (exp.indexOf(key) === 0 || exp.indexOf(`${key}.`) === 0) {\n            value = this._getVMRepeatVal(val, exp, key);\n          } else if (/(state.).*/.test(exp)) {\n            value = this._getVMVal(vm, exp);\n          } else {\n            throw new Error(`directive: {{.*}} can\\'t use recognize ${exp}`);\n          }\n          node.textContent = node.textContent.replace(textList[i], value);\n        }\n      }\n    }\n  }\n\n  /**\n   * update value of input for nv-model\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @param {string} exp\n   * @param {string} key\n   * @param {number} index\n   * @param {*} watchData\n   * @param {*} vm\n   * @memberof CompileUtilForRepeat\n   */\n  public modelUpdater(node: Element, value: any, exp: string, key: string, index: number, watchData: any, vm: any): void {\n    node.value = typeof value === 'undefined' ? '' : value;\n    const utilVm = this;\n    const func = function(event: Event): void {\n      event.preventDefault();\n      if (/(state.).*/.test(exp)) {\n        const val = exp.replace(/(state.)/, '');\n        if ((event.target as HTMLInputElement).value === watchData) return;\n        vm.state[val] = (event.target as HTMLInputElement).value;\n      } else if (exp.indexOf(key) === 0 || exp.indexOf(`${key}.`) === 0) {\n        if (typeof watchData[index] !== 'object') watchData[index] = (event.target as HTMLInputElement).value;\n        if (typeof watchData[index] === 'object') {\n          let vals = utilVm._getValueByValue(watchData[index], exp, key);\n          vals = (event.target as HTMLInputElement).value;\n          utilVm._setValueByValue(watchData[index], exp, key, vals);\n        }\n      } else {\n        throw new Error('directive: nv-model can\\'t use recognize this value');\n      }\n    };\n\n    (node as any).oninput = func;\n    (node as any).eventinput = func;\n    if (node.eventTypes) {\n      const eventlist = JSON.parse(node.eventTypes);\n      eventlist.push('input');\n      node.eventTypes = JSON.stringify(eventlist);\n    }\n    if (!node.eventTypes) node.eventTypes = JSON.stringify(['input']);\n  }\n\n  /**\n   * update text for nv-text\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @returns {void}\n   * @memberof CompileUtilForRepeat\n   */\n  public textUpdater(node: Element, value: any): void {\n    if (node.tagName.toLocaleLowerCase() === 'input') return node.value = value;\n    node.textContent = typeof value === 'undefined' ? '' : value;\n  }\n\n  /**\n   * update html for nv-html\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @memberof CompileUtilForRepeat\n   */\n  public htmlUpdater(node: Element, value: any): void {\n    node.innerHTML = typeof value === 'undefined' ? '' : value;\n  }\n\n  /**\n   * remove or show DOM for nv-if\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @memberof CompileUtilForRepeat\n   */\n  public ifUpdater(node: Element, value: any): void {\n    if (!value && this.$fragment.contains(node)) this.$fragment.removeChild(node);\n  }\n\n  /**\n   * update class for nv-class\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @returns {void}\n   * @memberof CompileUtilForRepeat\n   */\n  public classUpdater(node: Element, value: any): void {\n    if (!value) return;\n    let className = node.className;\n    className = className.replace(/\\s$/, '');\n    const space = className && String(value) ? ' ' : '';\n    node.className = className + space + value;\n  }\n\n  /**\n   * update value of repeat node for nv-key\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @memberof CompileUtilForRepeat\n   */\n  public keyUpdater(node: Element, value: any): void {\n    node.indiv_repeat_key = value;\n  }\n\n  /**\n   * commonUpdater for nv directive except repeat model text html if class\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @param {string} dir\n   * @memberof CompileUtil\n   */\n  public commonUpdater(node: Element, value: any, dir: string): void {\n    if (value) (node as any)[dir] = value;\n    if (!value && (node as any)[dir]) (node as any)[dir] = null;\n  }\n\n  /**\n   * compile event and build eventType in DOM\n   *\n   * @param {Element} node\n   * @param {*} vm\n   * @param {string} exp\n   * @param {string} eventName\n   * @param {string} key\n   * @param {*} val\n   * @memberof CompileUtilForRepeat\n   */\n  public eventHandler(node: Element, vm: any, exp: string, eventName: string, key: string, val: any): void {\n    const eventType = eventName.split(':')[1];\n\n    const fn = this._getVMFunction(vm, exp);\n\n    const args = exp.replace(/^(\\@)/, '').match(/\\((.*)\\)/)[1].replace(/ /g, '').split(',');\n\n    const utilVm = this;\n    const func = function(event: Event): any {\n      const argsList: any[] = [];\n      args.forEach(arg => {\n        if (arg === '') return false;\n        if (arg === '$event') return argsList.push(event);\n        if (arg === '$element') return argsList.push(node);\n        if (arg === 'true' || arg === 'false') return argsList.push(arg === 'true');\n        if (/(state.).*/g.test(arg)) return argsList.push(utilVm._getVMVal(vm, arg));\n        if (/\\'.*\\'/g.test(arg)) return argsList.push(arg.match(/\\'(.*)\\'/)[1]);\n        if (!/\\'.*\\'/g.test(arg) && /^[0-9]*$/g.test(arg)) return argsList.push(Number(arg));\n        if (arg.indexOf(key) === 0 || arg.indexOf(`${key}.`) === 0) return argsList.push(utilVm._getVMRepeatVal(val, arg, key));\n        if (this.repeatData) {\n          // $index in this\n          Object.keys(this.repeatData).forEach(data => {\n            if (arg.indexOf(data) === 0 || arg.indexOf(`${data}.`) === 0) return argsList.push(utilVm._getValueByValue(this.repeatData[data], arg, data));\n          });\n        }\n      });\n      fn.apply(vm, argsList);\n    };\n    if (eventType && fn) {\n      (node as any)[`on${eventType}`] = func;\n      (node as any)[`event${eventType}`] = func;\n      if (node.eventTypes) {\n        const eventlist = JSON.parse(node.eventTypes);\n        eventlist.push(eventType);\n        node.eventTypes = JSON.stringify(eventlist);\n      }\n      if (!node.eventTypes) node.eventTypes = JSON.stringify([eventType]);\n    }\n  }\n}\n\n/**\n * compile util for Compiler\n *\n * @export\n * @class CompileUtil\n */\nexport class CompileUtil {\n  [index: string]: any;\n  public $fragment?: Element | DocumentFragment;\n\n  /**\n   * Creates an instance of CompileUtil.\n   *\n   * @param {(Element | DocumentFragment)} [fragment]\n   *  @memberof CompileUtil\n   */\n  constructor(fragment?: Element | DocumentFragment) {\n    this.$fragment = fragment;\n  }\n\n  /**\n   * get value by key and anthor value\n   *\n   * @param {*} vm\n   * @param {string} exp\n   * @param {string} key\n   * @returns {*}\n   * @memberof CompileUtil\n   */\n  public _getValueByValue(vm: any, exp: string, key: string): any {\n    const valueList = exp.replace('()', '').split('.');\n    let value = vm;\n    valueList.forEach((v, index) => {\n      if (v === key && index === 0) return;\n      value = value[v];\n    });\n    return value;\n  }\n\n  /**\n   * get value of VM\n   *\n   * @param {*} vm\n   * @param {string} exp\n   * @returns {*}\n   * @memberof CompileUtil\n   */\n  public _getVMVal(vm: any, exp: string): any {\n    const valueList = exp.replace('()', '').split('.');\n    let value = vm;\n    valueList.forEach(v => {\n      value = value[v];\n    });\n    return value;\n  }\n\n  /**\n   * get value by repeat value\n   *\n   * @param {*} vm\n   * @param {string} exp\n   * @returns {void}\n   * @memberof CompileUtil\n   */\n  public _getVMRepeatVal(vm: any, exp: string): void {\n    const vlList = exp.split(' ');\n    const value = this._getVMVal(vm, vlList[3]);\n    return value;\n  }\n\n  /**\n   * get Function for vm\n   *\n   * @param {*} vm\n   * @param {string} exp\n   * @returns {Function}\n   * @memberof CompileUtil\n   */\n  public _getVMFunction(vm: any, exp: string): Function {\n    const fnList = exp.replace(/^(\\@)/, '').replace(/\\(.*\\)/, '').split('.');\n    let fn = vm;\n    fnList.forEach(f => {\n      fn = fn[f];\n    });\n    return fn as Function;\n  }\n\n  /**\n   * get Function arguments for vm\n   *\n   * @param {*} vm\n   * @param {string} exp\n   * @param {Element} node\n   * @returns {any[]}\n   * @memberof CompileUtil\n   */\n  public _getVMFunctionArguments(vm: any, exp: string, node: Element): any[] {\n    const args = exp.replace(/^(\\@)/, '').match(/\\((.*)\\)/)[1].replace(/\\s+/g, '').split(',');\n    const argsList: any[] = [];\n    args.forEach(arg => {\n      if (arg === '') return false;\n      if (arg === '$element') return argsList.push(node);\n      if (arg === 'true' || arg === 'false') return argsList.push(arg === 'true');\n      if (/(state.).*/g.test(arg)) return argsList.push(new CompileUtil()._getVMVal(vm, arg));\n      if (/\\'.*\\'/g.test(arg)) return argsList.push(arg.match(/\\'(.*)\\'/)[1]);\n      if (!/\\'.*\\'/g.test(arg) && /^[0-9]*$/g.test(arg)) return argsList.push(Number(arg));\n    });\n    return argsList;\n  }\n\n  /**\n   * bind handler for nv irective\n   *\n   * if node is repeat node and it will break compile and into CompileUtilForRepeat\n   *\n   * @param {Element} node\n   * @param {*} vm\n   * @param {string} exp\n   * @param {string} dir\n   * @memberof CompileUtil\n   */\n  public bind(node: Element, vm: any, exp: string, dir: string): void {\n    const updaterFn = this[`${dir}Updater`];\n    const isRepeatNode = this.isRepeatNode(node);\n    if (isRepeatNode) {\n      // compile repeatNode's attributes\n      switch (dir) {\n        case 'repeat':\n          if (updaterFn) (updaterFn as Function).call(this, node, this._getVMRepeatVal(vm, exp), exp, vm);\n          break;\n      }\n    } else { \n      let value = null;\n      // for @Function(arg)\n      if (/^(\\@)/.test(exp)) {\n        if (dir === 'model') throw new Error(`directive: nv-model can't use ${exp} as value`);\n        // if @Function need function return value\n        const fn = this._getVMFunction(vm, exp);\n        const argsList = this._getVMFunctionArguments(vm, exp, node);\n        value = fn.apply(vm, argsList);\n      } else if (/(state.).*/.test(exp)) {\n        // normal value\n        value = this._getVMVal(vm, exp);\n      } else {\n        throw new Error(`directive: nv-${dir} can't use recognize this value ${exp}`);\n      }\n\n      // compile unrepeatNode's attributes\n      switch (dir) {\n        case 'model':\n          if (updaterFn) (updaterFn as Function).call(this, node, value, exp, vm);\n          break;\n        case 'text':\n          if (updaterFn) (updaterFn as Function).call(this, node, value);\n          break;\n        case 'html':\n          if (updaterFn) (updaterFn as Function).call(this, node, value);\n          break;\n        case 'if':\n          if (updaterFn) (updaterFn as Function).call(this, node, value);\n          break;\n        case 'class':\n          if (updaterFn) (updaterFn as Function).call(this, node, value);\n          break;\n        case 'key':\n          if (updaterFn) (updaterFn as Function).call(this, node, value);\n          break;\n        default:\n          this.commonUpdater.call(this, node, value, dir);\n      }\n      node.removeAttribute(`nv-${dir}`);\n    }\n  }\n\n  /**\n   * update text for {{}}\n   *\n   * @param {*} node\n   * @param {*} vm\n   * @param {string} exp\n   * @memberof CompileUtil\n   */\n  public templateUpdater(node: any, vm: any, exp: string): void {\n    const _exp = exp.replace('{{', '').replace('}}', '');\n    let value = null;\n    if (/^(\\@)/.test(_exp)) {\n      const fn = this._getVMFunction(vm, _exp);\n      const argsList = this._getVMFunctionArguments(vm, _exp, node);\n      value = fn.apply(vm, argsList);\n    } else if (/(state.).*/.test(exp)) {\n      value = this._getVMVal(vm, _exp);\n    } else {\n      throw new Error('directive: {{.*}} can\\'t use recognize this value');\n    }\n    node.textContent = node.textContent.replace(exp, value);\n  }\n\n  /**\n   * update value of input for nv-model\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @param {string} exp\n   * @param {*} vm\n   * @memberof CompileUtil\n   */\n  public modelUpdater(node: Element, value: any, exp: string, vm: any): void {\n    node.value = typeof value === 'undefined' ? '' : value;\n\n    const val = exp.replace(/(state.)/, '');\n\n    const func = (event: Event) => {\n      event.preventDefault();\n      if (/(state.).*/.test(exp)) vm.state[val] = (event.target as HTMLInputElement).value;\n    };\n\n    (node as any).oninput = func;\n    (node as any).eventinput = func;\n    if (node.eventTypes) {\n      const eventlist = JSON.parse(node.eventTypes);\n      eventlist.push('input');\n      node.eventTypes = JSON.stringify(eventlist);\n    }\n    if (!node.eventTypes) node.eventTypes = JSON.stringify(['input']);\n  }\n\n  /**\n   * update text for nv-text\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @returns {void}\n   * @memberof CompileUtil\n   */\n  public textUpdater(node: Element, value: any): void {\n    if (node.tagName.toLocaleLowerCase() === 'input') return node.value = value;\n    node.textContent = typeof value === 'undefined' ? '' : value;\n  }\n\n  /**\n   * update html for nv-html\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @memberof CompileUtil\n   */\n  public htmlUpdater(node: Element, value: any): void {\n    node.innerHTML = typeof value === 'undefined' ? '' : value;\n  }\n\n  /**\n   * remove or show DOM for nv-if\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @memberof CompileUtil\n   */\n  public ifUpdater(node: Element, value: any): void {\n    if (!value && this.$fragment.contains(node)) this.$fragment.removeChild(node);\n  }\n\n  /**\n   * update class for nv-class\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @returns {void}\n   * @memberof CompileUtil\n   */\n  public classUpdater(node: Element, value: any): void {\n    if (!value) return;\n    let className = node.className;\n    className = className.replace(/\\s$/, '');\n    const space = className && String(value) ? ' ' : '';\n    node.className = className + space + value;\n  }\n\n  /**\n   * update value of repeat node for nv-key\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @memberof CompileUtilForRepeat\n   */\n  public keyUpdater(node: Element, value: any): void {\n    node.indiv_repeat_key = value;\n  }\n\n  /**\n   * commonUpdater for nv directive except repeat model text html if class\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @param {string} dir\n   * @memberof CompileUtil\n   */\n  public commonUpdater(node: Element, value: any, dir: string): void {\n    if (value) (node as any)[dir] = value;\n    if (!value && (node as any)[dir]) (node as any)[dir] = null;\n  }\n\n  /**\n   * update repeat DOM for nv-repeat\n   *\n   * if it has child and it will into repeatChildrenUpdater\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @param {string} expFather\n   * @param {*} vm\n   * @memberof CompileUtil\n   */\n  public repeatUpdater(node: Element, value: any, expFather: string, vm: any): void {\n    if (!value) return;\n    if (value && !(value instanceof Array)) throw new Error('compile error: nv-repeat need an Array!');\n\n    const key = expFather.split(' ')[1];\n    value.forEach((val: any, index: number) => {\n      const repeatData: { [key: string]: any } = {};\n      repeatData[key] = val;\n      repeatData.$index = index;\n      const newElement = this.cloneNode(node, repeatData);\n      const nodeAttrs = (newElement as Element).attributes;\n      const text = newElement.textContent;\n      const reg = /\\{\\{(.*)\\}\\}/g;\n\n      this.$fragment.insertBefore(newElement, node);\n\n      (newElement as Element).removeAttribute('nv-repeat');\n\n      if (this.isTextNode((newElement as Element)) && reg.test(text)) new CompileUtilForRepeat(this.$fragment).templateUpdater(newElement as Element, val, key, vm);\n\n      if (nodeAttrs) {\n        Array.from(nodeAttrs).forEach(attr => {\n          const attrName = attr.name;\n          if (this.isDirective(attrName) && attrName !== 'nv-repeat') {\n            const dir = attrName.substring(3);\n            const exp = attr.value;\n            if (this.isEventDirective(dir)) {\n              new CompileUtilForRepeat(this.$fragment).eventHandler(newElement as Element, vm, exp, dir, key, val);\n            } else {\n              new CompileUtilForRepeat(this.$fragment).bind(newElement as Element, key, dir, exp, index, vm, value, val);\n            }\n\n            (newElement as Element).removeAttribute(attrName);\n          }\n        });\n      }\n\n      // first insert node before repeatnode, and remove repeatnode in Compile\n      if (newElement.hasChildNodes() && this.$fragment.contains(newElement)) this.repeatChildrenUpdater((newElement as Element), val, expFather, index, vm, value);\n    });\n  }\n\n  /**\n   * update child of nv-repeat DOM\n   *\n   * if child is an nv-repeat DOM, it will into CompileUtil repeatUpdater\n   *\n   * @param {Element} node\n   * @param {*} value\n   * @param {string} expFather\n   * @param {number} index\n   * @param {*} vm\n   * @param {*} watchValue\n   * @memberof CompileUtil\n   */\n  public repeatChildrenUpdater(node: Element, value: any, expFather: string, index: number, vm: any, watchValue: any): void {\n    const key = expFather.split(' ')[1];\n    Array.from(node.childNodes).forEach((child: Element) => {\n      if (this.isElementNode(child) && vm.$components.find((component: any) => component.$selector === child.tagName.toLocaleLowerCase())) child.isComponent = true;\n\n      child.repeatData = node.repeatData || {};\n      child.repeatData[key] = value;\n      child.repeatData.$index = index;\n      if (this.isRepeatProp(child)) child.setAttribute(`_prop-${key}`, JSON.stringify(value));\n\n      const nodeAttrs = child.attributes;\n      const text = child.textContent;\n      const reg = /\\{\\{(.*)\\}\\}/g;\n\n      if (this.isTextNode((child as Element)) && reg.test(text)) new CompileUtilForRepeat(node).templateUpdater(child, value, key, vm);\n      if (nodeAttrs) {\n        Array.from(nodeAttrs).forEach(attr => {\n          const attrName = attr.name;\n          const exp = attr.value;\n          const dir = attrName.substring(3);\n          if (this.isDirective(attrName) && attrName !== 'nv-repeat' && new RegExp(`(^${key})|(^state)|(^@)`).test(exp)) {\n            if (this.isEventDirective(dir)) {\n              new CompileUtilForRepeat(node).eventHandler(child, vm, exp, dir, key, value);\n            } else {\n              new CompileUtilForRepeat(node).bind(child, key, dir, exp, index, vm, watchValue, value);\n            }\n            child.removeAttribute(attrName);\n          }\n        });\n      }\n\n      if (child.hasChildNodes() && !this.isRepeatNode(child) && node.contains(child)) this.repeatChildrenUpdater(child, value, expFather, index, vm, watchValue);\n\n      const newAttrs = child.attributes;\n      if (newAttrs && node.contains(child)) {\n        const restRepeat = Array.from(newAttrs).find(attr => this.isDirective(attr.name) && attr.name === 'nv-repeat');\n        if (restRepeat) {\n          const newWatchData = restRepeat.value.split(' ')[3];\n          // first compile and then remove repeatNode\n          if (/^(state\\.)/.test(newWatchData)) {\n            new CompileUtil(node).bind(child, vm, restRepeat.value, restRepeat.name.substring(3));\n            if (node.contains(child)) node.removeChild(child);\n          }\n          if (new RegExp(`(^${key})`).test(newWatchData)) {\n            new CompileUtil(node).repeatUpdater(child, this._getValueByValue(value, newWatchData, key), restRepeat.value, vm);\n            if (node.contains(child)) node.removeChild(child);\n          }\n\n          node.removeAttribute('nv-repeat');\n        }\n      }\n    });\n  }\n\n  /**\n   * compile event and build eventType in DOM\n   *\n   * @param {Element} node\n   * @param {*} vm\n   * @param {string} exp\n   * @param {string} eventName\n   * @memberof Compile\n   */\n  public eventHandler(node: Element, vm: any, exp: string, eventName: string): void {\n    const eventType = eventName.split(':')[1];\n\n    const fn = this._getVMFunction(vm, exp);\n\n    const args = exp.replace(/^(\\@)/, '').match(/\\((.*)\\)/)[1].replace(/\\s+/g, '').split(',');\n\n    const func = function(event: Event): void {\n      const argsList: any[] = [];\n      args.forEach(arg => {\n        if (arg === '') return false;\n        if (arg === '$event') return argsList.push(event);\n        if (arg === '$element') return argsList.push(node);\n        if (arg === 'true' || arg === 'false') return argsList.push(arg === 'true');\n        if (/(state.).*/g.test(arg)) return argsList.push(new CompileUtil()._getVMVal(vm, arg));\n        if (/\\'.*\\'/g.test(arg)) return argsList.push(arg.match(/\\'(.*)\\'/)[1]);\n        if (!/\\'.*\\'/g.test(arg) && /^[0-9]*$/g.test(arg)) return argsList.push(Number(arg));\n      });\n      fn.apply(vm, argsList);\n    };\n    if (eventType && fn) {\n      (node as any)[`on${eventType}`] = func;\n      (node as any)[`event${eventType}`] = func;\n      if (node.eventTypes) {\n        const eventlist = JSON.parse(node.eventTypes);\n        eventlist.push(eventType);\n        node.eventTypes = JSON.stringify(eventlist);\n      }\n      if (!node.eventTypes) node.eventTypes = JSON.stringify([eventType]);\n    }\n  }\n\n  /**\n   * judge attribute is nv directive or not\n   *\n   * @param {string} attr\n   * @returns {boolean}\n   * @memberof CompileUtil\n   */\n  public isDirective(attr: string): boolean {\n    return attr.indexOf('nv-') === 0;\n  }\n\n  /**\n   * judge attribute is nv event directive or not\n   *\n   * @param {string} event\n   * @returns {boolean}\n   * @memberof CompileUtil\n   */\n  public isEventDirective(event: string): boolean {\n    return event.indexOf('on') === 0;\n  }\n\n  /**\n   * judge DOM is a element node or not\n   *\n   * @param {Element} node\n   * @returns {boolean}\n   * @memberof CompileUtil\n   */\n  public isElementNode(node: Element): boolean {\n    return node.nodeType === 1;\n  }\n\n  /**\n   * judge DOM is nv-repeat DOM or not\n   *\n   * @param {Element} node\n   * @returns {boolean}\n   * @memberof CompileUtil\n   */\n  public isRepeatNode(node: Element): boolean {\n    const nodeAttrs = node.attributes;\n    let result = false;\n    if (nodeAttrs) {\n      Array.from(nodeAttrs).forEach(attr => {\n        const attrName = attr.name;\n        if (attrName === 'nv-repeat') result = true;\n      });\n    }\n    return result;\n  }\n\n  /**\n   * judge DOM is a Component DOM in a repeat DOM or not\n   *\n   * @param {Element} node\n   * @returns {boolean}\n   * @memberof CompileUtil\n   */\n  public isRepeatProp(node: Element): boolean {\n    const nodeAttrs = node.attributes;\n    const result = false;\n    if (nodeAttrs) return !!(Array.from(nodeAttrs).find(attr => /^\\{(.+)\\}$/.test(attr.value)));\n    return result;\n  }\n\n  /**\n   * judge DOM is text node or not\n   *\n   * @param {Element} node\n   * @returns {boolean}\n   * @memberof CompileUtil\n   */\n  public isTextNode(node: Element): boolean {\n    return node.nodeType === 3;\n  }\n\n  /**\n   * clone Node and clone it event\n   *\n   * event by attribute in DOM: eventTypes\n   * repeat data by attribute in DOM: repeatData\n   * isComponent: clone Component need add isComponent=true\n   *\n   * @param {Element} node\n   * @param {*} [repeatData]\n   * @returns {Node}\n   * @memberof CompileUtil\n   */\n  public cloneNode(node: Element, repeatData?: any): Node {\n    const newElement = node.cloneNode(true);\n    if (node.eventTypes) {\n      JSON.parse(node.eventTypes).forEach((eventType: string) => {\n        (newElement as any)[`on${eventType}`] = (node as any)[`event${eventType}`];\n        (newElement as any)[`event${eventType}`] = (node as any)[`event${eventType}`];\n      });\n      newElement.eventTypes = node.eventTypes;\n    }\n    if (repeatData) newElement.repeatData = repeatData;\n    if (node.isComponent) newElement.isComponent = true;\n    return newElement;\n  }\n}\n","import { IPatchList, IVnode } from '../types';\n\nimport { parseToVnode, diffVnode, renderVnode } from '../VirtualDOM';\nimport Utils from '../Utils';\nimport { CompileUtil } from '../CompileUtils';\n\nconst utils = new Utils();\n\n/**\n * main compiler\n *\n * @class Compile\n */\nclass Compile {\n  public utils: Utils;\n  public $vm: any;\n  public $el: Element;\n  public $fragment: DocumentFragment;\n\n  /**\n   * Creates an instance of Compile.\n   * @param {(string | Element)} el\n   * @param {*} vm\n   * @memberof Compile\n   */\n  constructor(el: string | Element, vm: any) {\n    this.$vm = vm;\n    this.$el = this.isElementNode(el) ? el as Element : document.querySelector(el as string);\n    if (this.$el) {\n      this.$fragment = this.node2Fragment();\n      this.init();\n\n      let oldVnode = parseToVnode(this.$el);\n      let newVnode = parseToVnode(this.$fragment);\n      let patchList: IPatchList[] = [];\n      diffVnode(oldVnode, newVnode, patchList, this.needDiffChildCallback.bind(this));\n      renderVnode(patchList);\n\n      this.$fragment = null;\n      oldVnode = null;\n      newVnode = null;\n      patchList = null;\n    }\n  }\n\n  /**\n   * needDiffChildCallback for Virtual DOM diff\n   * \n   * if newVnode.node.isComponent no need diff children\n   * if newVnode.tagName and oldVnode.tagName no need diff children\n   *\n   * @param {IVnode} oldVnode\n   * @param {IVnode} newVnode\n   * @returns {boolean}\n   * @memberof Compile\n   */\n  public needDiffChildCallback(oldVnode: IVnode, newVnode: IVnode): boolean {\n    // 如果为组件，则停止对比内部元素，交由对应组件diff\n    if (newVnode.node.isComponent && oldVnode.node) {\n      oldVnode.node.isComponent = true;\n      return false;\n    }\n    // 如果为路由渲染层，则停止对比内部元素，交由router diff\n    if (oldVnode.tagName === newVnode.tagName && newVnode.tagName === (this.$vm.$vm.$routeDOMKey as string).toLocaleUpperCase()) return false;\n    return true;\n  }\n\n  /**\n   * init compile\n   *\n   * @memberof Compile\n   */\n  public init(): void {\n    this.compileElement(this.$fragment);\n  }\n\n  /**\n   * compile element\n   *\n   * @param {DocumentFragment} fragment\n   * @memberof Compile\n   */\n  public compileElement(fragment: DocumentFragment): void {\n    const elementCreated = document.createElement('div');\n    elementCreated.innerHTML = utils.formatInnerHTML(this.$vm.$template);\n    const childNodes = elementCreated.childNodes;\n    this.recursiveDOM(childNodes, fragment);\n  }\n\n  /**\n   * recursive DOM for New State\n   *\n   * @param {(NodeListOf<Node & ChildNode>)} childNodes\n   * @param {(DocumentFragment | Element)} fragment\n   * @memberof Compile\n   */\n  public recursiveDOM(childNodes: NodeListOf<Node & ChildNode>, fragment: DocumentFragment | Element): void {\n    Array.from(childNodes).forEach((node: Element) => {\n      if (this.isElementNode(node) && this.$vm.$components.find((component: any) => component.$selector === node.tagName.toLocaleLowerCase())) node.isComponent = true;\n\n      if (node.hasChildNodes() && !this.isRepeatNode(node)) this.recursiveDOM(node.childNodes, node);\n\n      fragment.appendChild(node);\n\n      const text = node.textContent;\n      const reg = /\\{\\{(.*)\\}\\}/g;\n      if (this.isElementNode(node)) this.compile(node, fragment);\n\n      if (this.isTextNode(node) && reg.test(text)) {\n        const textList = text.match(/(\\{\\{[^\\{\\}]+?\\}\\})/g);\n        if (textList && textList.length > 0) {\n          for (let i = 0; i < textList.length; i++) {\n              this.compileText(node, textList[i]);\n          }\n        }\n      }\n\n      // after compile repeatNode, remove repeatNode\n      if (this.isRepeatNode(node) && fragment.contains(node)) fragment.removeChild(node);\n    });\n  }\n\n  /**\n   * compile string to DOM\n   *\n   * @param {Element} node\n   * @param {(DocumentFragment | Element)} fragment\n   * @memberof Compile\n   */\n  public compile(node: Element, fragment: DocumentFragment | Element): void {\n    const nodeAttrs = node.attributes;\n    if (nodeAttrs) {\n      Array.from(nodeAttrs).forEach(attr => {\n        const attrName = attr.name;\n        if (this.isDirective(attrName)) {\n          const dir = attrName.substring(3);\n          const exp = attr.value;\n          const compileUtil = new CompileUtil(fragment);\n          if (this.isEventDirective(dir)) {\n            compileUtil.eventHandler(node, this.$vm, exp, dir);\n            node.removeAttribute(attrName);\n          } else {\n            compileUtil.bind(node, this.$vm, exp, dir);\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * create document fragment\n   *\n   * @returns {DocumentFragment}\n   * @memberof Compile\n   */\n  public node2Fragment(): DocumentFragment {\n    return document.createDocumentFragment();\n  }\n\n  /**\n   * compile text and use CompileUtil templateUpdater\n   *\n   * @param {Element} node\n   * @param {string} exp\n   * @memberof Compile\n   */\n  public compileText(node: Element, exp: string): void {\n    new CompileUtil(this.$fragment).templateUpdater(node, this.$vm, exp);\n  }\n\n  /**\n   * judge attribute is nv directive or not\n   *\n   * @param {string} attr\n   * @returns {boolean}\n   * @memberof Compile\n   */\n  public isDirective(attr: string): boolean {\n    return attr.indexOf('nv-') === 0;\n  }\n\n  /**\n   * judge attribute is nv event directive or not\n   *\n   * @param {string} eventName\n   * @returns {boolean}\n   * @memberof Compile\n   */\n  public isEventDirective(eventName: string): boolean {\n    return eventName.indexOf('on') === 0;\n  }\n\n  /**\n   * judge DOM is a element node or not\n   *\n   * @param {(Element | string)} node\n   * @returns {boolean}\n   * @memberof Compile\n   */\n  public isElementNode(node: Element | string): boolean {\n    if (typeof node === 'string') return false;\n    return node.nodeType === 1;\n  }\n\n  /**\n   * judge DOM is nv-repeat dom or not\n   *\n   * @param {Element} node\n   * @returns {boolean}\n   * @memberof Compile\n   */\n  public isRepeatNode(node: Element): boolean {\n    const nodeAttrs = node.attributes;\n    let result = false;\n    if (nodeAttrs) {\n      Array.from(nodeAttrs).forEach(attr => {\n        const attrName = attr.name;\n        if (attrName === 'nv-repeat') result = true;\n      });\n    }\n    return result;\n  }\n\n  /**\n   * judge DOM is text node or not\n   *\n   * @param {Element} node\n   * @returns {boolean}\n   * @memberof Compile\n   */\n  public isTextNode(node: Element): boolean {\n    return node.nodeType === 3;\n  }\n}\n\nexport default Compile;\n","type TInjectableOptions = {\n  isSingletonMode?: boolean;\n};\n\n/**\n * Decorator @Injectable\n * \n * to decorate an InDiv Service\n *\n * @param {TInjectableOptions} [options]\n * @returns {(_constructor: Function) => void}\n */\nexport default function Injectable(options?: TInjectableOptions): (_constructor: Function) => void {\n  return function (_constructor: Function): void {\n      (_constructor as any).isSingletonMode = true;\n      if (options) (_constructor as any).isSingletonMode = options.isSingletonMode;\n  };\n}\n","/**\n * Decorator @Injected\n * declare Class which need be injected\n *\n * @export\n * @param {Function} _constructor\n */\nexport default function Injected(_constructor: Function): void {\n  // 通过反射机制，获取参数类型列表\n  const paramsTypes: Function[] = Reflect.getMetadata('design:paramtypes', _constructor);\n  if (paramsTypes && paramsTypes.length) {\n      paramsTypes.forEach(v => {\n          if (v === _constructor) {\n              throw new Error('不可以依赖自身');\n          } else {\n              if ((_constructor as any)._needInjectedClass) {\n                  (_constructor as any)._needInjectedClass.push(v);\n              } else {\n                  (_constructor as any)._needInjectedClass = [v];\n              }\n          }\n      });\n  }\n}\n","import { IComponent } from '../types';\n/**\n * injector: build arguments for factoryCreator\n * \n * 1. provider Component's providers\n * 2. provider rootModule's providers\n * \n * first: check _constructor has Component providers or not\n * secend: find service is a singleton service or not\n * third: if service is a singleton service, find in rootModule's $providerInstances. If not use factoryCreator instance and return\n * last: if service is a singleton service, and can't be found in rootModule's $providerInstances, then factoryCreator instance and push in rootModule's $providerInstances\n *\n * @export\n * @param {Function} _constructor\n * @param {*} rootModule\n * @returns {any[]}\n */\nexport function injector(_constructor: Function, rootModule: any): any[] {\n    const args: any[] = [];\n    // for ts Dependency Injection\n    if ((_constructor as any)._needInjectedClass) {\n        (_constructor as any)._needInjectedClass.forEach((key: Function) => {\n            // component injector: find service Class in providerList in Component\n            if ((_constructor.prototype as IComponent).$providerList) {\n                const _componentService = (_constructor.prototype as IComponent).$providerList.get(key);\n                if (_componentService && !_componentService.useClass && !_componentService.useValue) return args.push(factoryCreator(_componentService, rootModule));\n                if (_componentService && _componentService.useClass) return args.push(factoryCreator(_componentService.useClass, rootModule));\n                if (_componentService && _componentService.useValue) return args.push(_componentService.useValue);\n            }\n\n            // root injector: find service Class in _injectedProviders in rootModule\n            const _service = (_constructor as any)._injectedProviders.has(key) ? (_constructor as any)._injectedProviders.get(key) : rootModule.$providers.find((service: any) => {\n                if (!service.provide && service === key) return true;\n                if (service.provide && service.provide === key) return true;\n                return false;\n            });\n\n            let findService = null;\n            if (_service && !_service.useClass && !_service.useValue) findService = _service;\n            if (_service && _service.useClass) findService = _service.useClass;\n            if (_service && _service.useValue) return args.push(_service.useValue);\n\n            if (!findService) throw new Error(`injector injects service error: can't find provide: ${key.name} in Component ${_constructor}`);\n            \n            // if service isn't a singleton service\n            if (findService && !findService.isSingletonMode) args.push(factoryCreator(findService, rootModule));\n\n            // if service is a singleton service\n            if (findService && findService.isSingletonMode) {\n                // if root injector: $providerInstances has this key\n                const findServiceInStance = rootModule.$providerInstances.has(key) ? rootModule.$providerInstances.get(key) : null;\n                if (findServiceInStance) args.push(findServiceInStance);\n                if (!findServiceInStance) {\n                    const serviceInStance = factoryCreator(findService, rootModule);\n                    rootModule.$providerInstances.set(key, serviceInStance);\n                    args.push(serviceInStance);\n                }\n            }\n        });\n    }\n\n    // for js Dependency Injection\n    if ((_constructor as any).injectTokens) {\n        (_constructor as any).injectTokens.forEach((key: string) => {\n            // component injector: find service Class in providerList in Component\n            if ((_constructor.prototype as IComponent).$providerList) {\n                const _componentService = (_constructor.prototype as IComponent).$providerList.get(key);\n                if (_componentService && !_componentService.useClass && !_componentService.useValue) throw new Error(`injector injects service error: can't find provide: ${key} in Component ${_constructor}`);\n                if (_componentService && _componentService.useClass) return args.push(factoryCreator(_componentService.useClass, rootModule));\n                if (_componentService && _componentService.useValue) return args.push(_componentService.useValue);\n            }\n\n            // root injector: find service Class in _injectedProviders in rootModule\n            const _service = (_constructor as any)._injectedProviders.has(key) ? (_constructor as any)._injectedProviders.get(key) : rootModule.$providers.find((service: any) => {\n                if (service.provide && service.provide === key) return true;\n                return false;\n            });\n\n            let findService = null;\n            if (_service && !_service.useClass && !_service.useValue) throw new Error(`injector injects service error: can\\'t find provide: ${key} in Component ${_constructor}`);\n            if (_service && _service.useClass) findService = _service.useClass;\n            if (_service && _service.useValue) return args.push(_service.useValue);\n\n            if (!findService) throw new Error(`injector injects service error: can't find provide: ${key} in Component ${_constructor}`);\n\n            // if service isn't a singleton service\n            if (findService && !findService.isSingletonMode) args.push(factoryCreator(findService, rootModule));\n\n            // if service is a singleton service\n            if (findService && findService.isSingletonMode) {\n                const findServiceInStance = rootModule.$providerInstances.has(key) ? rootModule.$providerInstances.get(key) : null;\n                if (findServiceInStance) args.push(findServiceInStance);\n                if (!findServiceInStance) {\n                    const serviceInStance = factoryCreator(findService, rootModule);\n                    rootModule.$providerInstances.set(key, serviceInStance);\n                    args.push(serviceInStance);\n                }\n            }\n        });\n    }\n    return args;\n}\n\n/**\n * create an instance with factory method\n *\n * @export\n * @param {Function} _constructor\n * @param {*} rootModule\n * @returns {*}\n */\nexport function factoryCreator(_constructor: Function, rootModule: any): any {\n    const args = injector(_constructor, rootModule);\n    const factoryInstance = Reflect.construct(_constructor, args);\n    return factoryInstance;\n}\n","export { default as Injectable } from './injectable';\nexport { default as Injected } from './injected';\nexport { injector, factoryCreator } from './factory-creator';\n","import { IComponent, ComponentList, TInjectTokenProvider, TUseClassProvider, TuseValueProvider } from '../types';\n\nimport Compile from '../Compile';\nimport Watcher from '../Watcher';\nimport Utils from '../Utils';\nimport { CompileUtil, CompileUtilForRepeat } from '../CompileUtils';\nimport { factoryCreator } from '../DI';\n\n\ntype TComponentOptions = {\n  selector: string;\n  template: string;\n  providers?: (Function | TUseClassProvider | TuseValueProvider)[];\n};\n\nconst utils = new Utils();\n\n/**\n * Decorator @Component\n * \n * to decorate an InDiv component\n *\n * @template State\n * @template Props\n * @template Vm\n * @param {TComponentOptions} options\n * @returns {(_constructor: Function) => void}\n */\nfunction Component<State = any, Props = any, Vm = any>(options: TComponentOptions): (_constructor: Function) => void {\n  return function (_constructor: Function): void {\n    (_constructor as any).$selector = options.selector;\n    (_constructor as any)._injectedComponents = new Map();\n    const vm: IComponent<State, Props, Vm> = _constructor.prototype;\n    vm.$template = options.template;\n\n    // component $providerList for injector\n    if (options.providers && options.providers.length > 0) {\n      vm.$providerList = new Map();\n      const length = options.providers.length;\n      for (let i = 0; i < length; i++) {\n        const service = options.providers[i];\n        if ((service as TInjectTokenProvider).provide) {\n          if ((service as TUseClassProvider).useClass || (service as TuseValueProvider).useValue) vm.$providerList.set((service as TInjectTokenProvider).provide, service);\n        } else {\n          vm.$providerList.set(service as Function, service as Function);\n        }\n      }\n    }\n\n    vm.compileUtil = new CompileUtil();\n    vm.$components = [];\n    vm.$componentList = [];\n\n    vm.getLocation = function (): {\n      path?: string;\n      query?: any;\n      params?: any;\n      data?: any;\n    } {\n      if (!utils.isBrowser()) return {};\n      return {\n        path: (this as IComponent<State, Props, Vm>).$vm.$esRouteObject.path,\n        query: (this as IComponent<State, Props, Vm>).$vm.$esRouteObject.query,\n        params: (this as IComponent<State, Props, Vm>).$vm.$esRouteParmasObject,\n        data: (this as IComponent<State, Props, Vm>).$vm.$esRouteObject.data,\n      };\n    };\n\n    vm.setLocation = function (path: string, query?: any, data?: any, title?: string): void {\n      if (!utils.isBrowser()) return;\n      const rootPath = (this as IComponent<State, Props, Vm>).$vm.$rootPath === '/' ? '' : (this as IComponent<State, Props, Vm>).$vm.$rootPath;\n      history.pushState(\n        { path, query, data },\n        title,\n        `${rootPath}${path}${utils.buildQuery(query)}`,\n      );\n      (this as IComponent<State, Props, Vm>).$vm.$esRouteObject = { path, query, data };\n    };\n\n    vm.watchData = function (): void {\n      if (this.state) {\n        if ((this as IComponent<State, Props, Vm>).nvWatchState) (this as IComponent<State, Props, Vm>).stateWatcher = new Watcher((this as IComponent<State, Props, Vm>).state, (this as IComponent<State, Props, Vm>).nvWatchState.bind(this as IComponent<State, Props, Vm>), (this as IComponent<State, Props, Vm>).reRender.bind(this as IComponent<State, Props, Vm>));\n        if (!(this as IComponent<State, Props, Vm>).nvWatchState) (this as IComponent<State, Props, Vm>).stateWatcher = new Watcher((this as IComponent<State, Props, Vm>).state, null, (this as IComponent<State, Props, Vm>).reRender.bind(this as IComponent<State, Props, Vm>));\n      }\n    };\n\n    vm.render = function (): Promise<IComponent<State, Props, Vm>> {\n      const dom = (this as IComponent<State, Props, Vm>).renderDom;\n      return Promise.resolve()\n      .then(() => {\n        const compile = new Compile(dom, this as IComponent<State, Props, Vm>);\n        (this as IComponent<State, Props, Vm>).mountComponent(dom);\n        const length = (this as IComponent<State, Props, Vm>).$componentList.length;\n        for (let i = 0; i < length; i++) {\n          const component = (this as IComponent<State, Props, Vm>).$componentList[i];\n          if (component.scope.render) component.scope.render();\n          if (component.scope.nvAfterMount) component.scope.nvAfterMount();\n        }\n        if (this.nvHasRender) this.nvHasRender();\n        return this;\n      })\n      .catch(e => {\n        throw new Error(`component ${options.selector} render failed: ${e}`);\n      });\n    };\n\n    vm.reRender = function (): Promise<IComponent<State, Props, Vm>> {\n      const dom = (this as IComponent<State, Props, Vm>).renderDom;\n      return Promise.resolve()\n      .then(() => {\n        const compile = new Compile(dom, (this as IComponent<State, Props, Vm>));\n        (this as IComponent<State, Props, Vm>).mountComponent(dom);\n        const length = (this as IComponent<State, Props, Vm>).$componentList.length;\n        for (let i = 0; i < length; i++) {\n          const component = (this as IComponent<State, Props, Vm>).$componentList[i];\n          if (component.scope.render) component.scope.reRender();\n          if (component.scope.nvAfterMount) component.scope.nvAfterMount();\n        }\n        if ((this as IComponent<State, Props, Vm>).nvHasRender) (this as IComponent<State, Props, Vm>).nvHasRender();\n        return this;\n      })\n      .catch(e => {\n        throw new Error(`component ${options.selector} render failed: ${e}`);\n      });\n    };\n\n    vm.mountComponent = function (dom: Element): void {\n      const cacheStates: ComponentList<IComponent<State, Props, Vm>>[] = [ ...(this as IComponent<State, Props, Vm>).$componentList ];\n      (this as IComponent<State, Props, Vm>).componentsConstructor(dom);\n      const componentListLength = (this as IComponent<State, Props, Vm>).$componentList.length;\n      for (let i = 0; i < componentListLength; i ++) {\n        const component = (this as IComponent<State, Props, Vm>).$componentList[i];\n        // find Component from cache\n        const cacheComponentIndex = cacheStates.findIndex(cache => cache.dom === component.dom);\n        const cacheComponent = cacheStates[cacheComponentIndex];\n\n        // clear cache and the rest need to be destoried\n        if (cacheComponentIndex !== -1) cacheStates.splice(cacheComponentIndex, 1);\n        if (cacheComponent) {\n          component.scope = cacheComponent.scope;\n          // old props: component.scope.props\n          // new props: component.props\n          if (!utils.isEqual(component.scope.props, component.props)) {\n            if (component.scope.nvReceiveProps) component.scope.nvReceiveProps(component.props);\n            component.scope.props = component.props;\n          }\n        } else {\n          component.scope = (this as IComponent<State, Props, Vm>).buildComponentScope(component.constructorFunction, component.props, component.dom as Element);\n        }\n\n        component.scope.$vm = (this as IComponent<State, Props, Vm>).$vm;\n        component.scope.$components = (this as IComponent<State, Props, Vm>).$components;\n        if (component.scope.nvOnInit && !cacheComponent) component.scope.nvOnInit();\n        if (component.scope.watchData) component.scope.watchData();\n        if (component.scope.nvBeforeMount) component.scope.nvBeforeMount();\n      }\n      // the rest should use nvOnDestory\n      const cacheStatesLength = cacheStates.length;\n      for (let i = 0; i < cacheStatesLength; i ++) {\n        const cache = cacheStates[i];\n        if (cache.scope.nvOnDestory) cache.scope.nvOnDestory();\n      }\n    };\n\n    vm.componentsConstructor = function (dom: Element): void {\n      (this as IComponent<State, Props, Vm>).$componentList = [];\n      const routerRenderDom = dom.querySelectorAll((this as IComponent<State, Props, Vm>).$vm.$routeDOMKey)[0];\n      ((this as IComponent<State, Props, Vm>).constructor as any)._injectedComponents.forEach((value: Function, key: string) => {\n        if (!(this as IComponent<State, Props, Vm>).$components.find((component: any) => component.$selector === key)) (this as IComponent<State, Props, Vm>).$components.push(value);\n      });\n      const componentsLength = (this as IComponent<State, Props, Vm>).$components.length;\n      for (let i = 0; i < componentsLength; i++) {\n        const name = (((this as IComponent<State, Props, Vm>).$components[i]) as any).$selector;\n        const tags = dom.getElementsByTagName(name);\n        Array.from(tags).forEach(node => {\n          //  protect component in <router-render>\n          if (routerRenderDom && routerRenderDom.contains(node)) return;\n          // protect Component in Component\n          if (!node.isComponent) return;\n\n          const nodeAttrs = node.attributes;\n          const props: any = {};\n\n          if (nodeAttrs) {\n            const attrList = Array.from(nodeAttrs);\n            const _propsKeys: any = {};\n\n            attrList.forEach((attr: any) => {\n              if (/^\\_prop\\-(.+)/.test(attr.name)) {\n                _propsKeys[attr.name.replace('_prop-', '')] = JSON.parse(attr.value);\n                node.removeAttribute(attr.name);\n              }\n            });\n\n            attrList.forEach((attr: any) => {\n              let attrName: string = attr.name;\n\n              if ((/^\\_prop\\-(.+)/.test(attrName))) return;\n\n              const attrNameSplit = attrName.split('-');\n              if (attrNameSplit.length > 1) {\n                attrNameSplit.forEach((name, index) => {\n                  if (index === 0) attrName = name;\n                  if (index !== 0) attrName += name.toLowerCase().replace(/( |^)[a-z]/g, (L) => L.toUpperCase());\n                });\n              }\n\n              const prop = /^\\{(.+)\\}$/.exec(attr.value);\n              if (prop) {\n                const valueList = prop[1].split('.');\n                const key = valueList[0];\n                let _prop = null;\n                if (/^(state.).*/g.test(prop[1])) {\n                  _prop = (this as IComponent<State, Props, Vm>).compileUtil._getVMVal(this as IComponent<State, Props, Vm>, prop[1]);\n                  props[attrName] = (this as IComponent<State, Props, Vm>).buildProps(_prop);\n                  return;\n                }\n                if (/^(\\@.).*\\(.*\\)$/g.test(prop[1])) {\n                  const utilVm = new CompileUtilForRepeat();\n                  const fn = utilVm._getVMFunction(vm, prop[1]);\n                  const args = prop[1].replace(/^(\\@)/, '').match(/\\((.*)\\)/)[1].replace(/\\s+/g, '').split(',');\n                  const argsList: any[] = [];\n                  args.forEach(arg => {\n                    if (arg === '') return false;\n                    if (arg === '$element') return argsList.push(node);\n                    if (arg === 'true' || arg === 'false') return argsList.push(arg === 'true');\n                    if (/(state.).*/g.test(arg)) return argsList.push(utilVm._getVMVal(vm, arg));\n                    if (/\\'.*\\'/g.test(arg)) return argsList.push(arg.match(/\\'(.*)\\'/)[1]);\n                    if (!/\\'.*\\'/g.test(arg) && /^[0-9]*$/g.test(arg)) return argsList.push(Number(arg));\n                    if (node.repeatData) {\n                      // $index in this\n                      Object.keys(node.repeatData).forEach(data => {\n                        if (arg.indexOf(data) === 0 || arg.indexOf(`${data}.`) === 0) return argsList.push(utilVm._getValueByValue(node.repeatData[data], arg, data));\n                      });\n                    }\n                  });\n                  const value = fn.apply(vm, argsList);\n                  props[attrName] = value;\n                  return;\n                }\n                if (/^(\\@.).*[^\\(.*\\)]$/g.test(prop[1])) {\n                  _prop = (this as IComponent<State, Props, Vm>).compileUtil._getVMVal(this as IComponent<State, Props, Vm>, prop[1].replace(/^(\\@)/, ''));\n                  props[attrName] = (this as IComponent<State, Props, Vm>).buildProps(_prop);\n                  return;\n                }\n                if (_propsKeys.hasOwnProperty(key)) {\n                  _prop = (this as IComponent<State, Props, Vm>).getPropsValue(valueList, _propsKeys[key]);\n                  props[attrName] = (this as IComponent<State, Props, Vm>).buildProps(_prop);\n                  return;\n                }\n                if (node.repeatData && node.repeatData[key] !== null) {\n                  _prop = (this as IComponent<State, Props, Vm>).compileUtil._getValueByValue(node.repeatData[key], prop[1], key);\n                  props[attrName] = (this as IComponent<State, Props, Vm>).buildProps(_prop);\n                  return;\n                }\n              }\n\n              // can't remove indiv_repeat_key\n              if (attr.name !== 'indiv_repeat_key')  node.removeAttribute(attrName);\n            });\n          }\n\n          (this as IComponent<State, Props, Vm>).$componentList.push({\n            dom: node,\n            props,\n            scope: null,\n            constructorFunction: (this as IComponent<State, Props, Vm>).$components[i],\n          });\n          // after construct instance remove isComponent\n          node.isComponent = false;\n        });\n      }\n    };\n\n    vm.setState = function (newState: any): void {\n      if (newState && utils.isFunction(newState)) {\n        const _newState = newState();\n        if (_newState && _newState instanceof Object) {\n          if (utils.isEqual(this.state, _newState)) return;\n          const _state = JSON.parse(JSON.stringify(this.state));\n          Object.assign(_state, _newState);\n          this.state = _state;\n          if ((this as IComponent<State, Props, Vm>).nvWatchState) (this as IComponent<State, Props, Vm>).stateWatcher = new Watcher((this as IComponent<State, Props, Vm>).state, (this as IComponent<State, Props, Vm>).nvWatchState.bind(this as IComponent<State, Props, Vm>), (this as IComponent<State, Props, Vm>).reRender.bind(this as IComponent<State, Props, Vm>));\n          if (!(this as IComponent<State, Props, Vm>).nvWatchState) (this as IComponent<State, Props, Vm>).stateWatcher = new Watcher((this as IComponent<State, Props, Vm>).state, null, (this as IComponent<State, Props, Vm>).reRender.bind(this as IComponent<State, Props, Vm>));\n          (this as IComponent<State, Props, Vm>).reRender();\n        }\n      }\n      if (newState && newState instanceof Object) {\n        if (utils.isEqual(this.state, newState)) return;\n        const _state = JSON.parse(JSON.stringify(this.state));\n        Object.assign(_state, newState);\n        this.state = _state;\n        if ((this as IComponent<State, Props, Vm>).nvWatchState) (this as IComponent<State, Props, Vm>).stateWatcher = new Watcher((this as IComponent<State, Props, Vm>).state, (this as IComponent<State, Props, Vm>).nvWatchState.bind(this as IComponent<State, Props, Vm>), (this as IComponent<State, Props, Vm>).reRender.bind(this as IComponent<State, Props, Vm>));\n        if (!(this as IComponent<State, Props, Vm>).nvWatchState) (this as IComponent<State, Props, Vm>).stateWatcher = new Watcher((this as IComponent<State, Props, Vm>).state, null, (this as IComponent<State, Props, Vm>).reRender.bind(this as IComponent<State, Props, Vm>));\n        (this as IComponent<State, Props, Vm>).reRender();\n      }\n    };\n\n    vm.getPropsValue = function (valueList: any[], value: any): void {\n      let val = value;\n      valueList.forEach((v, index: number) => {\n        if (index === 0) return;\n        val = val[v];\n      });\n      return val;\n    };\n\n    vm.buildProps = function (prop: any): any {\n      if (utils.isFunction(prop)) {\n        return prop.bind(this as IComponent<State, Props, Vm>);\n      } else {\n        return prop;\n      }\n    };\n\n    vm.buildComponentScope = function (ComponentClass: Function, props: any, dom: Element): IComponent<State, Props, Vm> {\n      const _component = factoryCreator(ComponentClass, (this as IComponent<State, Props, Vm>).$vm.$rootModule);\n      _component.props = props;\n      _component.renderDom = dom;\n      _component.$components = (this as IComponent<State, Props, Vm>).$components;\n      return _component;\n    };\n  };\n}\n\nexport default Component;\n","export { ICompile } from './compile';\nexport { ICompileUtilForRepeat, ICompileUtil } from './compileUtils';\nexport { ComponentList, IComponent } from './component';\nexport { IMiddleware, EsRouteObject, IInDiv } from './indiv';\nexport { INvModule, TInjectTokenProvider, TUseClassProvider, TuseValueProvider } from './nvModule';\nexport { IKeyWatcher } from './keyWatcher';\nexport { TRouter, IRouter } from './router';\nexport { IUtil } from './utils';\nexport { IVnode, TAttributes, IPatchList } from './virtualDOM';\nexport { TFnWatcher, TFnRender, IWatcher } from './watcher';\n","import { TRouter, IInDiv, IComponent, ComponentList } from '../types';\n\nimport Utils from '../Utils';\nimport KeyWatcher from '../KeyWatcher';\n\nexport { TRouter } from '../types';\n\nconst utils = new Utils();\n\n/**\n * route for InDiv\n *\n * @export\n * @class Router\n */\nexport class Router {\n  public routes: TRouter[];\n  public routesList: TRouter[];\n  public currentUrl: string;\n  public lastRoute: string;\n  public rootDom: Element;\n  public $rootPath: string;\n  public hasRenderComponentList: IComponent[];\n  public needRedirectPath: string;\n  public $vm: IInDiv;\n  public watcher: KeyWatcher;\n  public renderRouteList: string[];\n  public routeChange?: (lastRoute?: string, nextRoute?: string) => void;\n\n  constructor() {\n    this.routes = [];\n    this.routesList = [];\n    this.currentUrl = '';\n    this.lastRoute = null;\n    this.rootDom = null;\n    this.$rootPath = '/';\n    this.hasRenderComponentList = [];\n    this.needRedirectPath = null;\n    this.$vm = null;\n    this.watcher = null;\n    this.renderRouteList = [];\n  }\n\n  /**\n   * bootstrap and init watch $esRouteParmasObject in InDiv\n   *\n   * @param {IInDiv} vm\n   * @returns {void}\n   * @memberof Router\n   */\n  public bootstrap(vm: IInDiv): void {\n      this.$vm = vm;\n      this.$vm.setRootPath(this.$rootPath);\n      this.$vm.$canRenderModule = false;\n      this.$vm.$routeDOMKey = 'router-render';\n\n      if (!utils.isBrowser()) return;\n      window.addEventListener('load', this.refresh.bind(this), false);\n      window.addEventListener('popstate', () => {\n        let path;\n        if (this.$rootPath === '/') {\n          path = location.pathname || '/';\n        } else {\n          path = location.pathname.replace(this.$rootPath, '') === '' ? '/' : location.pathname.replace(this.$rootPath, '');\n        }\n        this.$vm.$esRouteObject = {\n          path,\n          query: {},\n          data: null,\n        };\n        this.$vm.$esRouteParmasObject = {};\n      }, false);\n    }\n\n  /**\n   * set rootDom\n   *\n   * @param {TRouter[]} arr\n   * @returns {void}\n   * @memberof Router\n   */\n  public init(arr: TRouter[]): void {\n    if (!utils.isBrowser()) return;\n\n    if (arr && arr instanceof Array) {\n      const rootDom = document.querySelector('#root');\n      this.rootDom = rootDom || null;\n      this.routes = arr;\n      this.routesList = [];\n    } else {\n      throw new Error(`route error: no routes exit`);\n    }\n  }\n\n  public setRootPath(rootPath: string): void {\n    if (rootPath && typeof rootPath === 'string') {\n      this.$rootPath = rootPath;\n    } else {\n      throw new Error('route error: rootPath is not defined or rootPath must be a String');\n    }\n  }\n\n  /**\n   * redirectTo a path\n   *\n   * @param {string} redirectTo\n   * @memberof Router\n   */\n  public redirectTo(redirectTo: string): void {\n    const rootPath = this.$rootPath === '/' ? '' : this.$rootPath;\n    history.replaceState(null, null, `${rootPath}${redirectTo}`);\n    this.$vm.$esRouteObject = {\n      path: redirectTo || '/',\n      query: {},\n      data: null,\n    };\n    this.$vm.$esRouteParmasObject = {};\n  }\n\n  /**\n   * refresh if not watch $esRouteObject\n   *\n   * @memberof Router\n   */\n  public refresh(): void {\n    if (!this.$vm.$esRouteObject || !this.watcher) {\n      let path;\n      if (this.$rootPath === '/') {\n        path = location.pathname || '/';\n      } else {\n        path = location.pathname.replace(this.$rootPath, '') === '' ? '/' : location.pathname.replace(this.$rootPath, '');\n      }\n      this.$vm.$esRouteObject = {\n        path,\n        query: {},\n        data: null,\n      };\n      this.$vm.$esRouteParmasObject = {};\n      this.watcher = new KeyWatcher(this.$vm, '$esRouteObject', this.refresh.bind(this));\n    }\n    this.currentUrl = this.$vm.$esRouteObject.path || '/';\n    this.routesList = [];\n    this.renderRouteList = this.currentUrl === '/' ? ['/'] : this.currentUrl.split('/');\n    this.renderRouteList[0] = '/';\n    this.distributeRoutes();\n  }\n\n  /**\n   * distribute routes and decide insert or general Routes\n   * \n   * @returns {Promise<any>}\n   * @memberof Router\n   */\n  public async distributeRoutes(): Promise<any> {\n    if (this.lastRoute && this.lastRoute !== this.currentUrl) {\n      // has rendered\n      this.$vm.$esRouteParmasObject = {};\n      await this.insertRenderRoutes();\n    } else {\n      // first render\n      await this.generalDistributeRoutes();\n    }\n    if (this.routeChange) this.routeChange(this.lastRoute, this.currentUrl);\n    this.lastRoute = this.currentUrl;\n    if (this.needRedirectPath) {\n      this.redirectTo(this.needRedirectPath);\n      this.needRedirectPath = null;\n    }\n  }\n\n  /**\n   * insert Routes and render\n   * \n   * if has rendered Routes, it will find which is different and render it\n   *\n   * @returns {Promise<IComponent>}\n   * @memberof Router\n   */\n  public async insertRenderRoutes(): Promise<IComponent> {\n    const lastRouteList = this.lastRoute === '/' ? ['/'] : this.lastRoute.split('/');\n    lastRouteList[0] = '/';\n\n    for (let index = 0; index < this.renderRouteList.length; index++) {\n      const path = this.renderRouteList[index];\n      if (index === 0) {\n        const rootRoute = this.routes.find(route => route.path === `${path}` || /^\\/\\:.+/.test(route.path));\n        if (!rootRoute) throw new Error(`route error: wrong route instantiation in insertRenderRoutes: ${this.currentUrl}`);\n        this.routesList.push(rootRoute);\n      } else {\n        const lastRoute = this.routesList[index - 1].children;\n        if (!lastRoute || !(lastRoute instanceof Array)) throw new Error('route error: routes not exit or routes must be an array!');\n        const route = lastRoute.find((r: TRouter) => r.path === `/${path}` || /^\\/\\:.+/.test(r.path));\n        if (!route) throw new Error(`route error: wrong route instantiation: ${this.currentUrl}`);\n        this.routesList.push(route);\n      }\n\n      if (path !== lastRouteList[index]) {\n        const needRenderRoute = this.routesList[index];\n        if (!needRenderRoute) throw new Error(`route error: wrong route instantiation in insertRenderRoutes: ${this.currentUrl}`);\n\n        const needRenderComponent = this.$vm.$components.find((component: any) => component.$selector === needRenderRoute.component);\n        const renderDom = document.querySelectorAll('router-render')[index - 1];\n\n        if (!needRenderRoute.component && !needRenderRoute.redirectTo) throw new Error(`route error: path ${needRenderRoute.path} need a component which has children path or need a  redirectTo which has't children path`);\n\n        if (/^\\/\\:.+/.test(needRenderRoute.path) && !needRenderRoute.redirectTo) {\n          const key = needRenderRoute.path.split('/:')[1];\n          this.$vm.$esRouteParmasObject[key] = path;\n        }\n\n        if (needRenderComponent) {\n          const component = await this.instantiateComponent(needRenderComponent, renderDom);\n          // insert needRenderComponent on index in this.hasRenderComponentList\n          // and remove other component which index >= index of needRenderComponent\n          if (component) {\n            if (this.hasRenderComponentList[index]) this.hasRenderComponentList.splice(index, 0, component);\n            if (!this.hasRenderComponentList[index]) this.hasRenderComponentList[index] = component;\n          } else {\n            throw new Error(`route error: path ${needRenderRoute.path} need a component`);\n          }\n\n          this.routerChangeEvent(index);\n        }\n\n        if (needRenderRoute.redirectTo && /^\\/.*/.test(needRenderRoute.redirectTo) && (index + 1) === this.renderRouteList.length) {\n          this.needRedirectPath = needRenderRoute.redirectTo;\n          return;\n        }\n      }\n\n      // add parmas in $esRouteParmasObject\n      if (path === lastRouteList[index]) {\n        const needRenderRoute = this.routesList[index];\n        if (/^\\/\\:.+/.test(needRenderRoute.path) && !needRenderRoute.redirectTo) {\n          const key = needRenderRoute.path.split('/:')[1];\n          this.$vm.$esRouteParmasObject[key] = path;\n        }\n      }\n\n      if (index === (this.renderRouteList.length - 1) && index < (lastRouteList.length - 1)) {\n        const renderDom = document.querySelectorAll('router-render')[index];\n        this.routerChangeEvent(index);\n\n        if (renderDom && renderDom.hasChildNodes()) renderDom.removeChild(renderDom.childNodes[0]);\n\n        const needRenderRoute = this.routesList[index];\n        if (needRenderRoute.redirectTo && /^\\/.*/.test(needRenderRoute.redirectTo) && (index + 1) === this.renderRouteList.length) {\n          this.needRedirectPath = needRenderRoute.redirectTo;\n          return;\n        }\n      }\n    }\n  }\n\n  /**\n   * render Routes\n   * \n   * first render\n   *\n   * @returns {Promise<IComponent>}\n   * @memberof Router\n   */\n  public async generalDistributeRoutes(): Promise<IComponent> {\n    for (let index = 0; index < this.renderRouteList.length; index++) {\n      const path = this.renderRouteList[index];\n      if (index === 0) {\n        const rootRoute = this.routes.find(route => route.path === `${path}` || /^\\/\\:.+/.test(route.path));\n        if (!rootRoute) throw new Error(`route error: wrong route instantiation in generalDistributeRoutes: ${this.currentUrl}`);\n\n        let FindComponent = null;\n        if (this.$vm.$rootModule.$components.find((component: any) => component.$selector === rootRoute.component)) {\n          FindComponent = this.$vm.$rootModule.$components.find((component: any) => component.$selector === rootRoute.component);\n        } else {\n          throw new Error(`route error: path ${rootRoute.path} is undefined`);\n        }\n\n        if (/^\\/\\:.+/.test(rootRoute.path)) {\n          const key = rootRoute.path.split('/:')[1];\n          this.$vm.$esRouteParmasObject[key] = path;\n        }\n\n        if (!utils.isBrowser()) return;\n        const rootDom = document.querySelector('#root');\n        this.routesList.push(rootRoute);\n\n        const component = await this.instantiateComponent(FindComponent, rootDom);\n        // 因为没有 所有要push进去\n        if (component) this.hasRenderComponentList.push(component);\n\n        if (index === this.renderRouteList.length - 1) this.routerChangeEvent(index);\n\n        if (rootRoute.redirectTo && /^\\/.*/.test(rootRoute.redirectTo) && (index + 1) === this.renderRouteList.length) {\n          this.needRedirectPath = rootRoute.redirectTo;\n          this.renderRouteList.push(rootRoute.redirectTo);\n          return;\n        }\n      } else {\n        const lastRoute = this.routesList[index - 1].children;\n        if (!lastRoute || !(lastRoute instanceof Array)) throw new Error('route error: routes not exit or routes must be an array!');\n        const route = lastRoute.find(r => r.path === `/${path}` || /^\\/\\:.+/.test(r.path));\n        if (!route) throw new Error(`route error: wrong route instantiation: ${this.currentUrl}`);\n\n        let FindComponent = null;\n        if (this.$vm.$rootModule.$components.find((component: any) => component.$selector === route.component)) {\n          FindComponent = this.$vm.$rootModule.$components.find((component: any) => component.$selector === route.component);\n        }\n\n        if (!route.component && !route.redirectTo) throw new Error(`route error: path ${route.path} need a component which has children path or need a  redirectTo which has't children path`);\n\n        if (/^\\/\\:.+/.test(route.path)) {\n          const key = route.path.split('/:')[1];\n          this.$vm.$esRouteParmasObject[key] = path;\n        }\n\n        const renderDom = document.querySelectorAll('router-render')[index - 1];\n        this.routesList.push(route);\n\n        if (FindComponent) {\n          const component = await this.instantiateComponent(FindComponent, renderDom);\n          if (component) this.hasRenderComponentList.push(component);\n        }\n\n        if (index === this.renderRouteList.length - 1) this.routerChangeEvent(index);\n\n        if (route.redirectTo && /^\\/.*/.test(route.redirectTo) && (index + 1) === this.renderRouteList.length) {\n          this.needRedirectPath = route.redirectTo;\n          return;\n        }\n      }\n    }\n  }\n\n  /**\n   * emit nvRouteChange and nvOnDestory for Components\n   *\n   * @param {number} index\n   * @memberof Router\n   */\n  public routerChangeEvent(index: number): void {\n    this.hasRenderComponentList.forEach((component, i) => {\n      if (component.nvRouteChange) component.nvRouteChange(this.lastRoute, this.currentUrl);\n      this.emitComponentEvent(component.$componentList, 'nvRouteChange');\n      if (i >= index + 1) {\n        if (component.nvOnDestory) component.nvOnDestory();\n        this.emitComponentEvent(component.$componentList, 'nvOnDestory');\n      }\n    });\n    this.hasRenderComponentList.length = index + 1;\n  }\n\n  /**\n   * emit nvRouteChange and nvOnDestory for Components with recursion\n   *\n   * @param {ComponentList<IComponent>[]} componentList\n   * @param {string} event\n   * @memberof Router\n   */\n  public emitComponentEvent(componentList: ComponentList<IComponent>[], event: string): void {\n    if (event === 'nvRouteChange') {\n      componentList.forEach(component => {\n        if (component.scope.nvRouteChange) component.scope.nvRouteChange(this.lastRoute, this.currentUrl);\n        this.emitComponentEvent(component.scope.$componentList, event);\n      });\n    }\n    if (event === 'nvOnDestory') {\n      componentList.forEach(component => {\n        if (component.scope.nvOnDestory) component.scope.nvOnDestory();\n        this.emitComponentEvent(component.scope.$componentList, event);\n      });\n    }\n  }\n\n  /**\n   * instantiate Component\n   * \n   * use InDiv renderComponent\n   *\n   * @param {Function} FindComponent\n   * @param {Element} renderDom\n   * @returns {Promise<IComponent>}\n   * @memberof Router\n   */\n  public instantiateComponent(FindComponent: Function, renderDom: Element): Promise<IComponent> {\n    return this.$vm.renderComponent(FindComponent, renderDom);\n  }\n}\n","import { INvModule, TInjectTokenProvider, TUseClassProvider, TuseValueProvider } from '../types';\n\ntype TNvModuleOptions = {\n  imports?: Function[];\n  components: Function[];\n  providers?: (Function | TUseClassProvider | TuseValueProvider)[];\n  exports?: Function[];\n  bootstrap?: Function;\n};\n\n/**\n * Decorator @NvModule\n * \n * to decorate an InDiv NvModule\n *\n * @export\n * @param {TNvModuleOptions} options\n * @returns {(_constructor: Function) => void}\n */\nexport function NvModule(options: TNvModuleOptions): (_constructor: Function) => void {\n  return function (_constructor: Function): void {\n    const vm = _constructor.prototype as INvModule;\n    vm.$providerList = new Map();\n    vm.$providerInstances = new Map();\n    if (options.imports) vm.$imports = options.imports;\n    if (options.components) vm.$components = options.components;\n    if (options.providers) vm.$providers = options.providers;\n    if (options.exports) vm.$exports = options.exports;\n    if (options.bootstrap) vm.$bootstrap = options.bootstrap;\n\n    vm.buildProviderList = function (): void {\n      if (!(this as INvModule).$providers) return;\n      const length = this.$providers.length;\n      for (let i = 0; i < length; i++) {\n        const service = (this as INvModule).$providers[i];\n        if ((service as TInjectTokenProvider).provide) {\n          if ((service as TUseClassProvider).useClass || (service as TuseValueProvider).useValue) (this as INvModule).$providerList.set((service as TInjectTokenProvider).provide, service);\n        } else {\n          (this as INvModule).$providerList.set(service as Function, service as Function);\n        }\n      }\n    };\n\n    vm.buildProviders4Services = function (): void {\n      if (!this.$providers) return;\n      const length = this.$providers.length;\n      for (let i = 0; i < length; i++) {\n        const service: any = (this as INvModule).$providers[i];\n\n        if ((service as TInjectTokenProvider).provide) {\n          if ((service as TUseClassProvider).useClass) {\n            if (!((service as TUseClassProvider).useClass as any)._injectedProviders) ((service as TUseClassProvider).useClass as any)._injectedProviders = new Map();\n            (this as INvModule).$providerList.forEach((value, key) => {\n              if (!((service as TUseClassProvider).useClass as any)._injectedProviders.has(key)) ((service as TUseClassProvider).useClass as any)._injectedProviders.set(key, value);\n            });\n          }\n        } else {\n          if (!service._injectedProviders) service._injectedProviders = new Map();\n          (this as INvModule).$providerList.set(service as Function, service as Function);\n        }\n      }\n    };\n\n    vm.buildProviders4Components = function (): void {\n      if (!(this as INvModule).$providers || !(this as INvModule).$components) return;\n      const length = this.$components.length;\n      for (let i = 0; i < length; i++) {\n        const component: any = (this as INvModule).$components[i];\n        if (!component._injectedProviders) component._injectedProviders = new Map();\n        (this as INvModule).$providerList.forEach((value, key) => {\n          if (!component._injectedProviders.has(key)) component._injectedProviders.set(key, value);\n        });\n      }\n    };\n\n    vm.buildComponents4Components = function (): void {\n      if (!this.$components) return;\n      const length = this.$components.length;\n      for (let i = 0; i < length; i++) {\n        const FindComponent: any = (this as INvModule).$components[i];\n        if (!FindComponent._injectedComponents) FindComponent._injectedComponents = new Map();\n        (this as INvModule).$components.forEach((needInjectComponent: any) => {\n          if (!FindComponent._injectedComponents.has(needInjectComponent.$selector)) FindComponent._injectedComponents.set(needInjectComponent.$selector, needInjectComponent);\n        });\n      }\n    };\n\n    vm.buildImports = function (): void {\n      if (!(this as INvModule).$imports) return;\n      const length = this.$imports.length;\n      for (let i = 0; i < length; i++) {\n        const ModuleImport = (this as INvModule).$imports[i];\n        const moduleImport = factoryModule(ModuleImport);\n        const exportsLength = moduleImport.$exports.length;\n        for (let i = 0; i < exportsLength; i++) {\n          const importComponent = moduleImport.$exports[i];\n          if (!this.$components.find((component: any) => component.$selector === (importComponent as any).$selector)) {\n            this.$components.push(importComponent);\n          }\n        }\n      }\n    };\n  };\n}\n\n/**\n * create an NvModule instance with factory method\n *\n * @export\n * @param {Function} NM\n * @returns {INvModule}\n */\nexport function factoryModule(NM: Function): INvModule {\n  const nm = new (NM as any)();\n  nm.buildProviderList();\n  nm.buildProviders4Services();\n  nm.buildComponents4Components();\n  nm.buildProviders4Components();\n  nm.buildImports();\n  return nm;\n}\n","import { IMiddleware, INvModule, EsRouteObject, IComponent } from '../types';\n\nimport Utils from '../Utils';\nimport { factoryCreator } from '../DI';\nimport { factoryModule } from '../NvModule';\n\nconst utils = new Utils();\n\n/**\n * main: for new InDiv\n *\n * @class InDiv\n */\nclass InDiv {\n  public modalList: IMiddleware<InDiv>[];\n  public rootDom: Element;\n  public $rootPath: string;\n  public $canRenderModule: boolean;\n  public $routeDOMKey: string;\n  public $rootModule: INvModule;\n  public $components: Function[];\n  public $esRouteObject?: EsRouteObject;\n  public $esRouteParmasObject?: {\n    [props: string]: any;\n  };\n\n\n  constructor() {\n    this.modalList = [];\n\n    if (!utils.isBrowser()) return;\n\n    this.rootDom = document.querySelector('#root');\n    this.$rootPath = '/';\n    this.$canRenderModule = true;\n    this.$routeDOMKey = 'router-render';\n\n    this.$rootModule = null;\n    this.$esRouteObject = null;\n    this.$esRouteParmasObject = {};\n  }\n\n  /**\n   * for using middleware and use bootstrap method of middleware\n   *\n   * @param {IMiddleware<InDiv>} modal\n   * @returns {number}\n   * @memberof InDiv\n   */\n  public use(modal: IMiddleware<InDiv>): number {\n    modal.bootstrap(this);\n    this.modalList.push(modal);\n    return this.modalList.findIndex(md => utils.isEqual(md, modal));\n  }\n\n  /**\n   * for Route set RootPath\n   * \n   * if not use, rootPath will be <router-render />\n   *\n   * @param {string} rootPath\n   * @memberof InDiv\n   */\n  public setRootPath(rootPath: string): void {\n    if (rootPath && typeof rootPath === 'string') {\n      this.$rootPath = rootPath;\n    } else {\n      throw new Error('rootPath is not defined or rootPath must be a String');\n    }\n  }\n\n  /**\n   * bootstrap NvModule\n   * \n   * if not use Route it will be used\n   *\n   * @param {Function} Esmodule\n   * @returns {void}\n   * @memberof InDiv\n   */\n  public bootstrapModule(Esmodule: Function): void {\n    if (!Esmodule) throw new Error('must send a root module');\n\n    this.$rootModule = factoryModule(Esmodule);\n    this.$components = [...this.$rootModule.$components];\n  }\n\n  /**\n   * init InDiv and renderModuleBootstrap()\n   *\n   * @returns {void}\n   * @memberof InDiv\n   */\n  public init(): void {\n    if (!utils.isBrowser()) return;\n\n    if (!this.$rootModule) throw new Error('must use bootstrapModule to declare a root NvModule before init');\n    if (this.$canRenderModule) this.renderModuleBootstrap();\n  }\n\n  /**\n   * render NvModule Bootstrap\n   *\n   * @returns {void}\n   * @memberof InDiv\n   */\n  public renderModuleBootstrap(): void {\n    if (!this.$rootModule.$bootstrap) throw new Error('need bootstrap for render Module Bootstrap');\n    const BootstrapComponent = this.$rootModule.$bootstrap;\n    this.renderComponent(BootstrapComponent, this.rootDom);\n  }\n\n  /**\n   * expose function for render Component\n   *\n   * @param {Function} BootstrapComponent\n   * @param {Element} renderDOM\n   * @returns {Promise<IComponent>}\n   * @memberof InDiv\n   */\n  public renderComponent(BootstrapComponent: Function, renderDOM: Element): Promise<IComponent> {\n    const component: any = factoryCreator(BootstrapComponent, this.$rootModule);\n\n    component.$vm = this;\n    component.$components = this.$rootModule.$components;\n    if (component.nvOnInit) component.nvOnInit();\n    if (component.watchData) component.watchData();\n    if (!component.$template) throw new Error('must decaler this.$template in bootstrap()');\n    const template = component.$template;\n    if (template && typeof template === 'string' && renderDOM) {\n      if (component.nvBeforeMount) component.nvBeforeMount();\n\n      return this.replaceDom(component, renderDOM)\n      .then((_component) => {\n        if (_component.nvAfterMount) _component.nvAfterMount();\n        return _component;\n      });\n\n    } else {\n      throw new Error('renderBootstrap failed: template or rootDom is not exit');\n    }\n  }\n\n  /**\n   * render adn replace DOM\n   *\n   * @param {IComponent} component\n   * @param {Element} renderDOM\n   * @returns {Promise<IComponent>}\n   * @memberof InDiv\n   */\n  public replaceDom(component: IComponent, renderDOM: Element): Promise<IComponent> {\n    component.renderDom = renderDOM;\n    return component.render();\n  }\n}\n\nexport default InDiv;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = require('./lib/axios');","import axios from 'axios';\n\nclass NVHttp {\n  public get<P = any, R = any>(url: string, params?: P): Promise<R> {\n    return new Promise((resolve, reject) => {\n      const pms = params ? { params } : null;\n      axios.get(url, pms)\n        .then(res => {\n          resolve(res.data);\n        })\n        .catch(e => {\n          reject(e.response.data);\n        });\n    });\n  }\n\n  public delete<P = any, R = any>(url: string, params?: P): Promise<R> {\n    return new Promise((resolve, reject) => {\n      const pms = params ? { params } : null;\n      axios.delete(url, pms)\n        .then(res => {\n          resolve(res.data);\n        })\n        .catch(e => {\n          reject(e.response.data);\n        });\n    });\n  }\n\n  public post<P = any, R = any>(url: string, params?: P): Promise<R> {\n    return new Promise((resolve, reject) => {\n      axios.post(url, params)\n        .then(res => {\n          resolve(res.data);\n        })\n        .catch(e => {\n          reject(e.response.data);\n        });\n    });\n  }\n\n  public put<P = any, R = any>(url: string, params?: P): Promise<R> {\n    return new Promise((resolve, reject) => {\n      axios.put(url, params)\n        .then(res => {\n          resolve(res.data);\n        })\n        .catch(e => {\n          reject(e.response.data);\n        });\n    });\n  }\n\n  public patch<P = any, R = any>(url: string, params?: P): Promise<R> {\n    return new Promise((resolve, reject) => {\n      axios.patch(url, params)\n        .then(res => {\n          resolve(res.data);\n        })\n        .catch(e => {\n          reject(e.response.data);\n        });\n    });\n  }\n}\n\nexport default NVHttp;\n\n",null,"// import { Router, TRouter } from 'indiv';\nimport { Router, TRouter } from '../../../InDiv/src';\n\nconst router = new Router();\n\n\nconst routes: TRouter[] = [\n    {\n        path: '/',\n        redirectTo: '/introduction',\n        component: 'root-component',\n        children: [\n            {\n                path: '/introduction',\n                component: 'introduction-container',\n            },\n            {\n                path: '/architecture',\n                component: 'architecture-container',\n            },\n            {\n                path: '/docs',\n                redirectTo: '/docs/component',\n                component: 'docs-container',\n                children: [\n                    {\n                        path: '/component',\n                        component: 'docs-component-container',\n                    },\n                    {\n                        path: '/template',\n                        component: 'docs-template-container',\n                    },\n                    {\n                        path: '/service',\n                        component: 'docs-service-container',\n                    },\n                    {\n                        path: '/module',\n                        component: 'docs-module-container',\n                    },\n                    {\n                        path: '/route',\n                        component: 'docs-route-container',\n                    },\n                    {\n                        path: '/indiv',\n                        component: 'docs-indiv-container',\n                    },\n                    {\n                        path: '/libs',\n                        component: 'docs-libs-container',\n                    },\n                    {\n                        path: '/http',\n                        component: 'docs-http-container',\n                    },\n                ],\n            },\n            {\n                path: '/ssr',\n                component: 'ssr-container',\n            },\n        ],\n    },\n];\nrouter.setRootPath('/indiv-doc');\nrouter.init(routes);\nrouter.routeChange = (old: string, next: string) => {\n    // console.log('$routeChange', old, next);\n};\n\nexport default router;\n","export const content = () => [\n    {\n        h1: '什么是InDiv',\n        p: [\n            'InDiv 是一个mvvm库。它能帮你构建 Web 应用。InDiv 字符串模板、依赖注入和一些实践于一身。',\n        ], \n        info: [\n            'InDiv 是单词 individual 的缩写，我撸的时候借鉴了很多 angular，react，vue 的模式与概念。',\n            '本网页是世界上第一个用 InDiv 构建的网页。',\n            '在此致敬 angular，react 和 vue的大佬开发者们。感谢他们为前端做出的巨大贡献。',\n        ],\n    },\n    {\n        h1: '基本假设',\n        p: [\n            '本文档假设你已经熟悉了 JavaScript，TypeScript，和来自最新标准的一些知识，比如 class 和 esmodule。',\n            '下列代码范例都是用最新版本的 TypeScript 写的，利用 类型 实现依赖注入，并使用装饰器来提供元数据。',\n        ],\n    },\n    {\n        h1: '基本理念',\n        p: [\n            'InDiv 基于 mvvm, 本身使用 TypeScript编写。',\n            '它将核心功能和可选功能作为一组 TypeScript 库进行实现，你可以把它们导入你的应用中。',\n        ],\n        info: [\n            'InDiv 基本构造块是 NvModule，它为组件提供了编译的上下文环境和作用域',\n            '整个app的最小单位为 Component，页面上的一切皆为组件',\n            '异步渲染页面，尽量优化性能',\n        ],\n    },\n    {\n        h1: '反馈',\n        p: [\n            '你可以和我一起做贡献！你可以到 Github 上的仓库中提出文档方面的问题，并创建Pull Requests。',\n            '或者在 github 上联系我：DimaLiLongJi',\n        ],\n    },\n];\n",null,"// import { NvModule } from 'indiv';\nimport { NvModule } from '../../../InDiv/src';\n\nimport IntroductionContainer from '../pages/introduction';\n\n@NvModule({\n    imports: [\n    ],\n    components: [\n        IntroductionContainer,\n    ],\n    providers: [\n    ],\n    exports: [\n        IntroductionContainer,\n    ],\n})\nexport default class IntroductionModule { }\n","export const content = () => [\n  {\n    h1: '架构概览',\n    p: [\n      'InDiv 是一个 TypeScript 构建客户端应用的平台与框架。',\n      'InDiv 本身使用 TypeScript 写成的。',\n      '它将核心功能和可选功能作为一组 TypeScript 库进行实现，你可以把它们导入你的应用中。',\n    ],\n    info: [\n      'InDiv 的基本构造块是 NvModule，它为组件提供了编译的上下文环境和作用域。',\n      'NvModule 会把相关的一些功能收集到集中工具函数中。',\n      'InDiv 应用就是由一组 NvModule 定义出的。 应用至少会有一个用于引导应用的根模块，通常还会有很多其他模块。',\n      'Component 作为页面元素的基本单位，由定义的 NvModule 统一提供给编译器或路由使用。',\n      'Route 被委托管理页面渲染，根据访问的url的不同来获取不用的识图渲染。',\n    ],\n  },\n  {\n    h1: '模块',\n    p: [\n      'NvModule 作为整个应用的基本构造块，可以从其他 NvModule 引入或是导出 Component , 也可以导入 Service 为全局使用或是本模块。',\n    ],\n    info: [\n      '每个 InDiv 应用都有一个根模块，通常命名为 AppModule。',\n      '根模块提供了用来启动应用的引导机制',\n      '一个应用通常会包含很多功能模块，它们最后都应该被导入根模块中。',\n    ],\n  },\n  {\n    h1: '组件',\n    p: [\n      '组件控制屏幕上被称为视图的一小片区域。为识图提供交互和渲染模板',\n    ],\n    info: [\n      '每个 InDiv 应用都至少有一个组件，也就是根组件，它会把组件树和页面中的 DOM 连接起来。',\n      '每个组件都会定义一个类，其中包含应用的数据和逻辑，并与一个 字符串 模板相关联，该模板定义了一个供目标环境下显示的视图。',\n    ],\n  },\n  {\n    h1: '服务',\n    p: [\n      '服务是一个广义的概念，它包括应用所需的任何值、函数或特性。狭义的服务是一个明确定义了用途的类。它应该做一些具体的事，并做好。',\n      'InDiv 把组件和服务区分开，以提高模块性和复用性。',\n    ],\n    info: [\n      '对于与特定视图无关并希望跨组件共享的数据或逻辑，可以创建服务类。',\n      '服务类的定义通常紧跟在 “@Injectable” 装饰器之后。',\n      '该装饰器提供的元数据可以让你的服务作为依赖被注入到客户组件中。',\n      '依赖注入（或 DI）让你可以保持组件类的精简和高效。有了 DI，组件就不用从服务器获取数据、验证用户输入或直接把日志写到控制台，而是会把这些任务委托给服务。',\n    ],\n  },\n  {\n    h1: '路由',\n    p: [\n      '浏览器具有熟悉的导航模式，在地址栏输入 URL，浏览器就会导航到相应的页面。 InDiv 的 Router（即“路由器”）借鉴了这个模型。',\n      '它把浏览器中的 URL 看做一个操作指南， 据此导航到一个由客户端生成的视图，并可以把参数传给支撑视图的相应组件，帮它决定具体该展现哪些内容。',\n    ],\n    info: [\n      '要定义导航规则，你就要把导航路径和你的组件关联起来。',\n      ' 路径（path）使用类似 URL 的语法来和程序数据整合在一起，就像模板语法会把你的视图和程序数据整合起来一样。',\n      '然后你就可以用程序逻辑来决定要显示或隐藏哪些视图，以根据你制定的访问规则对用户的输入做出响应。',\n    ],\n  },\n];\n",null,"// import { NvModule } from 'indiv';\nimport { NvModule } from '../../../InDiv/src';\n\nimport ArchitectureContainer from '../pages/architecture';\n\n@NvModule({\n    components: [\n        ArchitectureContainer,\n    ],\n    exports: [\n        ArchitectureContainer,\n    ],\n})\nexport default class ArchitectureModule { }\n",null,"export const componentInfo = () => [\n  {\n    h1: '组件与模板',\n    p: [\n      '在 InDiv 中最典型的数据显示方式，就是把 HTML 模板中的控件绑定到 InDiv 组件的属性。',\n    ],\n    info: [\n      {\n        title: '装饰器 Component',\n        p: [\n          '@Component 装饰器会指出紧随其后的那个类是个组件类，并为其指定元数据。 在下面的范例代码中，你可以看到 ContainerComponent 只是一个普通类，完全没有 InDiv 特有的标记或语法。 直到给它加上了 @Component 装饰器，它才变成了组件。',\n          '@Component 接收3个参数: selector, template, providers',\n        ],\n        pchild: [\n          '1. selector: string; 作为组件（component）被渲染成 DOM 的标签，类似于 <div>',\n          '2. template: string; 视图模板，用来声明被渲染的视图',\n          '3. providers?: (Function | { provide: any; useClass: Function; } | { provide: any; useValue: any; })[]; 声明可以被组件注入的服务。',\n          '4. 在 JavaScript 中，只能把 装饰器Component 当做一个函数使用，最后应该导出被声明的类。',\n          '5. 组件会优先去组件 providers 查找依赖，其次才会去模块 providers 查找依赖。',\n          '6. 组件 providers 中的服务在每个组件实例内都有独立的实例。而模块 providers 则根据 isSingletonMode 决定是否为 全局单例 还是每次都实现一个新的实例。',\n          '7. 在 TypeScript 中 providers 仅仅能使用 providers: (Function | { provide: Function; useClass: Function; } | { provide: Function; useValue: any; })[]; 类型',\n          '8. 在 JavaScript 中 providers 仅仅能使用 providers: ({ provide: string; useClass: Function; } | { provide: string; useValue: any; })[]; 类型',\n        ],\n        code: `\n  // in TypeScript\n  @Component({\n    selector: 'container-component'\n    template: ('\n      <div>ContainerComponent {{state.a}}</div>\n    '),\n    providers: [\n      TestService,\n      {\n        provide: TestService1,\n        useClass: TestService1,\n      },\n      {\n        provide: TestService2,\n        useClass: '123',\n      },\n    ],\n  })\n  export default class ContainerComponent {\n    public state: {\n      a: number;\n    };\n\n    constructor(\n      private: testService: TestService\n    ) {\n      this.state = {\n        a: 1\n      };\n    }\n  }\n\n  // in JavaScript\n  export default class ContainerComponent {\n    static injectTokens = [\n      'testService'\n    ];\n\n    constructor(testService) {\n      this.testService = testService;\n      this.state = {\n        a: 1\n      };\n    }\n  }\n  Component({\n    selector: 'container-component'\n    template: ('\n      <div>ContainerComponent {{state.a}}</div>\n    '),\n    providers: [\n      {\n        provide: 'testService',\n        useClass: TestService,\n      },\n      {\n        provide: 'testService1',\n        useClass: TestService1,\n      },\n      {\n        provide: 'testService2',\n        useClass: '123',\n      },\n    ],\n  })(ContainerComponent)\n `,\n      },\n      {\n        title: '模板数据绑定',\n        p: [\n          '如果没有框架，你就要自己负责把数据渲染到 HTML 控件中，并把来自用户的响应转换成动作和对值的更新。 手动写这种数据推拉逻辑会很枯燥、容易出错，难以阅读 —— 用过 jQuery 的程序员一定深有体会。',\n          'InDiv 支持双向数据绑定，这是一种对模板中的各个部件与组件中的各个部件进行协调的机制。',\n        ],\n        pchild: [\n          '1. 往模板HTML字符串中添加绑定 nv- 开头的标记可以告诉 InDiv 该如何渲染它们。',\n          '2. 因为 InDiv 使用单向数据流，所以仅仅支持使用 this.state 内的值 或是 有返回值的实例上的方法 作为绑定数据， 实例的方法作为事件方法。',\n          '3. 如果要在组件内使用 props ，请在 nvReceiveProps 或 Class的getter setter方法 或 在 nvOnInit 生命周期内用 props 对 state 赋值。',\n          '4. 如果组件在 根模块（root NvModule）或模块（NvModule） 上的 components：Function[]; 声明过，则在其他同模块组件内的 template 可以像 HTML 标签一样使用组件。',\n          '4. 模板上的组件可接受的 props的值 必须用 {} 包裹起来。',\n          '5. props的值 有三种: <test-component man=\"{@countState(man.name)}\" women=\"{man.name}\" handler=\"{@getProps}\"></test-component>',\n          '(1) 直接使用 state上的值 或 nv-repeat 的值：women=\"{state.name} women=\"{man.name}\"',\n          '(2) 使用 @ 加 实例上带有返回值的方法，返回值将作为被传递的值：man=\"{@countState(man.name)}\"',\n          '(3) 使用 @ 加 实例上的方法，方法将作为 props 传递：handler=\"{@getProps}\"',\n        ],\n        code: `\n  @Component({\n    selector: 'container-component',\n    template: ('\n      <div nv-on:click=\"@show(state.a)\">\n        ContainerComponent {{state.a}}\n        <test-component value-a=\"{state.a}\" show=\"{@show}\"></test-component>\n      </div>\n      '),\n  })\n  export default class ContainerComponent {\n    constructor() {\n      this.state = {\n        a: null,\n      };\n    }\n\n    public show(a: any) {\n      console.log(a);\n    }\n\n    public nvReceiveProps(nextProps: any): void {\n      this.state.a = nextProps.a;\n    }\n  }\n `,\n      },\n      {\n        title: '组件通信1: props 与 state',\n        p: [\n          'InDiv 的组件之间可以 props 来通信。',\n          '组件间通信应该是单向的，通过传递值到子组件，并通过传递一个回调方法在子组件调用来更改对应父组件的值来完成通信。',\n          '直接改变 state 上的值，或通过 setState 更改 state 的值时，state会被立刻改变，因此更改state的行为为 同步的。',\n          '但是更改 state 值时，会触发异步的重新渲染，并在渲染后更新子组件的 props，',\n          '因此，通过在子组件中调用 props 上的方法来更新父组件的 state 时，子组件的 props 并不会立即更新。',\n          '如果想知道子组件的 props 何时被更新，应该通过生命周期 nvReceiveProps(nextProps: Props) 或 Class的getter setter方法去监听props的变化。',\n        ],\n        pchild: [\n          '1. 可以直接在 template 上使用在 NvModule 注册过的组件标签，并通过 prop-value=\"{state.value}\" prop-value=\"{@returnValue(state.value)}\" pro-function=\"{@fn}\" 的引号包裹花括号的写法传递值与方法。',\n          '2. template 上组件内的传值应按照 下划线命名法(UnderScoreCase) 书写，而在组件Class中应按照 驼峰命名法(CamelCase) 使用。例如: prop-value=\"{state.value}\" => this.props.propValue',\n          '3. 例如在下面例子，在 hero-component 内可以用循环 nv-repeat 的value，也可以使用 实例上有返回值的方法，也可以直接在实例方法中触发 handelClick 回调。',\n          '4. 如果该 DOM 会发生频繁变化，并且有可追踪的唯一 key 值，可以添加指令 nv-key, 让 InDiv 直接追踪到 DOM 变化，帮助保存 组件 内的 state。',\n          '5. 但是渲染的时候，不可以在模板上直接使用 props 的值，仅仅可以使用 class 实例的方法和 this.state 的值。',\n          '6. 在生命周期 constructor 和 nvOnInit 之后，会开启对 this.state 的监听，此监听会监听每个挂载到 this.state 上的属性及属性的属性，因此如果不对 this.state 添加新的属性或对属性的属性添加新的属性的话，可以直接对某个属性赋值。',\n          '7. 相反，如果要对 this.state 上的属性 增加属性或删除，则需要使用 setState<S>(newState: {[key: string]: S}) 方法对 this.state 重新添加监听',\n          '8. 可以直接引用 InDiv 的 SetState 来为 setState方法声明类型。',\n          '9. 可以通过生命周期 nvReceiveProps(nextProps: Props) 或 Class的getter setter方法去监听props的变化。(nvReceiveProps会先于getter setter被触发)。',\n        ],\n        code: `\n  import { Component, SetState, OnInit, ReceiveProps } from 'InDiv';\n  @Component({\n    selector: 'hero-component',\n    template: ('\n      <div>\n        <p>来自父组件的stateValue: {{state.stateValue}}</p>\n        <p>idValue: {{state.idValue}}</p>\n      </div>\n    '),\n  })\n  export default class HeroComponent implements OnInit, ReceiveProps {\n    public setState: SetState;\n    public state: any;\n    public props: any;\n    public _props: any;\n\n    public nvOnInit() {\n      this.state = {\n        idValue: this.props.idValue,\n        stateValue: this.props.stateValue,\n      };\n    }\n\n    public show(a: any) {\n      this.props.handelClick(a);\n    }\n\n    set props(props: any) {\n      this._props = props;\n    }\n\n    get props(): any {\n      return this._props;\n    }\n\n    public nvReceiveProps(nextProps: any): void {\n      this.state.idValue = nextProps.idValue;\n      this.setState({\n        stateValue: nextProps.stateValue,\n      });\n    }\n  }\n\n @Component({\n    selector: 'container-component',\n    template: ('\n      <div>\n        <div nv-repeat=\"let person in state.b\" nv-key=\"person.id\">\n          <hero-component handel-click=\"@show\" state-value=\"state.a\" id-value=\"person.id\" ></hero-component>\n        </div>\n      </div>\n    '),\n  })\n  export default class ContainerComponent {\n    constructor() {\n      this.state = {\n        a: {\n          id: 3,\n          name: '码农3',\n        },\n        b: [\n          {id: 1, name: '码农1'},\n          {id: 2, name: '码农2'},\n        ],\n      };\n    }\n\n    public show(a: any) {\n      console.log(a);\n    }\n  }\n `,\n      },\n      {\n        title: '组件通信2: service 与 RxJS',\n        p: [\n          '父子组件的通信可以通过 props , 但跨层级组件间的通信该怎么办？',\n          '相比于构建全局变量，InDiv 的服务显然更适合这种场景。',\n        ],\n        pchild: [\n          '1. InDiv 的组件之间可以通过注入同一个 单例service。（既全局仅仅产生一个实例）',\n          '2. 通过 RxJS 实现订阅与通知（RxJS 详细：https://rxjs-dev.firebaseapp.com/）',\n          '3. 通过RxJS可观察者对象，获得组件之间通信或状态变更',\n          '4. 在 nvOnDestory 生命周期钩子里取消订阅',\n        ],\n      },\n      {\n        title: '组件的依赖注入',\n        p: [\n          '通过依赖注入系统，可以无需关注任何过程直接拿到一个所需的服务实例。',\n          '每个组件实例都拥有一个同级的注入器，负责调用组件和模块的 providers，获取组件依赖的实例。',\n          '在 TypeScript 与 JavaScript 中，声明依赖的方式不一样',\n          '组件 providers 中的服务在每个组件实例内都有独立的实例。而模块 providers 则根据 isSingletonMode 决定是否为 全局单例 还是每次都实现一个新的实例。',\n        ],\n        pchild: [\n          '1. 在 TypeScript 中，通过 @Injected 注解，获取组件的构造函数中参数的类型，根据 provide: Function  查找依赖，并注入实例。',\n          '2. 在 JavaScript 中，通过组件类的静态属性 injectTokens: string[]，查找 provide: string 查找依赖，并注入实例。',\n          '3. 优先查找组件中被声明的服务，其次再在模块中被声明的服务中查找依赖',\n        ],\n        code: `\n import { Component, Injected } from 'InDiv';\n \n // in TypeScript\n @Injected\n @Component({\n    selector: 'hero-component',\n    template: ('\n      <div>\n        <p>{{state.stateValue}}</p>\n      </div>\n    '),\n    providers: [ HeroService ],\n  })\n  export default class HeroComponent {\n    public state: any;\n\n    constructor(\n      private heroService: HeroService\n    ) {}\n\n    public nvOnInit() {\n      this.state = {\n        stateValue: 111,\n      };\n    }\n  }\n\n  // in JavaScript\n  export default class HeroComponent {\n    static injectTokens = [\n      'heroService'\n    ];\n\n    constructor(heroService) {\n      this.heroService = heroService;\n    }\n\n    nvOnInit() {\n      this.state = {\n        stateValue: 111,\n      };\n    }\n  }\n  Component({\n    selector: 'hero-component',\n    template: ('\n      <div>\n        <p>{{state.stateValue}}</p>\n      </div>\n    '),\n    providers: [{\n      provide: 'heroService',\n      useClass: HeroService,\n    }],\n  })(HeroComponent);\n `,\n      },\n      {\n        title: '生命周期钩子',\n        p: [\n          '每个组件都有一个被 InDiv 管理的生命周期。',\n          '生命周期钩子其实就是定义在实例中的一些方法，在 InDiv 中，通过不同的时刻调用不同的生命周期钩子，',\n          '赋予你在它们发生时采取行动的能力。',\n          '在 TypeScript 中，引用 InDiv 提供的 interface，通过 implements 的方式让类去实现被预先定义好的生命周期，而在 JavaScript 中，你只能自己手动去定义应该实现的生命周期方法。',\n        ],\n        pchild: [\n          '1. constructor 在类被实例化的时候回触发，你可以在这里预先定义你的 state',\n          '2. nvOnInit(): void; constructor 之后，在这个生命周期中，可以通过 this.props 获取 props，并定义 state，此生命周期会在开启监听前被触发，并且之后再也不会触发',\n          '3. nvBeforeMount(): void; 在 nvOnInit 之后，template 挂载页面之前被触发，每次触发渲染页面都会被触发',\n          '4. nvAfterMount(): void; 在 nvBeforeMount 之后，template 挂载页面之后被触发，每次触发渲染页面（render）都会被触发',\n          '5. nvHasRender(): void; 在 nvAfterMount 之后，渲染完成后被触发，每次触发渲染页面（render）都会被触发',\n          '6. nvRouteChange(lastRoute?: string, newRoute?: string): void; 监听路由变化，当更换路由后被触发',\n          '7. nvOnDestory(): void; 仅仅在路由决定销毁此组件时被触发',\n          '8. nvWatchState(oldState?: any): void; 监听 state 变化，当 state 被更改后触发',\n          '9. nvReceiveProps(nextProps: any): void; 监听 props 变化，当 props 即将被更改时触发',\n          '10. getter: 当监听 props 时，getter 会先于 nvReceiveProps 被触发',\n          '11. setter: 当监听 state 时，setter 会晚于 nvWatchState 被触发',\n        ],\n        code: `\n import { Component, OnInit, BeforeMount, AfterMount, HasRender, OnDestory, WatchState, ReceiveProps } from 'InDiv';\n\n @Component({\n    selector: 'hero-component',\n    template: ('\n      <div>\n        <p>来自父组件的stateValue: {{state.stateValue}}</p>\n        <p>idValue: {{state.idValue}}</p>\n      </div>\n    '),\n  })\n  class HeroComponent implements\n    OnInit,\n    BeforeMount,\n    AfterMount,\n    HasRender,\n    WatchState,\n    ReceiveProps,\n  {\n    public setState: SetState;\n    public state: any;\n    public props: any;\n\n    public nvOnInit() {\n      this.state = {\n        idValue: this.props.idValue,\n        stateValue: this.props.stateValue,\n      };\n    }\n\n    public nvBeforeMount() {\n      console.log('component in BeforeMount');\n    }\n\n    public nvAfterMount() {\n      console.log('component in AfterMount');\n    }\n\n    public nvHasRender() {\n      console.log('component in HasRender');\n    }\n\n    public nvWatchState(oldState?: any) {\n      console.log('component in WatchState');\n    }\n\n    public nvReceiveProps(nextProps: any): void {\n      this.state.idValue = nextProps.idValue;\n      this.setState({\n        stateValue: nextProps.stateValue,\n      });\n    }\n\n    public show(a: any) {\n      this.props.handelClick(a);\n    }\n  }\n `,\n      },\n    ],\n  },\n];\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export function isFunction(x: any): x is Function {\n  return typeof x === 'function';\n}\n","let _enable_super_gross_mode_that_will_cause_bad_things = false;\n\n/**\n * The global configuration object for RxJS, used to configure things\n * like what Promise contructor should used to create Promises\n */\nexport const config = {\n  /**\n   * The promise constructor used by default for methods such as\n   * {@link toPromise} and {@link forEach}\n   */\n  Promise: undefined as PromiseConstructorLike,\n\n  /**\n   * If true, turns on synchronous error rethrowing, which is a deprecated behavior\n   * in v6 and higher. This behavior enables bad patterns like wrapping a subscribe\n   * call in a try/catch block. It also enables producer interference, a nasty bug\n   * where a multicast can be broken for all observers by a downstream consumer with\n   * an unhandled error. DO NOT USE THIS FLAG UNLESS IT'S NEEDED TO BY TIME\n   * FOR MIGRATION REASONS.\n   */\n  set useDeprecatedSynchronousErrorHandling(value: boolean) {\n    if (value) {\n      const error = new Error();\n      console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n    } else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n      console.log('RxJS: Back to a better error behavior. Thank you. <3');\n    }\n    _enable_super_gross_mode_that_will_cause_bad_things = value;\n  },\n\n  get useDeprecatedSynchronousErrorHandling() {\n    return _enable_super_gross_mode_that_will_cause_bad_things;\n  },\n};\n","/**\n * Throws an error on another job so that it's picked up by the runtime's\n * uncaught error handling mechanism.\n * @param err the error to throw\n */\nexport function hostReportError(err: any) {\n  setTimeout(() => { throw err; });\n}","import { Observer } from './types';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\nexport const empty: Observer<any> = {\n  closed: true,\n  next(value: any): void { /* noop */},\n  error(err: any): void {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      throw err;\n    } else {\n      hostReportError(err);\n    }\n  },\n  complete(): void { /*noop*/ }\n};\n","export const isArray = Array.isArray || (<T>(x: any): x is T[] => x && typeof x.length === 'number');\n","export function isObject(x: any): x is Object {\n  return x != null && typeof x === 'object';\n}\n","// typeof any so that it we don't have to cast when comparing a result to the error object\nexport const errorObject: any = { e: {} };","import { errorObject } from './errorObject';\n\nlet tryCatchTarget: Function;\n\nfunction tryCatcher(this: any): any {\n  try {\n    return tryCatchTarget.apply(this, arguments);\n  } catch (e) {\n    errorObject.e = e;\n    return errorObject;\n  }\n}\n\nexport function tryCatch<T extends Function>(fn: T): T {\n  tryCatchTarget = fn;\n  return <any>tryCatcher;\n}\n","export interface UnsubscriptionError extends Error {\n  readonly errors: any[];\n}\n\nexport interface UnsubscriptionErrorCtor {\n  new(errors: any[]): UnsubscriptionError;\n}\n\nfunction UnsubscriptionErrorImpl(this: any, errors: any[]) {\n  Error.call(this);\n  this.message = errors ?\n  `${errors.length} errors occurred during unsubscription:\n${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}` : '';\n  this.name = 'UnsubscriptionError';\n  this.errors = errors;\n  return this;\n}\n\nUnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nexport const UnsubscriptionError: UnsubscriptionErrorCtor = UnsubscriptionErrorImpl as any;","import { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { tryCatch } from './util/tryCatch';\nimport { errorObject } from './util/errorObject';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { SubscriptionLike, TeardownLogic } from './types';\n\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nexport class Subscription implements SubscriptionLike {\n  /** @nocollapse */\n  public static EMPTY: Subscription = (function(empty: any) {\n    empty.closed = true;\n    return empty;\n  }(new Subscription()));\n\n  /**\n   * A flag to indicate whether this Subscription has already been unsubscribed.\n   * @type {boolean}\n   */\n  public closed: boolean = false;\n\n  /** @internal */\n  protected _parent: Subscription = null;\n  /** @internal */\n  protected _parents: Subscription[] = null;\n  /** @internal */\n  private _subscriptions: SubscriptionLike[] = null;\n\n  /**\n   * @param {function(): void} [unsubscribe] A function describing how to\n   * perform the disposal of resources when the `unsubscribe` method is called.\n   */\n  constructor(unsubscribe?: () => void) {\n    if (unsubscribe) {\n      (<any> this)._unsubscribe = unsubscribe;\n    }\n  }\n\n  /**\n   * Disposes the resources held by the subscription. May, for instance, cancel\n   * an ongoing Observable execution or cancel any other type of work that\n   * started when the Subscription was created.\n   * @return {void}\n   */\n  unsubscribe(): void {\n    let hasErrors = false;\n    let errors: any[];\n\n    if (this.closed) {\n      return;\n    }\n\n    let { _parent, _parents, _unsubscribe, _subscriptions } = (<any> this);\n\n    this.closed = true;\n    this._parent = null;\n    this._parents = null;\n    // null out _subscriptions first so any child subscriptions that attempt\n    // to remove themselves from this subscription will noop\n    this._subscriptions = null;\n\n    let index = -1;\n    let len = _parents ? _parents.length : 0;\n\n    // if this._parent is null, then so is this._parents, and we\n    // don't have to remove ourselves from any parent subscriptions.\n    while (_parent) {\n      _parent.remove(this);\n      // if this._parents is null or index >= len,\n      // then _parent is set to null, and the loop exits\n      _parent = ++index < len && _parents[index] || null;\n    }\n\n    if (isFunction(_unsubscribe)) {\n      let trial = tryCatch(_unsubscribe).call(this);\n      if (trial === errorObject) {\n        hasErrors = true;\n        errors = errors || (\n          errorObject.e instanceof UnsubscriptionError ?\n            flattenUnsubscriptionErrors(errorObject.e.errors) : [errorObject.e]\n        );\n      }\n    }\n\n    if (isArray(_subscriptions)) {\n\n      index = -1;\n      len = _subscriptions.length;\n\n      while (++index < len) {\n        const sub = _subscriptions[index];\n        if (isObject(sub)) {\n          let trial = tryCatch(sub.unsubscribe).call(sub);\n          if (trial === errorObject) {\n            hasErrors = true;\n            errors = errors || [];\n            let err = errorObject.e;\n            if (err instanceof UnsubscriptionError) {\n              errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n            } else {\n              errors.push(err);\n            }\n          }\n        }\n      }\n    }\n\n    if (hasErrors) {\n      throw new UnsubscriptionError(errors);\n    }\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription.\n   *\n   * If the tear down being added is a subscription that is already\n   * unsubscribed, is the same reference `add` is being called on, or is\n   * `Subscription.EMPTY`, it will not be added.\n   *\n   * If this subscription is already in an `closed` state, the passed\n   * tear down logic will be executed immediately.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown: TeardownLogic): Subscription {\n    if (!teardown || (teardown === Subscription.EMPTY)) {\n      return Subscription.EMPTY;\n    }\n\n    if (teardown === this) {\n      return this;\n    }\n\n    let subscription = (<Subscription> teardown);\n\n    switch (typeof teardown) {\n      case 'function':\n        subscription = new Subscription(<(() => void) > teardown);\n      case 'object':\n        if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n          return subscription;\n        } else if (this.closed) {\n          subscription.unsubscribe();\n          return subscription;\n        } else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n          const tmp = subscription;\n          subscription = new Subscription();\n          subscription._subscriptions = [tmp];\n        }\n        break;\n      default:\n        throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n    }\n\n    const subscriptions = this._subscriptions || (this._subscriptions = []);\n\n    subscriptions.push(subscription);\n    subscription._addParent(this);\n\n    return subscription;\n  }\n\n  /**\n   * Removes a Subscription from the internal list of subscriptions that will\n   * unsubscribe during the unsubscribe process of this Subscription.\n   * @param {Subscription} subscription The subscription to remove.\n   * @return {void}\n   */\n  remove(subscription: Subscription): void {\n    const subscriptions = this._subscriptions;\n    if (subscriptions) {\n      const subscriptionIndex = subscriptions.indexOf(subscription);\n      if (subscriptionIndex !== -1) {\n        subscriptions.splice(subscriptionIndex, 1);\n      }\n    }\n  }\n\n  /** @internal */\n  private _addParent(parent: Subscription) {\n    let { _parent, _parents } = this;\n    if (!_parent || _parent === parent) {\n      // If we don't have a parent, or the new parent is the same as the\n      // current parent, then set this._parent to the new parent.\n      this._parent = parent;\n    } else if (!_parents) {\n      // If there's already one parent, but not multiple, allocate an Array to\n      // store the rest of the parent Subscriptions.\n      this._parents = [parent];\n    } else if (_parents.indexOf(parent) === -1) {\n      // Only add the new parent to the _parents list if it's not already there.\n      _parents.push(parent);\n    }\n  }\n}\n\nfunction flattenUnsubscriptionErrors(errors: any[]) {\n return errors.reduce((errs, err) => errs.concat((err instanceof UnsubscriptionError) ? err.errors : err), []);\n}\n","/** @deprecated do not use, this is no longer checked by RxJS internals */\nexport const rxSubscriber =\n  typeof Symbol === 'function'\n    ? Symbol('rxSubscriber')\n    : '@@rxSubscriber_' + Math.random();\n\n/**\n * @deprecated use rxSubscriber instead\n */\nexport const $$rxSubscriber = rxSubscriber;\n","import { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Observer, PartialObserver, TeardownLogic } from './types';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nexport class Subscriber<T> extends Subscription implements Observer<T> {\n\n  [rxSubscriberSymbol]() { return this; }\n\n  /**\n   * A static factory for a Subscriber, given a (potentially partial) definition\n   * of an Observer.\n   * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n   * Observer represented by the given arguments.\n   * @nocollapse\n   */\n  static create<T>(next?: (x?: T) => void,\n                   error?: (e?: any) => void,\n                   complete?: () => void): Subscriber<T> {\n    const subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  }\n\n  /** @internal */ syncErrorValue: any = null;\n  /** @internal */ syncErrorThrown: boolean = false;\n  /** @internal */ syncErrorThrowable: boolean = false;\n\n  protected isStopped: boolean = false;\n  protected destination: PartialObserver<any> | Subscriber<any>; // this `any` is the escape hatch to erase extra type param (e.g. R)\n\n  private _parentSubscription: Subscription | null = null;\n\n  /**\n   * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n   * defined Observer or a `next` callback function.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   */\n  constructor(destinationOrNext?: PartialObserver<any> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    switch (arguments.length) {\n      case 0:\n        this.destination = emptyObserver;\n        break;\n      case 1:\n        if (!destinationOrNext) {\n          this.destination = emptyObserver;\n          break;\n        }\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            this.destination = destinationOrNext;\n            destinationOrNext.add(this);\n          } else {\n            this.syncErrorThrowable = true;\n            this.destination = new SafeSubscriber<T>(this, <PartialObserver<any>> destinationOrNext);\n          }\n          break;\n        }\n      default:\n        this.syncErrorThrowable = true;\n        this.destination = new SafeSubscriber<T>(this, <((value: T) => void)> destinationOrNext, error, complete);\n        break;\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `next` from\n   * the Observable, with a value. The Observable may call this method 0 or more\n   * times.\n   * @param {T} [value] The `next` value.\n   * @return {void}\n   */\n  next(value?: T): void {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `error` from\n   * the Observable, with an attached `Error`. Notifies the Observer that\n   * the Observable has experienced an error condition.\n   * @param {any} [err] The `error` exception.\n   * @return {void}\n   */\n  error(err?: any): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._error(err);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive a valueless notification of type\n   * `complete` from the Observable. Notifies the Observer that the Observable\n   * has finished sending push-based notifications.\n   * @return {void}\n   */\n  complete(): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._complete();\n    }\n  }\n\n  unsubscribe(): void {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    super.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    this.destination.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.destination.complete();\n    this.unsubscribe();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribeAndRecycle(): Subscriber<T> {\n    const { _parent, _parents } = this;\n    this._parent = null;\n    this._parents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parent = _parent;\n    this._parents = _parents;\n    this._parentSubscription = null;\n    return this;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SafeSubscriber<T> extends Subscriber<T> {\n\n  private _context: any;\n\n  constructor(private _parentSubscriber: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    let next: ((value: T) => void);\n    let context: any = this;\n\n    if (isFunction(observerOrNext)) {\n      next = (<((value: T) => void)> observerOrNext);\n    } else if (observerOrNext) {\n      next = (<PartialObserver<T>> observerOrNext).next;\n      error = (<PartialObserver<T>> observerOrNext).error;\n      complete = (<PartialObserver<T>> observerOrNext).complete;\n      if (observerOrNext !== emptyObserver) {\n        context = Object.create(observerOrNext);\n        if (isFunction(context.unsubscribe)) {\n          this.add(<() => void> context.unsubscribe.bind(context));\n        }\n        context.unsubscribe = this.unsubscribe.bind(this);\n      }\n    }\n\n    this._context = context;\n    this._next = next;\n    this._error = error;\n    this._complete = complete;\n  }\n\n  next(value?: T): void {\n    if (!this.isStopped && this._next) {\n      const { _parentSubscriber } = this;\n      if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  error(err?: any): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      const { useDeprecatedSynchronousErrorHandling } = config;\n      if (this._error) {\n        if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n        if (useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        }\n        hostReportError(err);\n      } else {\n        if (useDeprecatedSynchronousErrorHandling) {\n          _parentSubscriber.syncErrorValue = err;\n          _parentSubscriber.syncErrorThrown = true;\n        } else {\n          hostReportError(err);\n        }\n        this.unsubscribe();\n      }\n    }\n  }\n\n  complete(): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._complete) {\n        const wrappedComplete = () => this._complete.call(this._context);\n\n        if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  private __tryOrUnsub(fn: Function, value?: any): void {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError(err);\n      }\n    }\n  }\n\n  private __tryOrSetError(parent: Subscriber<T>, fn: Function, value?: any): boolean {\n    if (!config.useDeprecatedSynchronousErrorHandling) {\n      throw new Error('bad call');\n    }\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        parent.syncErrorValue = err;\n        parent.syncErrorThrown = true;\n        return true;\n      } else {\n        hostReportError(err);\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _unsubscribe(): void {\n    const { _parentSubscriber } = this;\n    this._context = null;\n    this._parentSubscriber = null;\n    _parentSubscriber.unsubscribe();\n  }\n}\n","import { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\n\n/**\n * Determines whether the ErrorObserver is closed or stopped or has a\n * destination that is closed or stopped - in which case errors will\n * need to be reported via a different mechanism.\n * @param observer the observer\n */\nexport function canReportError(observer: Subscriber<any> | Subject<any>): boolean {\n  while (observer) {\n    const { closed, destination, isStopped } = observer as any;\n    if (closed || isStopped) {\n      return false;\n    } else if (destination && destination instanceof Subscriber) {\n      observer = destination;\n    } else {\n      observer = null;\n    }\n  }\n  return true;\n}\n","import { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nimport { PartialObserver } from '../types';\n\nexport function toSubscriber<T>(\n  nextOrObserver?: PartialObserver<T> | ((value: T) => void),\n  error?: (error: any) => void,\n  complete?: () => void): Subscriber<T> {\n\n  if (nextOrObserver) {\n    if (nextOrObserver instanceof Subscriber) {\n      return (<Subscriber<T>> nextOrObserver);\n    }\n\n    if (nextOrObserver[rxSubscriberSymbol]) {\n      return nextOrObserver[rxSubscriberSymbol]();\n    }\n  }\n\n  if (!nextOrObserver && !error && !complete) {\n    return new Subscriber(emptyObserver);\n  }\n\n  return new Subscriber(nextOrObserver, error, complete);\n}\n","import { root } from '../util/root';\n\n/** Symbol.observable addition */\n/* Note: This will add Symbol.observable globally for all TypeScript users,\n  however, we are no longer polyfilling Symbol.observable */\ndeclare global {\n  interface SymbolConstructor {\n    readonly observable: symbol;\n  }\n}\n\n/** Symbol.observable or a string \"@@observable\". Used for interop */\nexport const observable = typeof Symbol === 'function' && Symbol.observable || '@@observable';\n","/* tslint:disable:no-empty */\nexport function noop() { }\n","import { noop } from './noop';\nimport { UnaryFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function pipe<T>(): UnaryFunction<T, T>;\nexport function pipe<T, A>(fn1: UnaryFunction<T, A>): UnaryFunction<T, A>;\nexport function pipe<T, A, B>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>): UnaryFunction<T, B>;\nexport function pipe<T, A, B, C>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>): UnaryFunction<T, C>;\nexport function pipe<T, A, B, C, D>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>): UnaryFunction<T, D>;\nexport function pipe<T, A, B, C, D, E>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>): UnaryFunction<T, E>;\nexport function pipe<T, A, B, C, D, E, F>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>): UnaryFunction<T, F>;\nexport function pipe<T, A, B, C, D, E, F, G>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>): UnaryFunction<T, G>;\nexport function pipe<T, A, B, C, D, E, F, G, H>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>): UnaryFunction<T, H>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>): UnaryFunction<T, I>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>, ...fns: UnaryFunction<any, any>[]): UnaryFunction<T, {}>;\n/* tslint:enable:max-line-length */\n\nexport function pipe(...fns: Array<UnaryFunction<any, any>>): UnaryFunction<any, any> {\n  return pipeFromArray(fns);\n}\n\n/** @internal */\nexport function pipeFromArray<T, R>(fns: Array<UnaryFunction<T, R>>): UnaryFunction<T, R> {\n  if (!fns) {\n    return noop as UnaryFunction<any, any>;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input: T): R {\n    return fns.reduce((prev: any, fn: UnaryFunction<T, R>) => fn(prev), input as any);\n  };\n}\n","import { Operator } from './Operator';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { TeardownLogic, OperatorFunction, PartialObserver, Subscribable } from './types';\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { iif } from './observable/iif';\nimport { throwError } from './observable/throwError';\nimport { observable as Symbol_observable } from '../internal/symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\n\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nexport class Observable<T> implements Subscribable<T> {\n\n  /** Internal implementation detail, do not use directly. */\n  public _isScalar: boolean = false;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  source: Observable<any>;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  operator: Operator<any, T>;\n\n  /**\n   * @constructor\n   * @param {Function} subscribe the function that is called when the Observable is\n   * initially subscribed to. This function is given a Subscriber, to which new values\n   * can be `next`ed, or an `error` method can be called to raise an error, or\n   * `complete` can be called to notify of a successful completion.\n   */\n  constructor(subscribe?: (this: Observable<T>, subscriber: Subscriber<T>) => TeardownLogic) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  // HACK: Since TypeScript inherits static properties too, we have to\n  // fight against TypeScript here so Subject can have a different static create signature\n  /**\n   * Creates a new cold Observable by calling the Observable constructor\n   * @static true\n   * @owner Observable\n   * @method create\n   * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n   * @return {Observable} a new cold observable\n   * @nocollapse\n   */\n  static create: Function = <T>(subscribe?: (subscriber: Subscriber<T>) => TeardownLogic) => {\n    return new Observable<T>(subscribe);\n  }\n\n  /**\n   * Creates a new Observable, with this Observable as the source, and the passed\n   * operator defined as the new observable's operator.\n   * @method lift\n   * @param {Operator} operator the operator defining the operation to take on the observable\n   * @return {Observable} a new observable with the Operator applied\n   */\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const observable = new Observable<R>();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  }\n\n  subscribe(observer?: PartialObserver<T>): Subscription;\n  subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): Subscription;\n  /**\n   * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n   *\n   * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n   *\n   * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n   * might be for example a function that you passed to Observable's constructor, but most of the time it is\n   * a library implementation, which defines what will be emitted by an Observable, and when it be will emitted. This means\n   * that calling `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n   * the thought.\n   *\n   * Apart from starting the execution of an Observable, this method allows you to listen for values\n   * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n   * of the following ways.\n   *\n   * The first way is creating an object that implements {@link Observer} interface. It should have methods\n   * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n   * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n   * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n   * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n   * do anything, you can simply omit it. Note however, if the `error` method is not provided, all errors will\n   * be left uncaught.\n   *\n   * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n   * This means you can provide three functions as arguments to `subscribe`, where the first function is equivalent\n   * of a `next` method, the second of an `error` method and the third of a `complete` method. Just as in case of Observer,\n   * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n   * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n   * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n   *\n   * Whichever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n   * This object allows you to call `unsubscribe` on it, which in turn will stop the work that an Observable does and will clean\n   * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n   * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n   *\n   * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n   * It is an Observable itself that decides when these functions will be called. For example {@link of}\n   * by default emits all its values synchronously. Always check documentation for how given Observable\n   * will behave when subscribed and if its default behavior can be modified with a `scheduler`.\n   *\n   * ## Example\n   * ### Subscribe with an Observer\n   * ```javascript\n   * const sumObserver = {\n   *   sum: 0,\n   *   next(value) {\n   *     console.log('Adding: ' + value);\n   *     this.sum = this.sum + value;\n   *   },\n   *   error() { // We actually could just remove this method,\n   *   },        // since we do not really care about errors right now.\n   *   complete() {\n   *     console.log('Sum equals: ' + this.sum);\n   *   }\n   * };\n   *\n   * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n   * .subscribe(sumObserver);\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Subscribe with functions\n   * ```javascript\n   * let sum = 0;\n   *\n   * Rx.Observable.of(1, 2, 3)\n   * .subscribe(\n   *   function(value) {\n   *     console.log('Adding: ' + value);\n   *     sum = sum + value;\n   *   },\n   *   undefined,\n   *   function() {\n   *     console.log('Sum equals: ' + sum);\n   *   }\n   * );\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Cancel a subscription\n   * ```javascript\n   * const subscription = Rx.Observable.interval(1000).subscribe(\n   *   num => console.log(num),\n   *   undefined,\n   *   () => console.log('completed!') // Will not be called, even\n   * );                                // when cancelling subscription\n   *\n   *\n   * setTimeout(() => {\n   *   subscription.unsubscribe();\n   *   console.log('unsubscribed!');\n   * }, 2500);\n   *\n   * // Logs:\n   * // 0 after 1s\n   * // 1 after 2s\n   * // \"unsubscribed!\" after 2.5s\n   * ```\n   *\n   * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n   *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n   *  Observable.\n   * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n   *  the error will be thrown as unhandled.\n   * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n   * @return {ISubscription} a subscription reference to the registered handlers\n   * @method subscribe\n   */\n  subscribe(observerOrNext?: PartialObserver<T> | ((value: T) => void),\n            error?: (error: any) => void,\n            complete?: () => void): Subscription {\n\n    const { operator } = this;\n    const sink = toSubscriber(observerOrNext, error, complete);\n\n    if (operator) {\n      operator.call(sink, this.source);\n    } else {\n      sink.add(\n        this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n        this._subscribe(sink) :\n        this._trySubscribe(sink)\n      );\n    }\n\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      if (sink.syncErrorThrowable) {\n        sink.syncErrorThrowable = false;\n        if (sink.syncErrorThrown) {\n          throw sink.syncErrorValue;\n        }\n      }\n    }\n\n    return sink;\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _trySubscribe(sink: Subscriber<T>): TeardownLogic {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        sink.syncErrorThrown = true;\n        sink.syncErrorValue = err;\n      }\n      if (canReportError(sink)) {\n        sink.error(err);\n      } else {\n        console.warn(err);\n      }\n    }\n  }\n\n  /**\n   * @method forEach\n   * @param {Function} next a handler for each value emitted by the observable\n   * @param {PromiseConstructor} [promiseCtor] a constructor function used to instantiate the Promise\n   * @return {Promise} a promise that either resolves on observable completion or\n   *  rejects with the handled error\n   */\n  forEach(next: (value: T) => void, promiseCtor?: PromiseConstructorLike): Promise<void> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor<void>((resolve, reject) => {\n      // Must be declared in a separate statement to avoid a RefernceError when\n      // accessing subscription below in the closure due to Temporal Dead Zone.\n      let subscription: Subscription;\n      subscription = this.subscribe((value) => {\n        try {\n          next(value);\n        } catch (err) {\n          reject(err);\n          if (subscription) {\n            subscription.unsubscribe();\n          }\n        }\n      }, reject, resolve);\n    }) as Promise<void>;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<any>): TeardownLogic {\n    const { source } = this;\n    return source && source.subscribe(subscriber);\n  }\n\n  // `if` and `throw` are special snow flakes, the compiler sees them as reserved words. Deprecated in\n  // favor of iif and throwError functions.\n  /**\n   * @nocollapse\n   * @deprecated In favor of iif creation function: import { iif } from 'rxjs';\n   */\n  static if: typeof iif;\n  /**\n   * @nocollapse\n   * @deprecated In favor of throwError creation function: import { throwError } from 'rxjs';\n   */\n  static throw: typeof throwError;\n\n  /**\n   * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n   * @method Symbol.observable\n   * @return {Observable} this instance of the observable\n   */\n  [Symbol_observable]() {\n    return this;\n  }\n\n  /* tslint:disable:max-line-length */\n  pipe(): Observable<T>;\n  pipe<A>(op1: OperatorFunction<T, A>): Observable<A>;\n  pipe<A, B>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>): Observable<B>;\n  pipe<A, B, C>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>): Observable<C>;\n  pipe<A, B, C, D>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>): Observable<D>;\n  pipe<A, B, C, D, E>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>): Observable<E>;\n  pipe<A, B, C, D, E, F>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>): Observable<F>;\n  pipe<A, B, C, D, E, F, G>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>): Observable<G>;\n  pipe<A, B, C, D, E, F, G, H>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>): Observable<H>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>): Observable<I>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>, ...operations: OperatorFunction<any, any>[]): Observable<{}>;\n  /* tslint:enable:max-line-length */\n\n  /**\n   * Used to stitch together functional operators into a chain.\n   * @method pipe\n   * @return {Observable} the Observable result of all of the operators having\n   * been called in the order they were passed in.\n   *\n   * ### Example\n   * ```javascript\n   * import { map, filter, scan } from 'rxjs/operators';\n   *\n   * Rx.Observable.interval(1000)\n   *   .pipe(\n   *     filter(x => x % 2 === 0),\n   *     map(x => x + x),\n   *     scan((acc, x) => acc + x)\n   *   )\n   *   .subscribe(x => console.log(x))\n   * ```\n   */\n  pipe(...operations: OperatorFunction<any, any>[]): Observable<any> {\n    if (operations.length === 0) {\n      return this as any;\n    }\n\n    return pipeFromArray(operations)(this);\n  }\n\n  /* tslint:disable:max-line-length */\n  toPromise<T>(this: Observable<T>): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: typeof Promise): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: PromiseConstructorLike): Promise<T>;\n  /* tslint:enable:max-line-length */\n\n  toPromise(promiseCtor?: PromiseConstructorLike): Promise<T> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor((resolve, reject) => {\n      let value: any;\n      this.subscribe((x: T) => value = x, (err: any) => reject(err), () => resolve(value));\n    }) as Promise<T>;\n  }\n}\n\n/**\n * Decides between a passed promise constructor from consuming code,\n * A default configured promise constructor, and the native promise\n * constructor and returns it. If nothing can be found, it will throw\n * an error.\n * @param promiseCtor The optional promise constructor to passed by consuming code\n */\nfunction getPromiseCtor(promiseCtor: PromiseConstructorLike | undefined) {\n  if (!promiseCtor) {\n    promiseCtor = config.Promise || Promise;\n  }\n\n  if (!promiseCtor) {\n    throw new Error('no Promise impl found');\n  }\n\n  return promiseCtor;\n}\n","export interface ObjectUnsubscribedError extends Error {\n}\n\nexport interface ObjectUnsubscribedErrorCtor {\n  new(): ObjectUnsubscribedError;\n}\n\nfunction ObjectUnsubscribedErrorImpl(this: any) {\n  Error.call(this);\n  this.message = 'object unsubscribed';\n  this.name = 'ObjectUnsubscribedError';\n  return this;\n}\n\nObjectUnsubscribedErrorImpl.prototype = Object.create(Error.prototype);\n\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nexport const ObjectUnsubscribedError: ObjectUnsubscribedErrorCtor = ObjectUnsubscribedErrorImpl as any;","import { Subject } from './Subject';\nimport { Observer } from './types';\nimport { Subscription } from './Subscription';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SubjectSubscription<T> extends Subscription {\n  closed: boolean = false;\n\n  constructor(public subject: Subject<T>, public subscriber: Observer<T>) {\n    super();\n  }\n\n  unsubscribe() {\n    if (this.closed) {\n      return;\n    }\n\n    this.closed = true;\n\n    const subject = this.subject;\n    const observers = subject.observers;\n\n    this.subject = null;\n\n    if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n      return;\n    }\n\n    const subscriberIndex = observers.indexOf(this.subscriber);\n\n    if (subscriberIndex !== -1) {\n      observers.splice(subscriberIndex, 1);\n    }\n  }\n}\n","import { Operator } from './Operator';\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { Observer, SubscriptionLike, TeardownLogic } from './types';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\n\n/**\n * @class SubjectSubscriber<T>\n */\nexport class SubjectSubscriber<T> extends Subscriber<T> {\n  constructor(protected destination: Subject<T>) {\n    super(destination);\n  }\n}\n\n/**\n * A Subject is a special type of Observable that allows values to be\n * multicasted to many Observables. Subjects are like EventEmitters.\n *\n * Every Subject is an Observable and an Observer. You can subscribe to a\n * Subject, and you can call next to feed values as well as error and complete.\n *\n * @class Subject<T>\n */\nexport class Subject<T> extends Observable<T> implements SubscriptionLike {\n\n  [rxSubscriberSymbol]() {\n    return new SubjectSubscriber(this);\n  }\n\n  observers: Observer<T>[] = [];\n\n  closed = false;\n\n  isStopped = false;\n\n  hasError = false;\n\n  thrownError: any = null;\n\n  constructor() {\n    super();\n  }\n\n  /**@nocollapse */\n  static create: Function = <T>(destination: Observer<T>, source: Observable<T>): AnonymousSubject<T> => {\n    return new AnonymousSubject<T>(destination, source);\n  }\n\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const subject = new AnonymousSubject(this, this);\n    subject.operator = <any>operator;\n    return <any>subject;\n  }\n\n  next(value?: T) {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n    if (!this.isStopped) {\n      const { observers } = this;\n      const len = observers.length;\n      const copy = observers.slice();\n      for (let i = 0; i < len; i++) {\n        copy[i].next(value);\n      }\n    }\n  }\n\n  error(err: any) {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n    this.hasError = true;\n    this.thrownError = err;\n    this.isStopped = true;\n    const { observers } = this;\n    const len = observers.length;\n    const copy = observers.slice();\n    for (let i = 0; i < len; i++) {\n      copy[i].error(err);\n    }\n    this.observers.length = 0;\n  }\n\n  complete() {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n    this.isStopped = true;\n    const { observers } = this;\n    const len = observers.length;\n    const copy = observers.slice();\n    for (let i = 0; i < len; i++) {\n      copy[i].complete();\n    }\n    this.observers.length = 0;\n  }\n\n  unsubscribe() {\n    this.isStopped = true;\n    this.closed = true;\n    this.observers = null;\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _trySubscribe(subscriber: Subscriber<T>): TeardownLogic {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else {\n      return super._trySubscribe(subscriber);\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else if (this.hasError) {\n      subscriber.error(this.thrownError);\n      return Subscription.EMPTY;\n    } else if (this.isStopped) {\n      subscriber.complete();\n      return Subscription.EMPTY;\n    } else {\n      this.observers.push(subscriber);\n      return new SubjectSubscription(this, subscriber);\n    }\n  }\n\n  /**\n   * Creates a new Observable with this Subject as the source. You can do this\n   * to create customize Observer-side logic of the Subject and conceal it from\n   * code that uses the Observable.\n   * @return {Observable} Observable that the Subject casts to\n   */\n  asObservable(): Observable<T> {\n    const observable = new Observable<T>();\n    (<any>observable).source = this;\n    return observable;\n  }\n}\n\n/**\n * @class AnonymousSubject<T>\n */\nexport class AnonymousSubject<T> extends Subject<T> {\n  constructor(protected destination?: Observer<T>, source?: Observable<T>) {\n    super();\n    this.source = source;\n  }\n\n  next(value: T) {\n    const { destination } = this;\n    if (destination && destination.next) {\n      destination.next(value);\n    }\n  }\n\n  error(err: any) {\n    const { destination } = this;\n    if (destination && destination.error) {\n      this.destination.error(err);\n    }\n  }\n\n  complete() {\n    const { destination } = this;\n    if (destination && destination.complete) {\n      this.destination.complete();\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    const { source } = this;\n    if (source) {\n      return this.source.subscribe(subscriber);\n    } else {\n      return Subscription.EMPTY;\n    }\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\nimport { ConnectableObservable } from '../observable/ConnectableObservable';\nimport { Observable } from '../Observable';\n\nexport function refCount<T>(): MonoTypeOperatorFunction<T> {\n  return function refCountOperatorFunction(source: ConnectableObservable<T>): Observable<T> {\n    return source.lift(new RefCountOperator(source));\n  } as MonoTypeOperatorFunction<T>;\n}\n\nclass RefCountOperator<T> implements Operator<T, T> {\n  constructor(private connectable: ConnectableObservable<T>) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n\n    const { connectable } = this;\n    (<any> connectable)._refCount++;\n\n    const refCounter = new RefCountSubscriber(subscriber, connectable);\n    const subscription = source.subscribe(refCounter);\n\n    if (!refCounter.closed) {\n      (<any> refCounter).connection = connectable.connect();\n    }\n\n    return subscription;\n  }\n}\n\nclass RefCountSubscriber<T> extends Subscriber<T> {\n\n  private connection: Subscription;\n\n  constructor(destination: Subscriber<T>,\n              private connectable: ConnectableObservable<T>) {\n    super(destination);\n  }\n\n  protected _unsubscribe() {\n\n    const { connectable } = this;\n    if (!connectable) {\n      this.connection = null;\n      return;\n    }\n\n    this.connectable = null;\n    const refCount = (<any> connectable)._refCount;\n    if (refCount <= 0) {\n      this.connection = null;\n      return;\n    }\n\n    (<any> connectable)._refCount = refCount - 1;\n    if (refCount > 1) {\n      this.connection = null;\n      return;\n    }\n\n    ///\n    // Compare the local RefCountSubscriber's connection Subscription to the\n    // connection Subscription on the shared ConnectableObservable. In cases\n    // where the ConnectableObservable source synchronously emits values, and\n    // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n    // execution continues to here before the RefCountOperator has a chance to\n    // supply the RefCountSubscriber with the shared connection Subscription.\n    // For example:\n    // ```\n    // range(0, 10).pipe(\n    //   publish(),\n    //   refCount(),\n    //   take(5),\n    // )\n    // .subscribe();\n    // ```\n    // In order to account for this case, RefCountSubscriber should only dispose\n    // the ConnectableObservable's shared connection Subscription if the\n    // connection Subscription exists, *and* either:\n    //   a. RefCountSubscriber doesn't have a reference to the shared connection\n    //      Subscription yet, or,\n    //   b. RefCountSubscriber's connection Subscription reference is identical\n    //      to the shared connection Subscription\n    ///\n    const { connection } = this;\n    const sharedConnection = (<any> connectable)._connection;\n    this.connection = null;\n\n    if (sharedConnection && (!connection || sharedConnection === connection)) {\n      sharedConnection.unsubscribe();\n    }\n  }\n}\n","import { Subject, SubjectSubscriber } from '../Subject';\nimport { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { TeardownLogic } from '../types';\nimport { refCount as higherOrderRefCount } from '../operators/refCount';\n\n/**\n * @class ConnectableObservable<T>\n */\nexport class ConnectableObservable<T> extends Observable<T> {\n\n  protected _subject: Subject<T>;\n  protected _refCount: number = 0;\n  protected _connection: Subscription;\n  /** @internal */\n  _isComplete = false;\n\n  constructor(public source: Observable<T>,\n              protected subjectFactory: () => Subject<T>) {\n    super();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>) {\n    return this.getSubject().subscribe(subscriber);\n  }\n\n  protected getSubject(): Subject<T> {\n    const subject = this._subject;\n    if (!subject || subject.isStopped) {\n      this._subject = this.subjectFactory();\n    }\n    return this._subject;\n  }\n\n  connect(): Subscription {\n    let connection = this._connection;\n    if (!connection) {\n      this._isComplete = false;\n      connection = this._connection = new Subscription();\n      connection.add(this.source\n        .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n      if (connection.closed) {\n        this._connection = null;\n        connection = Subscription.EMPTY;\n      } else {\n        this._connection = connection;\n      }\n    }\n    return connection;\n  }\n\n  refCount(): Observable<T> {\n    return higherOrderRefCount()(this) as Observable<T>;\n  }\n}\n\nconst connectableProto = <any>ConnectableObservable.prototype;\n\nexport const connectableObservableDescriptor: PropertyDescriptorMap = {\n  operator: { value: null },\n  _refCount: { value: 0, writable: true },\n  _subject: { value: null, writable: true },\n  _connection: { value: null, writable: true },\n  _subscribe: { value: connectableProto._subscribe },\n  _isComplete: { value: connectableProto._isComplete, writable: true },\n  getSubject: { value: connectableProto.getSubject },\n  connect: { value: connectableProto.connect },\n  refCount: { value: connectableProto.refCount }\n};\n\nclass ConnectableSubscriber<T> extends SubjectSubscriber<T> {\n  constructor(destination: Subject<T>,\n              private connectable: ConnectableObservable<T>) {\n    super(destination);\n  }\n  protected _error(err: any): void {\n    this._unsubscribe();\n    super._error(err);\n  }\n  protected _complete(): void {\n    this.connectable._isComplete = true;\n    this._unsubscribe();\n    super._complete();\n  }\n  protected _unsubscribe() {\n    const connectable = <any>this.connectable;\n    if (connectable) {\n      this.connectable = null;\n      const connection = connectable._connection;\n      connectable._refCount = 0;\n      connectable._subject = null;\n      connectable._connection = null;\n      if (connection) {\n        connection.unsubscribe();\n      }\n    }\n  }\n}\n\nclass RefCountOperator<T> implements Operator<T, T> {\n  constructor(private connectable: ConnectableObservable<T>) {\n  }\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n\n    const { connectable } = this;\n    (<any> connectable)._refCount++;\n\n    const refCounter = new RefCountSubscriber(subscriber, connectable);\n    const subscription = source.subscribe(refCounter);\n\n    if (!refCounter.closed) {\n      (<any> refCounter).connection = connectable.connect();\n    }\n\n    return subscription;\n  }\n}\n\nclass RefCountSubscriber<T> extends Subscriber<T> {\n\n  private connection: Subscription;\n\n  constructor(destination: Subscriber<T>,\n              private connectable: ConnectableObservable<T>) {\n    super(destination);\n  }\n\n  protected _unsubscribe() {\n\n    const { connectable } = this;\n    if (!connectable) {\n      this.connection = null;\n      return;\n    }\n\n    this.connectable = null;\n    const refCount = (<any> connectable)._refCount;\n    if (refCount <= 0) {\n      this.connection = null;\n      return;\n    }\n\n    (<any> connectable)._refCount = refCount - 1;\n    if (refCount > 1) {\n      this.connection = null;\n      return;\n    }\n\n    ///\n    // Compare the local RefCountSubscriber's connection Subscription to the\n    // connection Subscription on the shared ConnectableObservable. In cases\n    // where the ConnectableObservable source synchronously emits values, and\n    // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n    // execution continues to here before the RefCountOperator has a chance to\n    // supply the RefCountSubscriber with the shared connection Subscription.\n    // For example:\n    // ```\n    // range(0, 10).pipe(\n    //   publish(),\n    //   refCount(),\n    //   take(5),\n    // ).subscribe();\n    // ```\n    // In order to account for this case, RefCountSubscriber should only dispose\n    // the ConnectableObservable's shared connection Subscription if the\n    // connection Subscription exists, *and* either:\n    //   a. RefCountSubscriber doesn't have a reference to the shared connection\n    //      Subscription yet, or,\n    //   b. RefCountSubscriber's connection Subscription reference is identical\n    //      to the shared connection Subscription\n    ///\n    const { connection } = this;\n    const sharedConnection = (<any> connectable)._connection;\n    this.connection = null;\n\n    if (sharedConnection && (!connection || sharedConnection === connection)) {\n      sharedConnection.unsubscribe();\n    }\n  }\n}\n","import { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subject } from '../Subject';\nimport { OperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function groupBy<T, K>(keySelector: (value: T) => K): OperatorFunction<T, GroupedObservable<K, T>>;\nexport function groupBy<T, K>(keySelector: (value: T) => K, elementSelector: void, durationSelector: (grouped: GroupedObservable<K, T>) => Observable<any>): OperatorFunction<T, GroupedObservable<K, T>>;\nexport function groupBy<T, K, R>(keySelector: (value: T) => K, elementSelector?: (value: T) => R, durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>): OperatorFunction<T, GroupedObservable<K, R>>;\nexport function groupBy<T, K, R>(keySelector: (value: T) => K, elementSelector?: (value: T) => R, durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>, subjectSelector?: () => Subject<R>): OperatorFunction<T, GroupedObservable<K, R>>;\n/* tslint:enable:max-line-length */\n\n/**\n * Groups the items emitted by an Observable according to a specified criterion,\n * and emits these grouped items as `GroupedObservables`, one\n * {@link GroupedObservable} per group.\n *\n * ![](groupBy.png)\n *\n * When the Observable emits an item, a key is computed for this item with the keySelector function.\n *\n * If a {@link GroupedObservable} for this key exists, this {@link GroupedObservable} emits. Elsewhere, a new\n * {@link GroupedObservable} for this key is created and emits.\n *\n * A {@link GroupedObservable} represents values belonging to the same group represented by a common key. The common\n * key is available as the key field of a {@link GroupedObservable} instance.\n *\n * The elements emitted by {@link GroupedObservable}s are by default the items emitted by the Observable, or elements\n * returned by the elementSelector function.\n *\n * ## Examples\n * ### Group objects by id and return as array\n * ```javascript\n * import { mergeMap, groupBy } from 'rxjs/operators';\n * import { of } from 'rxjs/observable/of';\n *\n * interface Obj {\n *    id: number,\n *    name: string,\n * }\n *\n * of<Obj>(\n *   {id: 1, name: 'javascript'},\n *   {id: 2, name: 'parcel'},\n *   {id: 2, name: 'webpack'},\n *   {id: 1, name: 'typescript'},\n *   {id: 3, name: 'tslint'}\n * ).pipe(\n *   groupBy(p => p.id),\n *   mergeMap((group$) => group$.pipe(reduce((acc, cur) => [...acc, cur], []))),\n * )\n * .subscribe(p => console.log(p));\n *\n * // displays:\n * // [ { id: 1, name: 'javascript'},\n * //   { id: 1, name: 'typescript'} ]\n * //\n * // [ { id: 2, name: 'parcel'},\n * //   { id: 2, name: 'webpack'} ]\n * //\n * // [ { id: 3, name: 'tslint'} ]\n * ```\n *\n * ### Pivot data on the id field\n * ```javascript\n * import { mergeMap, groupBy, map } from 'rxjs/operators';\n * import { of } from 'rxjs/observable/of';\n *\n * of<Obj>(\n *   {id: 1, name: 'javascript'},\n *   {id: 2, name: 'parcel'},\n *   {id: 2, name: 'webpack'},\n *   {id: 1, name: 'typescript'}\n *   {id: 3, name: 'tslint'}\n * ).pipe(\n *   groupBy(p => p.id, p => p.name),\n *   mergeMap( (group$) => group$.pipe(reduce((acc, cur) => [...acc, cur], [\"\" + group$.key]))),\n *   map(arr => ({'id': parseInt(arr[0]), 'values': arr.slice(1)})),\n * )\n * .subscribe(p => console.log(p));\n *\n * // displays:\n * // { id: 1, values: [ 'javascript', 'typescript' ] }\n * // { id: 2, values: [ 'parcel', 'webpack' ] }\n * // { id: 3, values: [ 'tslint' ] }\n * ```\n *\n * @param {function(value: T): K} keySelector A function that extracts the key\n * for each item.\n * @param {function(value: T): R} [elementSelector] A function that extracts the\n * return element for each item.\n * @param {function(grouped: GroupedObservable<K,R>): Observable<any>} [durationSelector]\n * A function that returns an Observable to determine how long each group should\n * exist.\n * @return {Observable<GroupedObservable<K,R>>} An Observable that emits\n * GroupedObservables, each of which corresponds to a unique key value and each\n * of which emits those items from the source Observable that share that key\n * value.\n * @method groupBy\n * @owner Observable\n */\nexport function groupBy<T, K, R>(keySelector: (value: T) => K,\n                                 elementSelector?: ((value: T) => R) | void,\n                                 durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>,\n                                 subjectSelector?: () => Subject<R>): OperatorFunction<T, GroupedObservable<K, R>> {\n  return (source: Observable<T>) =>\n    source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));\n}\n\nexport interface RefCountSubscription {\n  count: number;\n  unsubscribe: () => void;\n  closed: boolean;\n  attemptedToUnsubscribe: boolean;\n}\n\nclass GroupByOperator<T, K, R> implements Operator<T, GroupedObservable<K, R>> {\n  constructor(private keySelector: (value: T) => K,\n              private elementSelector?: ((value: T) => R) | void,\n              private durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>,\n              private subjectSelector?: () => Subject<R>) {\n  }\n\n  call(subscriber: Subscriber<GroupedObservable<K, R>>, source: any): any {\n    return source.subscribe(new GroupBySubscriber(\n      subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector\n    ));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass GroupBySubscriber<T, K, R> extends Subscriber<T> implements RefCountSubscription {\n  private groups: Map<K, Subject<T | R>> = null;\n  public attemptedToUnsubscribe: boolean = false;\n  public count: number = 0;\n\n  constructor(destination: Subscriber<GroupedObservable<K, R>>,\n              private keySelector: (value: T) => K,\n              private elementSelector?: ((value: T) => R) | void,\n              private durationSelector?: (grouped: GroupedObservable<K, R>) => Observable<any>,\n              private subjectSelector?: () => Subject<R>) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    let key: K;\n    try {\n      key = this.keySelector(value);\n    } catch (err) {\n      this.error(err);\n      return;\n    }\n\n    this._group(value, key);\n  }\n\n  private _group(value: T, key: K) {\n    let groups = this.groups;\n\n    if (!groups) {\n      groups = this.groups = new Map<K, Subject<T | R>>();\n    }\n\n    let group = groups.get(key);\n\n    let element: R;\n    if (this.elementSelector) {\n      try {\n        element = this.elementSelector(value);\n      } catch (err) {\n        this.error(err);\n      }\n    } else {\n      element = <any>value;\n    }\n\n    if (!group) {\n      group = (this.subjectSelector ? this.subjectSelector() : new Subject<R>()) as Subject<T | R>;\n      groups.set(key, group);\n      const groupedObservable = new GroupedObservable(key, group, this);\n      this.destination.next(groupedObservable);\n      if (this.durationSelector) {\n        let duration: any;\n        try {\n          duration = this.durationSelector(new GroupedObservable<K, R>(key, <Subject<R>>group));\n        } catch (err) {\n          this.error(err);\n          return;\n        }\n        this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));\n      }\n    }\n\n    if (!group.closed) {\n      group.next(element);\n    }\n  }\n\n  protected _error(err: any): void {\n    const groups = this.groups;\n    if (groups) {\n      groups.forEach((group, key) => {\n        group.error(err);\n      });\n\n      groups.clear();\n    }\n    this.destination.error(err);\n  }\n\n  protected _complete(): void {\n    const groups = this.groups;\n    if (groups) {\n      groups.forEach((group, key) => {\n        group.complete();\n      });\n\n      groups.clear();\n    }\n    this.destination.complete();\n  }\n\n  removeGroup(key: K): void {\n    this.groups.delete(key);\n  }\n\n  unsubscribe() {\n    if (!this.closed) {\n      this.attemptedToUnsubscribe = true;\n      if (this.count === 0) {\n        super.unsubscribe();\n      }\n    }\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass GroupDurationSubscriber<K, T> extends Subscriber<T> {\n  constructor(private key: K,\n              private group: Subject<T>,\n              private parent: GroupBySubscriber<any, K, T | any>) {\n    super(group);\n  }\n\n  protected _next(value: T): void {\n    this.complete();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n    const { parent, key } = this;\n    this.key = this.parent = null;\n    if (parent) {\n      parent.removeGroup(key);\n    }\n  }\n}\n\n/**\n * An Observable representing values belonging to the same group represented by\n * a common key. The values emitted by a GroupedObservable come from the source\n * Observable. The common key is available as the field `key` on a\n * GroupedObservable instance.\n *\n * @class GroupedObservable<K, T>\n */\nexport class GroupedObservable<K, T> extends Observable<T> {\n  /** @deprecated Do not construct this type. Internal use only */\n  constructor(public key: K,\n              private groupSubject: Subject<T>,\n              private refCountSubscription?: RefCountSubscription) {\n    super();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>) {\n    const subscription = new Subscription();\n    const { refCountSubscription, groupSubject } = this;\n    if (refCountSubscription && !refCountSubscription.closed) {\n      subscription.add(new InnerRefCountSubscription(refCountSubscription));\n    }\n    subscription.add(groupSubject.subscribe(subscriber));\n    return subscription;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass InnerRefCountSubscription extends Subscription {\n  constructor(private parent: RefCountSubscription) {\n    super();\n    parent.count++;\n  }\n\n  unsubscribe() {\n    const parent = this.parent;\n    if (!parent.closed && !this.closed) {\n      super.unsubscribe();\n      parent.count -= 1;\n      if (parent.count === 0 && parent.attemptedToUnsubscribe) {\n        parent.unsubscribe();\n      }\n    }\n  }\n}\n","import { Subject } from './Subject';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { SubscriptionLike } from './types';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\n\n/**\n * A variant of Subject that requires an initial value and emits its current\n * value whenever it is subscribed to.\n *\n * @class BehaviorSubject<T>\n */\nexport class BehaviorSubject<T> extends Subject<T> {\n\n  constructor(private _value: T) {\n    super();\n  }\n\n  get value(): T {\n    return this.getValue();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    const subscription = super._subscribe(subscriber);\n    if (subscription && !(<SubscriptionLike>subscription).closed) {\n      subscriber.next(this._value);\n    }\n    return subscription;\n  }\n\n  getValue(): T {\n    if (this.hasError) {\n      throw this.thrownError;\n    } else if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else {\n      return this._value;\n    }\n  }\n\n  next(value: T): void {\n    super.next(this._value = value);\n  }\n}\n","import { Scheduler } from '../Scheduler';\nimport { Subscription } from '../Subscription';\nimport { SchedulerAction } from '../types';\n\n/**\n * A unit of work to be executed in a `scheduler`. An action is typically\n * created from within a {@link SchedulerLike} and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nexport class Action<T> extends Subscription {\n  constructor(scheduler: Scheduler, work: (this: SchedulerAction<T>, state?: T) => void) {\n    super();\n  }\n  /**\n   * Schedules this action on its parent {@link SchedulerLike} for execution. May be passed\n   * some context object, `state`. May happen at some point in the future,\n   * according to the `delay` parameter, if specified.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler.\n   * @return {void}\n   */\n  public schedule(state?: T, delay: number = 0): Subscription {\n    return this;\n  }\n}\n","import { Action } from './Action';\nimport { SchedulerAction } from '../types';\nimport { Subscription } from '../Subscription';\nimport { AsyncScheduler } from './AsyncScheduler';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class AsyncAction<T> extends Action<T> {\n\n  public id: any;\n  public state: T;\n  public delay: number;\n  protected pending: boolean = false;\n\n  constructor(protected scheduler: AsyncScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n\n    if (this.closed) {\n      return this;\n    }\n\n    // Always replace the current state with the new state.\n    this.state = state;\n\n    const id = this.id;\n    const scheduler = this.scheduler;\n\n    //\n    // Important implementation note:\n    //\n    // Actions only execute once by default, unless rescheduled from within the\n    // scheduled callback. This allows us to implement single and repeat\n    // actions via the same code path, without adding API surface area, as well\n    // as mimic traditional recursion but across asynchronous boundaries.\n    //\n    // However, JS runtimes and timers distinguish between intervals achieved by\n    // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n    // serial `setTimeout` calls can be individually delayed, which delays\n    // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n    // guarantee the interval callback will be invoked more precisely to the\n    // interval period, regardless of load.\n    //\n    // Therefore, we use `setInterval` to schedule single and repeat actions.\n    // If the action reschedules itself with the same delay, the interval is not\n    // canceled. If the action doesn't reschedule, or reschedules with a\n    // different delay, the interval will be canceled after scheduled callback\n    // execution.\n    //\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, delay);\n    }\n\n    // Set the pending flag indicating that this action has been scheduled, or\n    // has recursively rescheduled itself.\n    this.pending = true;\n\n    this.delay = delay;\n    // If this action has already an async Id, don't request a new one.\n    this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n\n    return this;\n  }\n\n  protected requestAsyncId(scheduler: AsyncScheduler, id?: any, delay: number = 0): any {\n    return setInterval(scheduler.flush.bind(scheduler, this), delay);\n  }\n\n  protected recycleAsyncId(scheduler: AsyncScheduler, id: any, delay: number = 0): any {\n    // If this action is rescheduled with the same delay time, don't clear the interval id.\n    if (delay !== null && this.delay === delay && this.pending === false) {\n      return id;\n    }\n    // Otherwise, if the action's delay time is different from the current delay,\n    // or the action has been rescheduled before it's executed, clear the interval id\n    clearInterval(id);\n  }\n\n  /**\n   * Immediately executes this action and the `work` it contains.\n   * @return {any}\n   */\n  public execute(state: T, delay: number): any {\n\n    if (this.closed) {\n      return new Error('executing a cancelled action');\n    }\n\n    this.pending = false;\n    const error = this._execute(state, delay);\n    if (error) {\n      return error;\n    } else if (this.pending === false && this.id != null) {\n      // Dequeue if the action didn't reschedule itself. Don't call\n      // unsubscribe(), because the action could reschedule later.\n      // For example:\n      // ```\n      // scheduler.schedule(function doWork(counter) {\n      //   /* ... I'm a busy worker bee ... */\n      //   var originalAction = this;\n      //   /* wait 100ms before rescheduling the action */\n      //   setTimeout(function () {\n      //     originalAction.schedule(counter + 1);\n      //   }, 100);\n      // }, 1000);\n      // ```\n      this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n    }\n  }\n\n  protected _execute(state: T, delay: number): any {\n    let errored: boolean = false;\n    let errorValue: any = undefined;\n    try {\n      this.work(state);\n    } catch (e) {\n      errored = true;\n      errorValue = !!e && e || new Error(e);\n    }\n    if (errored) {\n      this.unsubscribe();\n      return errorValue;\n    }\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribe() {\n\n    const id = this.id;\n    const scheduler = this.scheduler;\n    const actions = scheduler.actions;\n    const index = actions.indexOf(this);\n\n    this.work  = null;\n    this.state = null;\n    this.pending = false;\n    this.scheduler = null;\n\n    if (index !== -1) {\n      actions.splice(index, 1);\n    }\n\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, null);\n    }\n\n    this.delay = null;\n  }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { Subscription } from '../Subscription';\nimport { QueueScheduler } from './QueueScheduler';\nimport { SchedulerAction } from '../types';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class QueueAction<T> extends AsyncAction<T> {\n\n  constructor(protected scheduler: QueueScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n    if (delay > 0) {\n      return super.schedule(state, delay);\n    }\n    this.delay = delay;\n    this.state = state;\n    this.scheduler.flush(this);\n    return this;\n  }\n\n  public execute(state: T, delay: number): any {\n    return (delay > 0 || this.closed) ?\n      super.execute(state, delay) :\n      this._execute(state, delay) ;\n  }\n\n  protected requestAsyncId(scheduler: QueueScheduler, id?: any, delay: number = 0): any {\n    // If delay exists and is greater than 0, or if the delay is null (the\n    // action wasn't rescheduled) but was originally scheduled as an async\n    // action, then recycle as an async action.\n    if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n      return super.requestAsyncId(scheduler, id, delay);\n    }\n    // Otherwise flush the scheduler starting with this action.\n    return scheduler.flush(this);\n  }\n}\n","import { Action } from './scheduler/Action';\nimport { Subscription } from './Subscription';\nimport { SchedulerLike, SchedulerAction } from './types';\n\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an `Action`.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n * @deprecated Scheduler is an internal implementation detail of RxJS, and\n * should not be used directly. Rather, create your own class and implement\n * {@link SchedulerLike}\n */\nexport class Scheduler implements SchedulerLike {\n\n  /**\n   * Note: the extra arrow function wrapper is to make testing by overriding\n   * Date.now easier.\n   * @nocollapse\n   */\n  public static now: () => number = () => Date.now();\n\n  constructor(private SchedulerAction: typeof Action,\n              now: () => number = Scheduler.now) {\n    this.now = now;\n  }\n\n  /**\n   * A getter method that returns a number representing the current time\n   * (at the time this function was called) according to the scheduler's own\n   * internal clock.\n   * @return {number} A number that represents the current time. May or may not\n   * have a relation to wall-clock time. May or may not refer to a time unit\n   * (e.g. milliseconds).\n   */\n  public now: () => number;\n\n  /**\n   * Schedules a function, `work`, for execution. May happen at some point in\n   * the future, according to the `delay` parameter, if specified. May be passed\n   * some context object, `state`, which will be passed to the `work` function.\n   *\n   * The given arguments will be processed an stored as an Action object in a\n   * queue of actions.\n   *\n   * @param {function(state: ?T): ?Subscription} work A function representing a\n   * task, or some unit of work to be executed by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler itself.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @return {Subscription} A subscription in order to be able to unsubscribe\n   * the scheduled work.\n   */\n  public schedule<T>(work: (this: SchedulerAction<T>, state?: T) => void, delay: number = 0, state?: T): Subscription {\n    return new this.SchedulerAction<T>(this, work).schedule(state, delay);\n  }\n}\n","import { Scheduler } from '../Scheduler';\nimport { Action } from './Action';\nimport { AsyncAction } from './AsyncAction';\nimport { SchedulerAction } from '../types';\nimport { Subscription } from '../Subscription';\n\nexport class AsyncScheduler extends Scheduler {\n  public static delegate?: Scheduler;\n  public actions: Array<AsyncAction<any>> = [];\n  /**\n   * A flag to indicate whether the Scheduler is currently executing a batch of\n   * queued actions.\n   * @type {boolean}\n   * @deprecated internal use only\n   */\n  public active: boolean = false;\n  /**\n   * An internal ID used to track the latest asynchronous task such as those\n   * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n   * others.\n   * @type {any}\n   * @deprecated internal use only\n   */\n  public scheduled: any = undefined;\n\n  constructor(SchedulerAction: typeof Action,\n              now: () => number = Scheduler.now) {\n    super(SchedulerAction, () => {\n      if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n        return AsyncScheduler.delegate.now();\n      } else {\n        return now();\n      }\n    });\n  }\n\n  public schedule<T>(work: (this: SchedulerAction<T>, state?: T) => void, delay: number = 0, state?: T): Subscription {\n    if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n      return AsyncScheduler.delegate.schedule(work, delay, state);\n    } else {\n      return super.schedule(work, delay, state);\n    }\n  }\n\n  public flush(action: AsyncAction<any>): void {\n\n    const {actions} = this;\n\n    if (this.active) {\n      actions.push(action);\n      return;\n    }\n\n    let error: any;\n    this.active = true;\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (action = actions.shift()); // exhaust the scheduler queue\n\n    this.active = false;\n\n    if (error) {\n      while (action = actions.shift()) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n","import { AsyncScheduler } from './AsyncScheduler';\n\nexport class QueueScheduler extends AsyncScheduler {\n}\n","import { QueueAction } from './QueueAction';\nimport { QueueScheduler } from './QueueScheduler';\n\n/**\n *\n * Queue Scheduler\n *\n * <span class=\"informal\">Put every next task on a queue, instead of executing it immediately</span>\n *\n * `queue` scheduler, when used with delay, behaves the same as {@link asyncScheduler} scheduler.\n *\n * When used without delay, it schedules given task synchronously - executes it right when\n * it is scheduled. However when called recursively, that is when inside the scheduled task,\n * another task is scheduled with queue scheduler, instead of executing immediately as well,\n * that task will be put on a queue and wait for current one to finish.\n *\n * This means that when you execute task with `queue` scheduler, you are sure it will end\n * before any other task scheduled with that scheduler will start.\n *\n * ## Examples\n * Schedule recursively first, then do something\n * ```javascript\n * Rx.Scheduler.queue.schedule(() => {\n *   Rx.Scheduler.queue.schedule(() => console.log('second')); // will not happen now, but will be put on a queue\n *\n *   console.log('first');\n * });\n *\n * // Logs:\n * // \"first\"\n * // \"second\"\n * ```\n *\n * Reschedule itself recursively\n * ```javascript\n * Rx.Scheduler.queue.schedule(function(state) {\n *   if (state !== 0) {\n *     console.log('before', state);\n *     this.schedule(state - 1); // `this` references currently executing Action,\n *                               // which we reschedule with new state\n *     console.log('after', state);\n *   }\n * }, 0, 3);\n *\n * // In scheduler that runs recursively, you would expect:\n * // \"before\", 3\n * // \"before\", 2\n * // \"before\", 1\n * // \"after\", 1\n * // \"after\", 2\n * // \"after\", 3\n *\n * // But with queue it logs:\n * // \"before\", 3\n * // \"after\", 3\n * // \"before\", 2\n * // \"after\", 2\n * // \"before\", 1\n * // \"after\", 1\n * ```\n *\n * @static true\n * @name queue\n * @owner Scheduler\n */\n\nexport const queue = new QueueScheduler(QueueAction);\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\n\n/**\n * The same Observable instance returned by any call to {@link empty} without a\n * `scheduler`. It is preferrable to use this over `empty()`.\n */\nexport const EMPTY = new Observable<never>(subscriber => subscriber.complete());\n\n/**\n * Creates an Observable that emits no items to the Observer and immediately\n * emits a complete notification.\n *\n * <span class=\"informal\">Just emits 'complete', and nothing else.\n * </span>\n *\n * ![](empty.png)\n *\n * This static operator is useful for creating a simple Observable that only\n * emits the complete notification. It can be used for composing with other\n * Observables, such as in a {@link mergeMap}.\n *\n * ## Examples\n * ### Emit the number 7, then complete\n * ```javascript\n * const result = empty().pipe(startWith(7));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * ### Map and flatten only odd numbers to the sequence 'a', 'b', 'c'\n * ```javascript\n * const interval$ = interval(1000);\n * result = interval$.pipe(\n *   mergeMap(x => x % 2 === 1 ? of('a', 'b', 'c') : empty()),\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following to the console:\n * // x is equal to the count on the interval eg(0,1,2,3,...)\n * // x will occur every 1000ms\n * // if x % 2 is equal to 1 print abc\n * // if x % 2 is not equal to 1 nothing will be output\n * ```\n *\n * @see {@link Observable}\n * @see {@link never}\n * @see {@link of}\n * @see {@link throwError}\n *\n * @param {SchedulerLike} [scheduler] A {@link SchedulerLike} to use for scheduling\n * the emission of the complete notification.\n * @return {Observable} An \"empty\" Observable: emits only the complete\n * notification.\n * @static true\n * @name empty\n * @owner Observable\n * @deprecated Deprecated in favor of using {@link index/EMPTY} constant.\n */\nexport function empty(scheduler?: SchedulerLike) {\n  return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\n\nexport function emptyScheduled(scheduler: SchedulerLike) {\n  return new Observable<never>(subscriber => scheduler.schedule(() => subscriber.complete()));\n}\n","import { SchedulerLike } from '../types';\n\nexport function isScheduler(value: any): value is SchedulerLike {\n  return value && typeof (<any>value).schedule === 'function';\n}\n","import { Subscriber } from '../Subscriber';\n\n/**\n * Subscribes to an ArrayLike with a subscriber\n * @param array The array or array-like to subscribe to\n */\nexport const subscribeToArray = <T>(array: ArrayLike<T>) => (subscriber: Subscriber<T>) => {\n  for (let i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n    subscriber.next(array[i]);\n  }\n  if (!subscriber.closed) {\n    subscriber.complete();\n  }\n};\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { Subscription } from '../Subscription';\nimport { subscribeToArray } from '../util/subscribeToArray';\n\nexport function fromArray<T>(input: ArrayLike<T>, scheduler?: SchedulerLike) {\n  if (!scheduler) {\n    return new Observable<T>(subscribeToArray(input));\n  } else {\n    return new Observable<T>(subscriber => {\n      const sub = new Subscription();\n      let i = 0;\n      sub.add(scheduler.schedule(function () {\n        if (i === input.length) {\n          subscriber.complete();\n          return;\n        }\n        subscriber.next(input[i++]);\n        if (!subscriber.closed) {\n          sub.add(this.schedule());\n        }\n      }));\n      return sub;\n    });\n  }\n}\n","import { Observable } from '../Observable';\n\nexport function scalar<T>(value: T) {\n  const result = new Observable<T>(subscriber => {\n    subscriber.next(value);\n    subscriber.complete();\n  });\n  result._isScalar = true;\n  (result as any).value = value;\n  return result;\n}\n","import { SchedulerLike } from '../types';\nimport { isScheduler } from '../util/isScheduler';\nimport { fromArray } from './fromArray';\nimport { empty } from './empty';\nimport { scalar } from './scalar';\nimport { Observable } from '../Observable';\n\n/* tslint:disable:max-line-length */\nexport function of<T>(a: T, scheduler?: SchedulerLike): Observable<T>;\nexport function of<T, T2>(a: T, b: T2, scheduler?: SchedulerLike): Observable<T | T2>;\nexport function of<T, T2, T3>(a: T, b: T2, c: T3, scheduler?: SchedulerLike): Observable<T | T2 | T3>;\nexport function of<T, T2, T3, T4>(a: T, b: T2, c: T3, d: T4, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4>;\nexport function of<T, T2, T3, T4, T5>(a: T, b: T2, c: T3, d: T4, e: T5, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5>;\nexport function of<T, T2, T3, T4, T5, T6>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function of<T, T2, T3, T4, T5, T6, T7>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, g: T7, scheduler?: SchedulerLike):\n  Observable<T | T2 | T3 | T4 | T5 | T6 | T7>;\nexport function of<T, T2, T3, T4, T5, T6, T7, T8>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, g: T7, h: T8, scheduler?: SchedulerLike):\n  Observable<T | T2 | T3 | T4 | T5 | T6 | T7 | T8>;\nexport function of<T, T2, T3, T4, T5, T6, T7, T8, T9>(a: T, b: T2, c: T3, d: T4, e: T5, f: T6, g: T7, h: T8, i: T9, scheduler?: SchedulerLike):\n  Observable<T | T2 | T3 | T4 | T5 | T6 | T7 | T8 | T9>;\nexport function of<T>(...args: Array<T | SchedulerLike>): Observable<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Converts the arguments to an observable sequence.\n *\n * <span class=\"informal\">Each argument becomes a `next` notification.</span>\n *\n * ![](of.png)\n *\n * Unlike {@link from}, it does not do any flattening and emits each argument in whole\n * as a separate `next` notification.\n *\n * ## Examples\n *\n * Emit the values `10, 20, 30`\n *\n * ```javascript\n * of(10, 20, 30)\n * .subscribe(\n *   next => console.log('next:', next),\n *   err => console.log('error:', err),\n *   () => console.log('the end'),\n * );\n * // result:\n * // 'next: 10'\n * // 'next: 20'\n * // 'next: 30'\n *\n * ```\n *\n * Emit the array `[1,2,3]`\n *\n * ```javascript\n * of([1,2,3])\n * .subscribe(\n *   next => console.log('next:', next),\n *   err => console.log('error:', err),\n *   () => console.log('the end'),\n * );\n * // result:\n * // 'next: [1,2,3]'\n * ```\n *\n * @see {@link from}\n * @see {@link range}\n *\n * @param {...T} values A comma separated list of arguments you want to be emitted\n * @return {Observable} An Observable that emits the arguments\n * described above and then completes.\n * @method of\n * @owner Observable\n */\n\nexport function of<T>(...args: Array<T | SchedulerLike>): Observable<T> {\n  let scheduler = args[args.length - 1] as SchedulerLike;\n  if (isScheduler(scheduler)) {\n    args.pop();\n  } else {\n    scheduler = undefined;\n  }\n  switch (args.length) {\n    case 0:\n      return empty(scheduler);\n    case 1:\n      return scheduler ? fromArray(args as T[], scheduler) : scalar(args[0] as T);\n    default:\n      return fromArray(args as T[], scheduler);\n  }\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { Subscriber } from '../Subscriber';\n\n/**\n * Creates an Observable that emits no items to the Observer and immediately\n * emits an error notification.\n *\n * <span class=\"informal\">Just emits 'error', and nothing else.\n * </span>\n *\n * ![](throw.png)\n *\n * This static operator is useful for creating a simple Observable that only\n * emits the error notification. It can be used for composing with other\n * Observables, such as in a {@link mergeMap}.\n *\n * ## Examples\n * ### Emit the number 7, then emit an error\n * ```javascript\n * import { throwError, concat, of } from 'rxjs';\n *\n * const result = concat(of(7), throwError(new Error('oops!')));\n * result.subscribe(x => console.log(x), e => console.error(e));\n *\n * // Logs:\n * // 7\n * // Error: oops!\n * ```\n *\n * ---\n *\n * ### Map and flatten numbers to the sequence 'a', 'b', 'c', but throw an error for 13\n * ```javascript\n * import { throwError, interval, of } from 'rxjs';\n * import { mergeMap } from 'rxjs/operators';\n *\n * interval(1000).pipe(\n *   mergeMap(x => x === 2\n *     ? throwError('Twos are bad')\n *     : of('a', 'b', 'c')\n *   ),\n * ).subscribe(x => console.log(x), e => console.error(e));\n *\n * // Logs:\n * // a\n * // b\n * // c\n * // a\n * // b\n * // c\n * // Twos are bad\n * ```\n *\n * @see {@link Observable}\n * @see {@link empty}\n * @see {@link never}\n * @see {@link of}\n *\n * @param {any} error The particular Error to pass to the error notification.\n * @param {SchedulerLike} [scheduler] A {@link SchedulerLike} to use for scheduling\n * the emission of the error notification.\n * @return {Observable} An error Observable: emits only the error notification\n * using the given error argument.\n * @static true\n * @name throwError\n * @owner Observable\n */\nexport function throwError(error: any, scheduler?: SchedulerLike): Observable<never> {\n  if (!scheduler) {\n    return new Observable(subscriber => subscriber.error(error));\n  } else {\n    return new Observable(subscriber => scheduler.schedule(dispatch, 0, { error, subscriber }));\n  }\n}\n\ninterface DispatchArg {\n  error: any;\n  subscriber: Subscriber<any>;\n}\n\nfunction dispatch({ error, subscriber }: DispatchArg) {\n  subscriber.error(error);\n}\n","import { PartialObserver } from './types';\nimport { Observable } from './Observable';\nimport { empty } from './observable/empty';\nimport { of } from './observable/of';\nimport { throwError } from './observable/throwError';\n\n/**\n * Represents a push-based event or value that an {@link Observable} can emit.\n * This class is particularly useful for operators that manage notifications,\n * like {@link materialize}, {@link dematerialize}, {@link observeOn}, and\n * others. Besides wrapping the actual delivered value, it also annotates it\n * with metadata of, for instance, what type of push message it is (`next`,\n * `error`, or `complete`).\n *\n * @see {@link materialize}\n * @see {@link dematerialize}\n * @see {@link observeOn}\n *\n * @class Notification<T>\n */\nexport class Notification<T> {\n  hasValue: boolean;\n\n  constructor(public kind: string, public value?: T, public error?: any) {\n    this.hasValue = kind === 'N';\n  }\n\n  /**\n   * Delivers to the given `observer` the value wrapped by this Notification.\n   * @param {Observer} observer\n   * @return\n   */\n  observe(observer: PartialObserver<T>): any {\n    switch (this.kind) {\n      case 'N':\n        return observer.next && observer.next(this.value);\n      case 'E':\n        return observer.error && observer.error(this.error);\n      case 'C':\n        return observer.complete && observer.complete();\n    }\n  }\n\n  /**\n   * Given some {@link Observer} callbacks, deliver the value represented by the\n   * current Notification to the correctly corresponding callback.\n   * @param {function(value: T): void} next An Observer `next` callback.\n   * @param {function(err: any): void} [error] An Observer `error` callback.\n   * @param {function(): void} [complete] An Observer `complete` callback.\n   * @return {any}\n   */\n  do(next: (value: T) => void, error?: (err: any) => void, complete?: () => void): any {\n    const kind = this.kind;\n    switch (kind) {\n      case 'N':\n        return next && next(this.value);\n      case 'E':\n        return error && error(this.error);\n      case 'C':\n        return complete && complete();\n    }\n  }\n\n  /**\n   * Takes an Observer or its individual callback functions, and calls `observe`\n   * or `do` methods accordingly.\n   * @param {Observer|function(value: T): void} nextOrObserver An Observer or\n   * the `next` callback.\n   * @param {function(err: any): void} [error] An Observer `error` callback.\n   * @param {function(): void} [complete] An Observer `complete` callback.\n   * @return {any}\n   */\n  accept(nextOrObserver: PartialObserver<T> | ((value: T) => void), error?: (err: any) => void, complete?: () => void) {\n    if (nextOrObserver && typeof (<PartialObserver<T>>nextOrObserver).next === 'function') {\n      return this.observe(<PartialObserver<T>>nextOrObserver);\n    } else {\n      return this.do(<(value: T) => void>nextOrObserver, error, complete);\n    }\n  }\n\n  /**\n   * Returns a simple Observable that just delivers the notification represented\n   * by this Notification instance.\n   * @return {any}\n   */\n  toObservable(): Observable<T> {\n    const kind = this.kind;\n    switch (kind) {\n      case 'N':\n        return of(this.value);\n      case 'E':\n        return throwError(this.error);\n      case 'C':\n        return empty();\n    }\n    throw new Error('unexpected notification kind value');\n  }\n\n  private static completeNotification: Notification<any> = new Notification('C');\n  private static undefinedValueNotification: Notification<any> = new Notification('N', undefined);\n\n  /**\n   * A shortcut to create a Notification instance of the type `next` from a\n   * given value.\n   * @param {T} value The `next` value.\n   * @return {Notification<T>} The \"next\" Notification representing the\n   * argument.\n   * @nocollapse\n   */\n  static createNext<T>(value: T): Notification<T> {\n    if (typeof value !== 'undefined') {\n      return new Notification('N', value);\n    }\n    return Notification.undefinedValueNotification;\n  }\n\n  /**\n   * A shortcut to create a Notification instance of the type `error` from a\n   * given error.\n   * @param {any} [err] The `error` error.\n   * @return {Notification<T>} The \"error\" Notification representing the\n   * argument.\n   * @nocollapse\n   */\n  static createError<T>(err?: any): Notification<T> {\n    return new Notification('E', undefined, err);\n  }\n\n  /**\n   * A shortcut to create a Notification instance of the type `complete`.\n   * @return {Notification<any>} The valueless \"complete\" Notification.\n   * @nocollapse\n   */\n  static createComplete(): Notification<any> {\n    return Notification.completeNotification;\n  }\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Notification } from '../Notification';\nimport { MonoTypeOperatorFunction, PartialObserver, SchedulerAction, SchedulerLike, TeardownLogic } from '../types';\n\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * ## Example\n * Ensure values in subscribe are called just before browser repaint.\n * ```javascript\n * const intervals = interval(10);                // Intervals are scheduled\n *                                                // with async scheduler by default...\n * intervals.pipe(\n *   observeOn(animationFrameScheduler),          // ...but we will observe on animationFrame\n * )                                              // scheduler to ensure smooth animation.\n * .subscribe(val => {\n *   someDiv.style.height = val + 'px';\n * });\n * ```\n *\n * @see {@link delay}\n *\n * @param {SchedulerLike} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nexport function observeOn<T>(scheduler: SchedulerLike, delay: number = 0): MonoTypeOperatorFunction<T> {\n  return function observeOnOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new ObserveOnOperator(scheduler, delay));\n  };\n}\n\nexport class ObserveOnOperator<T> implements Operator<T, T> {\n  constructor(private scheduler: SchedulerLike, private delay: number = 0) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class ObserveOnSubscriber<T> extends Subscriber<T> {\n  /** @nocollapse */\n  static dispatch(this: SchedulerAction<ObserveOnMessage>, arg: ObserveOnMessage) {\n    const { notification, destination } = arg;\n    notification.observe(destination);\n    this.unsubscribe();\n  }\n\n  constructor(destination: Subscriber<T>,\n              private scheduler: SchedulerLike,\n              private delay: number = 0) {\n    super(destination);\n  }\n\n  private scheduleMessage(notification: Notification<any>): void {\n    const destination = this.destination as Subscription;\n    destination.add(this.scheduler.schedule(\n      ObserveOnSubscriber.dispatch,\n      this.delay,\n      new ObserveOnMessage(notification, this.destination)\n    ));\n  }\n\n  protected _next(value: T): void {\n    this.scheduleMessage(Notification.createNext(value));\n  }\n\n  protected _error(err: any): void {\n    this.scheduleMessage(Notification.createError(err));\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.scheduleMessage(Notification.createComplete());\n    this.unsubscribe();\n  }\n}\n\nexport class ObserveOnMessage {\n  constructor(public notification: Notification<any>,\n              public destination: PartialObserver<any>) {\n  }\n}\n","import { Subject } from './Subject';\nimport { SchedulerLike } from './types';\nimport { queue } from './scheduler/queue';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObserveOnSubscriber } from './operators/observeOn';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\n/**\n * A variant of Subject that \"replays\" or emits old values to new subscribers.\n * It buffers a set number of values and will emit those values immediately to\n * any new subscribers in addition to emitting new values to existing subscribers.\n *\n * @class ReplaySubject<T>\n */\nexport class ReplaySubject<T> extends Subject<T> {\n  private _events: (ReplayEvent<T> | T)[] = [];\n  private _bufferSize: number;\n  private _windowTime: number;\n  private _infiniteTimeWindow: boolean = false;\n\n  constructor(bufferSize: number = Number.POSITIVE_INFINITY,\n              windowTime: number = Number.POSITIVE_INFINITY,\n              private scheduler?: SchedulerLike) {\n    super();\n    this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n    this._windowTime = windowTime < 1 ? 1 : windowTime;\n\n    if (windowTime === Number.POSITIVE_INFINITY) {\n      this._infiniteTimeWindow = true;\n      this.next = this.nextInfiniteTimeWindow;\n    } else {\n      this.next = this.nextTimeWindow;\n    }\n  }\n\n  private nextInfiniteTimeWindow(value: T): void {\n    const _events = this._events;\n    _events.push(value);\n    // Since this method is invoked in every next() call than the buffer\n    // can overgrow the max size only by one item\n    if (_events.length > this._bufferSize) {\n      _events.shift();\n    }\n\n    super.next(value);\n  }\n\n  private nextTimeWindow(value: T): void {\n    this._events.push(new ReplayEvent(this._getNow(), value));\n    this._trimBufferThenGetEvents();\n\n    super.next(value);\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<T>): Subscription {\n    // When `_infiniteTimeWindow === true` then the buffer is already trimmed\n    const _infiniteTimeWindow = this._infiniteTimeWindow;\n    const _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();\n    const scheduler = this.scheduler;\n    const len = _events.length;\n    let subscription: Subscription;\n\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    } else if (this.isStopped || this.hasError) {\n      subscription = Subscription.EMPTY;\n    } else {\n      this.observers.push(subscriber);\n      subscription = new SubjectSubscription(this, subscriber);\n    }\n\n    if (scheduler) {\n      subscriber.add(subscriber = new ObserveOnSubscriber<T>(subscriber, scheduler));\n    }\n\n    if (_infiniteTimeWindow) {\n      for (let i = 0; i < len && !subscriber.closed; i++) {\n        subscriber.next(<T>_events[i]);\n      }\n    } else {\n      for (let i = 0; i < len && !subscriber.closed; i++) {\n        subscriber.next((<ReplayEvent<T>>_events[i]).value);\n      }\n    }\n\n    if (this.hasError) {\n      subscriber.error(this.thrownError);\n    } else if (this.isStopped) {\n      subscriber.complete();\n    }\n\n    return subscription;\n  }\n\n  _getNow(): number {\n    return (this.scheduler || queue).now();\n  }\n\n  private _trimBufferThenGetEvents(): ReplayEvent<T>[] {\n    const now = this._getNow();\n    const _bufferSize = this._bufferSize;\n    const _windowTime = this._windowTime;\n    const _events = <ReplayEvent<T>[]>this._events;\n\n    const eventsCount = _events.length;\n    let spliceCount = 0;\n\n    // Trim events that fall out of the time window.\n    // Start at the front of the list. Break early once\n    // we encounter an event that falls within the window.\n    while (spliceCount < eventsCount) {\n      if ((now - _events[spliceCount].time) < _windowTime) {\n        break;\n      }\n      spliceCount++;\n    }\n\n    if (eventsCount > _bufferSize) {\n      spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n    }\n\n    if (spliceCount > 0) {\n      _events.splice(0, spliceCount);\n    }\n\n    return _events;\n  }\n\n}\n\nclass ReplayEvent<T> {\n  constructor(public time: number, public value: T) {\n  }\n}\n","import { Subject } from './Subject';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\n\n/**\n * A variant of Subject that only emits a value when it completes. It will emit\n * its latest value to all its observers on completion.\n *\n * @class AsyncSubject<T>\n */\nexport class AsyncSubject<T> extends Subject<T> {\n  private value: T = null;\n  private hasNext: boolean = false;\n  private hasCompleted: boolean = false;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<any>): Subscription {\n    if (this.hasError) {\n      subscriber.error(this.thrownError);\n      return Subscription.EMPTY;\n    } else if (this.hasCompleted && this.hasNext) {\n      subscriber.next(this.value);\n      subscriber.complete();\n      return Subscription.EMPTY;\n    }\n    return super._subscribe(subscriber);\n  }\n\n  next(value: T): void {\n    if (!this.hasCompleted) {\n      this.value = value;\n      this.hasNext = true;\n    }\n  }\n\n  error(error: any): void {\n    if (!this.hasCompleted) {\n      super.error(error);\n    }\n  }\n\n  complete(): void {\n    this.hasCompleted = true;\n    if (this.hasNext) {\n      super.next(this.value);\n    }\n    super.complete();\n  }\n}\n","let nextHandle = 1;\n\nconst tasksByHandle: { [handle: string]: () => void } = {};\n\nfunction runIfPresent(handle: number) {\n  const cb = tasksByHandle[handle];\n  if (cb) {\n    cb();\n  }\n}\n\nexport const Immediate = {\n  setImmediate(cb: () => void): number {\n    const handle = nextHandle++;\n    tasksByHandle[handle] = cb;\n    Promise.resolve().then(() => runIfPresent(handle));\n    return handle;\n  },\n\n  clearImmediate(handle: number): void {\n    delete tasksByHandle[handle];\n  },\n};\n","import { Immediate } from '../util/Immediate';\nimport { AsyncAction } from './AsyncAction';\nimport { AsapScheduler } from './AsapScheduler';\nimport { SchedulerAction } from '../types';\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class AsapAction<T> extends AsyncAction<T> {\n\n  constructor(protected scheduler: AsapScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  protected requestAsyncId(scheduler: AsapScheduler, id?: any, delay: number = 0): any {\n    // If delay is greater than 0, request as an async action.\n    if (delay !== null && delay > 0) {\n      return super.requestAsyncId(scheduler, id, delay);\n    }\n    // Push the action to the end of the scheduler queue.\n    scheduler.actions.push(this);\n    // If a microtask has already been scheduled, don't schedule another\n    // one. If a microtask hasn't been scheduled yet, schedule one now. Return\n    // the current scheduled microtask id.\n    return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(\n      scheduler.flush.bind(scheduler, null)\n    ));\n  }\n  protected recycleAsyncId(scheduler: AsapScheduler, id?: any, delay: number = 0): any {\n    // If delay exists and is greater than 0, or if the delay is null (the\n    // action wasn't rescheduled) but was originally scheduled as an async\n    // action, then recycle as an async action.\n    if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n      return super.recycleAsyncId(scheduler, id, delay);\n    }\n    // If the scheduler queue is empty, cancel the requested microtask and\n    // set the scheduled flag to undefined so the next AsapAction will schedule\n    // its own.\n    if (scheduler.actions.length === 0) {\n      Immediate.clearImmediate(id);\n      scheduler.scheduled = undefined;\n    }\n    // Return undefined so the action knows to request a new async id if it's rescheduled.\n    return undefined;\n  }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n\nexport class AsapScheduler extends AsyncScheduler {\n  public flush(action?: AsyncAction<any>): void {\n\n    this.active = true;\n    this.scheduled = undefined;\n\n    const {actions} = this;\n    let error: any;\n    let index: number = -1;\n    let count: number = actions.length;\n    action = action || actions.shift();\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (++index < count && (action = actions.shift()));\n\n    this.active = false;\n\n    if (error) {\n      while (++index < count && (action = actions.shift())) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n","import { AsapAction } from './AsapAction';\nimport { AsapScheduler } from './AsapScheduler';\n\n/**\n *\n * Asap Scheduler\n *\n * <span class=\"informal\">Perform task as fast as it can be performed asynchronously</span>\n *\n * `asap` scheduler behaves the same as {@link asyncScheduler} scheduler when you use it to delay task\n * in time. If however you set delay to `0`, `asap` will wait for current synchronously executing\n * code to end and then it will try to execute given task as fast as possible.\n *\n * `asap` scheduler will do its best to minimize time between end of currently executing code\n * and start of scheduled task. This makes it best candidate for performing so called \"deferring\".\n * Traditionally this was achieved by calling `setTimeout(deferredTask, 0)`, but that technique involves\n * some (although minimal) unwanted delay.\n *\n * Note that using `asap` scheduler does not necessarily mean that your task will be first to process\n * after currently executing code. In particular, if some task was also scheduled with `asap` before,\n * that task will execute first. That being said, if you need to schedule task asynchronously, but\n * as soon as possible, `asap` scheduler is your best bet.\n *\n * ## Example\n * Compare async and asap scheduler<\n * ```javascript\n * Rx.Scheduler.async.schedule(() => console.log('async')); // scheduling 'async' first...\n * Rx.Scheduler.asap.schedule(() => console.log('asap'));\n *\n * // Logs:\n * // \"asap\"\n * // \"async\"\n * // ... but 'asap' goes first!\n * ```\n * @static true\n * @name asap\n * @owner Scheduler\n */\n\nexport const asap = new AsapScheduler(AsapAction);\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n\n/**\n *\n * Async Scheduler\n *\n * <span class=\"informal\">Schedule task as if you used setTimeout(task, duration)</span>\n *\n * `async` scheduler schedules tasks asynchronously, by putting them on the JavaScript\n * event loop queue. It is best used to delay tasks in time or to schedule tasks repeating\n * in intervals.\n *\n * If you just want to \"defer\" task, that is to perform it right after currently\n * executing synchronous code ends (commonly achieved by `setTimeout(deferredTask, 0)`),\n * better choice will be the {@link asapScheduler} scheduler.\n *\n * ## Examples\n * Use async scheduler to delay task\n * ```javascript\n * const task = () => console.log('it works!');\n *\n * Rx.Scheduler.async.schedule(task, 2000);\n *\n * // After 2 seconds logs:\n * // \"it works!\"\n * ```\n *\n * Use async scheduler to repeat task in intervals\n * ```javascript\n * function task(state) {\n *   console.log(state);\n *   this.schedule(state + 1, 1000); // `this` references currently executing Action,\n *                                   // which we reschedule with new state and delay\n * }\n *\n * Rx.Scheduler.async.schedule(task, 3000, 0);\n *\n * // Logs:\n * // 0 after 3s\n * // 1 after 4s\n * // 2 after 5s\n * // 3 after 6s\n * ```\n *\n * @static true\n * @name async\n * @owner Scheduler\n */\n\nexport const async = new AsyncScheduler(AsyncAction);\n","import { AsyncAction } from './AsyncAction';\nimport { AnimationFrameScheduler } from './AnimationFrameScheduler';\nimport { SchedulerAction } from '../types';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class AnimationFrameAction<T> extends AsyncAction<T> {\n\n  constructor(protected scheduler: AnimationFrameScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  protected requestAsyncId(scheduler: AnimationFrameScheduler, id?: any, delay: number = 0): any {\n    // If delay is greater than 0, request as an async action.\n    if (delay !== null && delay > 0) {\n      return super.requestAsyncId(scheduler, id, delay);\n    }\n    // Push the action to the end of the scheduler queue.\n    scheduler.actions.push(this);\n    // If an animation frame has already been requested, don't request another\n    // one. If an animation frame hasn't been requested yet, request one. Return\n    // the current animation frame request id.\n    return scheduler.scheduled || (scheduler.scheduled = requestAnimationFrame(\n      () => scheduler.flush(null)));\n  }\n  protected recycleAsyncId(scheduler: AnimationFrameScheduler, id?: any, delay: number = 0): any {\n    // If delay exists and is greater than 0, or if the delay is null (the\n    // action wasn't rescheduled) but was originally scheduled as an async\n    // action, then recycle as an async action.\n    if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n      return super.recycleAsyncId(scheduler, id, delay);\n    }\n    // If the scheduler queue is empty, cancel the requested animation frame and\n    // set the scheduled flag to undefined so the next AnimationFrameAction will\n    // request its own.\n    if (scheduler.actions.length === 0) {\n      cancelAnimationFrame(id);\n      scheduler.scheduled = undefined;\n    }\n    // Return undefined so the action knows to request a new async id if it's rescheduled.\n    return undefined;\n  }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n\nexport class AnimationFrameScheduler extends AsyncScheduler {\n  public flush(action?: AsyncAction<any>): void {\n\n    this.active = true;\n    this.scheduled = undefined;\n\n    const {actions} = this;\n    let error: any;\n    let index: number = -1;\n    let count: number = actions.length;\n    action = action || actions.shift();\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (++index < count && (action = actions.shift()));\n\n    this.active = false;\n\n    if (error) {\n      while (++index < count && (action = actions.shift())) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n","import { AnimationFrameAction } from './AnimationFrameAction';\nimport { AnimationFrameScheduler } from './AnimationFrameScheduler';\n\n/**\n *\n * Animation Frame Scheduler\n *\n * <span class=\"informal\">Perform task when `window.requestAnimationFrame` would fire</span>\n *\n * When `animationFrame` scheduler is used with delay, it will fall back to {@link asyncScheduler} scheduler\n * behaviour.\n *\n * Without delay, `animationFrame` scheduler can be used to create smooth browser animations.\n * It makes sure scheduled task will happen just before next browser content repaint,\n * thus performing animations as efficiently as possible.\n *\n * ## Example\n * Schedule div height animation\n * ```javascript\n * const div = document.querySelector('.some-div');\n *\n * Rx.Scheduler.animationFrame.schedule(function(height) {\n *   div.style.height = height + \"px\";\n *\n *   this.schedule(height + 1);  // `this` references currently executing Action,\n *                               // which we reschedule with new state\n * }, 0, 0);\n *\n * // You will see .some-div element growing in height\n * ```\n *\n * @static true\n * @name animationFrame\n * @owner Scheduler\n */\n\nexport const animationFrame = new AnimationFrameScheduler(AnimationFrameAction);\n","import { AsyncAction } from './AsyncAction';\nimport { Subscription } from '../Subscription';\nimport { AsyncScheduler } from './AsyncScheduler';\nimport { SchedulerAction } from '../types';\n\nexport class VirtualTimeScheduler extends AsyncScheduler {\n\n  protected static frameTimeFactor: number = 10;\n\n  public frame: number = 0;\n  public index: number = -1;\n\n  constructor(SchedulerAction: typeof AsyncAction = VirtualAction as any,\n              public maxFrames: number = Number.POSITIVE_INFINITY) {\n    super(SchedulerAction, () => this.frame);\n  }\n\n  /**\n   * Prompt the Scheduler to execute all of its queued actions, therefore\n   * clearing its queue.\n   * @return {void}\n   */\n  public flush(): void {\n\n    const {actions, maxFrames} = this;\n    let error: any, action: AsyncAction<any>;\n\n    while ((action = actions.shift()) && (this.frame = action.delay) <= maxFrames) {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    }\n\n    if (error) {\n      while (action = actions.shift()) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @nodoc\n */\nexport class VirtualAction<T> extends AsyncAction<T> {\n\n  protected active: boolean = true;\n\n  constructor(protected scheduler: VirtualTimeScheduler,\n              protected work: (this: SchedulerAction<T>, state?: T) => void,\n              protected index: number = scheduler.index += 1) {\n    super(scheduler, work);\n    this.index = scheduler.index = index;\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n    if (!this.id) {\n      return super.schedule(state, delay);\n    }\n    this.active = false;\n    // If an action is rescheduled, we save allocations by mutating its state,\n    // pushing it to the end of the scheduler queue, and recycling the action.\n    // But since the VirtualTimeScheduler is used for testing, VirtualActions\n    // must be immutable so they can be inspected later.\n    const action = new VirtualAction(this.scheduler, this.work);\n    this.add(action);\n    return action.schedule(state, delay);\n  }\n\n  protected requestAsyncId(scheduler: VirtualTimeScheduler, id?: any, delay: number = 0): any {\n    this.delay = scheduler.frame + delay;\n    const {actions} = scheduler;\n    actions.push(this);\n    (actions as Array<VirtualAction<T>>).sort(VirtualAction.sortActions);\n    return true;\n  }\n\n  protected recycleAsyncId(scheduler: VirtualTimeScheduler, id?: any, delay: number = 0): any {\n    return undefined;\n  }\n\n  protected _execute(state: T, delay: number): any {\n    if (this.active === true) {\n      return super._execute(state, delay);\n    }\n  }\n\n  public static sortActions<T>(a: VirtualAction<T>, b: VirtualAction<T>) {\n    if (a.delay === b.delay) {\n      if (a.index === b.index) {\n        return 0;\n      } else if (a.index > b.index) {\n        return 1;\n      } else {\n        return -1;\n      }\n    } else if (a.delay > b.delay) {\n      return 1;\n    } else {\n      return -1;\n    }\n  }\n}\n","export function identity<T>(x: T): T {\n  return x;\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput } from '../types';\n\n/**\n * Tests to see if the object is an RxJS {@link Observable}\n * @param obj the object to test\n */\nexport function isObservable<T>(obj: any): obj is Observable<T> {\n  return !!obj && (obj instanceof Observable || (typeof obj.lift === 'function' && typeof obj.subscribe === 'function'));\n}\n","export interface ArgumentOutOfRangeError extends Error {\n}\n\nexport interface ArgumentOutOfRangeErrorCtor {\n  new(): ArgumentOutOfRangeError;\n}\n\nfunction ArgumentOutOfRangeErrorImpl(this: any) {\n  Error.call(this);\n  this.message = 'argument out of range';\n  this.name = 'ArgumentOutOfRangeError';\n  return this;\n}\n\nArgumentOutOfRangeErrorImpl.prototype = Object.create(Error.prototype);\n\n/**\n * An error thrown when an element was queried at a certain index of an\n * Observable, but no such index or position exists in that sequence.\n *\n * @see {@link elementAt}\n * @see {@link take}\n * @see {@link takeLast}\n *\n * @class ArgumentOutOfRangeError\n */\nexport const ArgumentOutOfRangeError: ArgumentOutOfRangeErrorCtor = ArgumentOutOfRangeErrorImpl as any;","export interface EmptyError extends Error {\n}\n\nexport interface EmptyErrorCtor {\n  new(): EmptyError;\n}\n\nfunction EmptyErrorImpl(this: any) {\n  Error.call(this);\n  this.message = 'no elements in sequence';\n  this.name = 'EmptyError';\n  return this;\n}\n\nEmptyErrorImpl.prototype = Object.create(Error.prototype);\n\n/**\n * An error thrown when an Observable or a sequence was queried but has no\n * elements.\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link single}\n *\n * @class EmptyError\n */\nexport const EmptyError: EmptyErrorCtor = EmptyErrorImpl as any;","export interface TimeoutError extends Error {\r\n}\r\n\r\nexport interface TimeoutErrorCtor {\r\n  new(): TimeoutError;\r\n}\r\n\r\nfunction TimeoutErrorImpl(this: any) {\r\n  Error.call(this);\r\n  this.message = 'Timeout has occurred';\r\n  this.name = 'TimeoutError';\r\n  return this;\r\n}\r\n\r\nTimeoutErrorImpl.prototype = Object.create(Error.prototype);\r\n\r\n/**\r\n * An error thrown when duetime elapses.\r\n *\r\n * @see {@link timeout}\r\n *\r\n * @class TimeoutError\r\n */\r\nexport const TimeoutError: TimeoutErrorCtor = TimeoutErrorImpl as any;\r\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction } from '../types';\n\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * ![](map.png)\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * ## Example\n * Map every click to the clientX position of that click\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const positions = clicks.pipe(map(ev => ev.clientX));\n * positions.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nexport function map<T, R>(project: (value: T, index: number) => R, thisArg?: any): OperatorFunction<T, R> {\n  return function mapOperation(source: Observable<T>): Observable<R> {\n    if (typeof project !== 'function') {\n      throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n    }\n    return source.lift(new MapOperator(project, thisArg));\n  };\n}\n\nexport class MapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => R, private thisArg: any) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass MapSubscriber<T, R> extends Subscriber<T> {\n  count: number = 0;\n  private thisArg: any;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => R,\n              thisArg: any) {\n    super(destination);\n    this.thisArg = thisArg || this;\n  }\n\n  // NOTE: This looks unoptimized, but it's actually purposefully NOT\n  // using try/catch optimizations.\n  protected _next(value: T) {\n    let result: any;\n    try {\n      result = this.project.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","import { SchedulerLike, SchedulerAction } from '../types';\nimport { Observable } from '../Observable';\nimport { AsyncSubject } from '../AsyncSubject';\nimport { Subscriber } from '../Subscriber';\nimport { map } from '../operators/map';\nimport { canReportError } from '../util/canReportError';\nimport { isArray } from '../util/isArray';\nimport { isScheduler } from '../util/isScheduler';\n\n// tslint:disable:max-line-length\n/** @deprecated resultSelector is no longer supported, use a mapping function. */\nexport function bindCallback(callbackFunc: Function, resultSelector: Function, scheduler?: SchedulerLike): (...args: any[]) => Observable<any>;\n\nexport function bindCallback<R1, R2, R3, R4>(callbackFunc: (callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): () => Observable<any[]>;\nexport function bindCallback<R1, R2, R3>(callbackFunc: (callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): () => Observable<[R1, R2, R3]>;\nexport function bindCallback<R1, R2>(callbackFunc: (callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): () => Observable<[R1, R2]>;\nexport function bindCallback<R1>(callbackFunc: (callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): () => Observable<R1>;\nexport function bindCallback(callbackFunc: (callback: () => any) => any, scheduler?: SchedulerLike): () => Observable<void>;\n\nexport function bindCallback<A1, R1, R2, R3, R4>(callbackFunc: (arg1: A1, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<any[]>;\nexport function bindCallback<A1, R1, R2, R3>(callbackFunc: (arg1: A1, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, R1, R2>(callbackFunc: (arg1: A1, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<[R1, R2]>;\nexport function bindCallback<A1, R1>(callbackFunc: (arg1: A1, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<R1>;\nexport function bindCallback<A1>(callbackFunc: (arg1: A1, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<void>;\n\nexport function bindCallback<A1, A2, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<any[]>;\nexport function bindCallback<A1, A2, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, A2, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<[R1, R2]>;\nexport function bindCallback<A1, A2, R1>(callbackFunc: (arg1: A1, arg2: A2, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<R1>;\nexport function bindCallback<A1, A2>(callbackFunc: (arg1: A1, arg2: A2, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<void>;\n\nexport function bindCallback<A1, A2, A3, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<any[]>;\nexport function bindCallback<A1, A2, A3, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, A2, A3, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<[R1, R2]>;\nexport function bindCallback<A1, A2, A3, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<R1>;\nexport function bindCallback<A1, A2, A3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<void>;\n\nexport function bindCallback<A1, A2, A3, A4, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<any[]>;\nexport function bindCallback<A1, A2, A3, A4, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, A2, A3, A4, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<[R1, R2]>;\nexport function bindCallback<A1, A2, A3, A4, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<R1>;\nexport function bindCallback<A1, A2, A3, A4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<void>;\n\nexport function bindCallback<A1, A2, A3, A4, A5, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<any[]>;\nexport function bindCallback<A1, A2, A3, A4, A5, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<[R1, R2, R3]>;\nexport function bindCallback<A1, A2, A3, A4, A5, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<[R1, R2]>;\nexport function bindCallback<A1, A2, A3, A4, A5, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<R1>;\nexport function bindCallback<A1, A2, A3, A4, A5>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: () => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<void>;\n\nexport function bindCallback<A, R>(callbackFunc: (...args: Array<A | ((result: R) => any)>) => any, scheduler?: SchedulerLike): (...args: A[]) => Observable<R>;\nexport function bindCallback<A, R>(callbackFunc: (...args: Array<A | ((...results: R[]) => any)>) => any, scheduler?: SchedulerLike): (...args: A[]) => Observable<R[]>;\n\nexport function bindCallback(callbackFunc: Function, scheduler?: SchedulerLike): (...args: any[]) => Observable<any>;\n\n// tslint:enable:max-line-length\n\n/**\n * Converts a callback API to a function that returns an Observable.\n *\n * <span class=\"informal\">Give it a function `f` of type `f(x, callback)` and\n * it will return a function `g` that when called as `g(x)` will output an\n * Observable.</span>\n *\n * `bindCallback` is not an operator because its input and output are not\n * Observables. The input is a function `func` with some parameters. The\n * last parameter must be a callback function that `func` calls when it is\n * done.\n *\n * The output of `bindCallback` is a function that takes the same parameters\n * as `func`, except the last one (the callback). When the output function\n * is called with arguments it will return an Observable. If function `func`\n * calls its callback with one argument, the Observable will emit that value.\n * If on the other hand the callback is called with multiple values the resulting\n * Observable will emit an array with said values as arguments.\n *\n * It is **very important** to remember that input function `func` is not called\n * when the output function is, but rather when the Observable returned by the output\n * function is subscribed. This means if `func` makes an AJAX request, that request\n * will be made every time someone subscribes to the resulting Observable, but not before.\n *\n * The last optional parameter - `scheduler` - can be used to control when the call\n * to `func` happens after someone subscribes to Observable, as well as when results\n * passed to callback will be emitted. By default, the subscription to an Observable calls `func`\n * synchronously, but using {@link asyncScheduler} as the last parameter will defer the call to `func`,\n * just like wrapping the call in `setTimeout` with a timeout of `0` would. If you were to use the async Scheduler\n * and call `subscribe` on the output Observable, all function calls that are currently executing\n * will end before `func` is invoked.\n *\n * By default, results passed to the callback are emitted immediately after `func` invokes the callback.\n * In particular, if the callback is called synchronously, then the subscription of the resulting Observable\n * will call the `next` function synchronously as well.  If you want to defer that call,\n * you may use {@link asyncScheduler} just as before.  This means that by using `Scheduler.async` you can\n * ensure that `func` always calls its callback asynchronously, thus avoiding terrifying Zalgo.\n *\n * Note that the Observable created by the output function will always emit a single value\n * and then complete immediately. If `func` calls the callback multiple times, values from subsequent\n * calls will not appear in the stream. If you need to listen for multiple calls,\n *  you probably want to use {@link fromEvent} or {@link fromEventPattern} instead.\n *\n * If `func` depends on some context (`this` property) and is not already bound, the context of `func`\n * will be the context that the output function has at call time. In particular, if `func`\n * is called as a method of some objec and if `func` is not already bound, in order to preserve the context\n * it is recommended that the context of the output function is set to that object as well.\n *\n * If the input function calls its callback in the \"node style\" (i.e. first argument to callback is\n * optional error parameter signaling whether the call failed or not), {@link bindNodeCallback}\n * provides convenient error handling and probably is a better choice.\n * `bindCallback` will treat such functions the same as any other and error parameters\n * (whether passed or not) will always be interpreted as regular callback argument.\n *\n * ## Examples\n *\n * ### Convert jQuery's getJSON to an Observable API\n * ```javascript\n * // Suppose we have jQuery.getJSON('/my/url', callback)\n * const getJSONAsObservable = bindCallback(jQuery.getJSON);\n * const result = getJSONAsObservable('/my/url');\n * result.subscribe(x => console.log(x), e => console.error(e));\n * ```\n *\n * ### Receive an array of arguments passed to a callback\n * ```javascript\n * someFunction((a, b, c) => {\n *   console.log(a); // 5\n *   console.log(b); // 'some string'\n *   console.log(c); // {someProperty: 'someValue'}\n * });\n *\n * const boundSomeFunction = bindCallback(someFunction);\n * boundSomeFunction().subscribe(values => {\n *   console.log(values) // [5, 'some string', {someProperty: 'someValue'}]\n * });\n * ```\n *\n * ### Compare behaviour with and without async Scheduler\n * ```javascript\n * function iCallMyCallbackSynchronously(cb) {\n *   cb();\n * }\n *\n * const boundSyncFn = bindCallback(iCallMyCallbackSynchronously);\n * const boundAsyncFn = bindCallback(iCallMyCallbackSynchronously, null, Rx.Scheduler.async);\n *\n * boundSyncFn().subscribe(() => console.log('I was sync!'));\n * boundAsyncFn().subscribe(() => console.log('I was async!'));\n * console.log('This happened...');\n *\n * // Logs:\n * // I was sync!\n * // This happened...\n * // I was async!\n * ```\n *\n * ### Use bindCallback on an object method\n * ```javascript\n * const boundMethod = bindCallback(someObject.methodWithCallback);\n * boundMethod.call(someObject) // make sure methodWithCallback has access to someObject\n * .subscribe(subscriber);\n * ```\n *\n * @see {@link bindNodeCallback}\n * @see {@link from}\n *\n * @param {function} func A function with a callback as the last parameter.\n * @param {SchedulerLike} [scheduler] The scheduler on which to schedule the\n * callbacks.\n * @return {function(...params: *): Observable} A function which returns the\n * Observable that delivers the same values the callback would deliver.\n * @name bindCallback\n */\nexport function bindCallback<T>(\n  callbackFunc: Function,\n  resultSelector?: Function|SchedulerLike,\n  scheduler?: SchedulerLike\n): (...args: any[]) => Observable<T> {\n  if (resultSelector) {\n    if (isScheduler(resultSelector)) {\n      scheduler = resultSelector;\n    } else {\n      // DEPRECATED PATH\n      return (...args: any[]) => bindCallback(callbackFunc, scheduler)(...args).pipe(\n        map((args) => isArray(args) ? resultSelector(...args) : resultSelector(args)),\n      );\n    }\n  }\n\n  return function (this: any, ...args: any[]): Observable<T> {\n    const context = this;\n    let subject: AsyncSubject<T>;\n    const params = {\n      context,\n      subject,\n      callbackFunc,\n      scheduler,\n    };\n    return new Observable<T>(subscriber => {\n      if (!scheduler) {\n        if (!subject) {\n          subject = new AsyncSubject<T>();\n          const handler = (...innerArgs: any[]) => {\n            subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n            subject.complete();\n          };\n\n          try {\n            callbackFunc.apply(context, [...args, handler]);\n          } catch (err) {\n            if (canReportError(subject)) {\n              subject.error(err);\n            } else {\n              console.warn(err);\n            }\n          }\n        }\n        return subject.subscribe(subscriber);\n      } else {\n        const state: DispatchState<T> = {\n          args, subscriber, params,\n        };\n        return scheduler.schedule<DispatchState<T>>(dispatch, 0, state);\n      }\n    });\n  };\n}\n\ninterface DispatchState<T> {\n  args: any[];\n  subscriber: Subscriber<T>;\n  params: ParamsContext<T>;\n}\n\ninterface ParamsContext<T> {\n  callbackFunc: Function;\n  scheduler: SchedulerLike;\n  context: any;\n  subject: AsyncSubject<T>;\n}\n\nfunction dispatch<T>(this: SchedulerAction<DispatchState<T>>, state: DispatchState<T>) {\n  const self = this;\n  const { args, subscriber, params } = state;\n  const { callbackFunc, context, scheduler } = params;\n  let { subject } = params;\n  if (!subject) {\n    subject = params.subject = new AsyncSubject<T>();\n\n    const handler = (...innerArgs: any[]) => {\n      const value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n      this.add(scheduler.schedule<NextState<T>>(dispatchNext, 0, { value, subject }));\n    };\n\n    try {\n      callbackFunc.apply(context, [...args, handler]);\n    } catch (err) {\n      subject.error(err);\n    }\n  }\n\n  this.add(subject.subscribe(subscriber));\n}\n\ninterface NextState<T> {\n  subject: AsyncSubject<T>;\n  value: T;\n}\n\nfunction dispatchNext<T>(this: SchedulerAction<NextState<T>>, state: NextState<T>) {\n  const { value, subject } = state;\n  subject.next(value);\n  subject.complete();\n}\n\ninterface ErrorState<T> {\n  subject: AsyncSubject<T>;\n  err: any;\n}\n\nfunction dispatchError<T>(this: SchedulerAction<ErrorState<T>>, state: ErrorState<T>) {\n  const { err, subject } = state;\n  subject.error(err);\n}\n","import { Observable } from '../Observable';\nimport { AsyncSubject } from '../AsyncSubject';\nimport { Subscriber } from '../Subscriber';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { map } from '../operators/map';\nimport { canReportError } from '../util/canReportError';\nimport { isScheduler } from '../util/isScheduler';\nimport { isArray } from '../util/isArray';\n\n/* tslint:disable:max-line-length */\n/** @deprecated resultSelector is deprecated, pipe to map instead */\nexport function bindNodeCallback(callbackFunc: Function, resultSelector: Function, scheduler?: SchedulerLike): (...args: any[]) => Observable<any>;\n\nexport function bindNodeCallback<R1, R2, R3, R4>(callbackFunc: (callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<R1, R2, R3>(callbackFunc: (callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): () => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<R1, R2>(callbackFunc: (callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): () => Observable<[R1, R2]>;\nexport function bindNodeCallback<R1>(callbackFunc: (callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): () => Observable<R1>;\nexport function bindNodeCallback(callbackFunc: (callback: (err: any) => any) => any, scheduler?: SchedulerLike): () => Observable<void>;\n\nexport function bindNodeCallback<A1, R1, R2, R3, R4>(callbackFunc: (arg1: A1, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, R1, R2, R3>(callbackFunc: (arg1: A1, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, R1, R2>(callbackFunc: (arg1: A1, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, R1>(callbackFunc: (arg1: A1, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<R1>;\nexport function bindNodeCallback<A1>(callbackFunc: (arg1: A1, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1) => Observable<void>;\n\nexport function bindNodeCallback<A1, A2, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, A2, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, A2, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, A2, R1>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<R1>;\nexport function bindNodeCallback<A1, A2>(callbackFunc: (arg1: A1, arg2: A2, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2) => Observable<void>;\n\nexport function bindNodeCallback<A1, A2, A3, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, A2, A3, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, A2, A3, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, A2, A3, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<R1>;\nexport function bindNodeCallback<A1, A2, A3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3) => Observable<void>;\n\nexport function bindNodeCallback<A1, A2, A3, A4, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, A2, A3, A4, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, A2, A3, A4, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, A2, A3, A4, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<R1>;\nexport function bindNodeCallback<A1, A2, A3, A4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4) => Observable<void>;\n\nexport function bindNodeCallback<A1, A2, A3, A4, A5, R1, R2, R3, R4>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any, res1: R1, res2: R2, res3: R3, res4: R4, ...args: any[]) => any) => any, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\nexport function bindNodeCallback<A1, A2, A3, A4, A5, R1, R2, R3>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any, res1: R1, res2: R2, res3: R3) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<[R1, R2, R3]>;\nexport function bindNodeCallback<A1, A2, A3, A4, A5, R1, R2>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any, res1: R1, res2: R2) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<[R1, R2]>;\nexport function bindNodeCallback<A1, A2, A3, A4, A5, R1>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any, res1: R1) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<R1>;\nexport function bindNodeCallback<A1, A2, A3, A4, A5>(callbackFunc: (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5, callback: (err: any) => any) => any, scheduler?: SchedulerLike): (arg1: A1, arg2: A2, arg3: A3, arg4: A4, arg5: A5) => Observable<void>; /* tslint:enable:max-line-length */\n\nexport function bindNodeCallback(callbackFunc: Function, scheduler?: SchedulerLike): (...args: any[]) => Observable<any[]>;\n/**\n * Converts a Node.js-style callback API to a function that returns an\n * Observable.\n *\n * <span class=\"informal\">It's just like {@link bindCallback}, but the\n * callback is expected to be of type `callback(error, result)`.</span>\n *\n * `bindNodeCallback` is not an operator because its input and output are not\n * Observables. The input is a function `func` with some parameters, but the\n * last parameter must be a callback function that `func` calls when it is\n * done. The callback function is expected to follow Node.js conventions,\n * where the first argument to the callback is an error object, signaling\n * whether call was successful. If that object is passed to callback, it means\n * something went wrong.\n *\n * The output of `bindNodeCallback` is a function that takes the same\n * parameters as `func`, except the last one (the callback). When the output\n * function is called with arguments, it will return an Observable.\n * If `func` calls its callback with error parameter present, Observable will\n * error with that value as well. If error parameter is not passed, Observable will emit\n * second parameter. If there are more parameters (third and so on),\n * Observable will emit an array with all arguments, except first error argument.\n *\n * Note that `func` will not be called at the same time output function is,\n * but rather whenever resulting Observable is subscribed. By default call to\n * `func` will happen synchronously after subscription, but that can be changed\n * with proper `scheduler` provided as optional third parameter. {@link SchedulerLike}\n * can also control when values from callback will be emitted by Observable.\n * To find out more, check out documentation for {@link bindCallback}, where\n * {@link SchedulerLike} works exactly the same.\n *\n * As in {@link bindCallback}, context (`this` property) of input function will be set to context\n * of returned function, when it is called.\n *\n * After Observable emits value, it will complete immediately. This means\n * even if `func` calls callback again, values from second and consecutive\n * calls will never appear on the stream. If you need to handle functions\n * that call callbacks multiple times, check out {@link fromEvent} or\n * {@link fromEventPattern} instead.\n *\n * Note that `bindNodeCallback` can be used in non-Node.js environments as well.\n * \"Node.js-style\" callbacks are just a convention, so if you write for\n * browsers or any other environment and API you use implements that callback style,\n * `bindNodeCallback` can be safely used on that API functions as well.\n *\n * Remember that Error object passed to callback does not have to be an instance\n * of JavaScript built-in `Error` object. In fact, it does not even have to an object.\n * Error parameter of callback function is interpreted as \"present\", when value\n * of that parameter is truthy. It could be, for example, non-zero number, non-empty\n * string or boolean `true`. In all of these cases resulting Observable would error\n * with that value. This means usually regular style callbacks will fail very often when\n * `bindNodeCallback` is used. If your Observable errors much more often then you\n * would expect, check if callback really is called in Node.js-style and, if not,\n * switch to {@link bindCallback} instead.\n *\n * Note that even if error parameter is technically present in callback, but its value\n * is falsy, it still won't appear in array emitted by Observable.\n *\n * ## Examples\n * ###  Read a file from the filesystem and get the data as an Observable\n * ```javascript\n * import * as fs from 'fs';\n * const readFileAsObservable = bindNodeCallback(fs.readFile);\n * const result = readFileAsObservable('./roadNames.txt', 'utf8');\n * result.subscribe(x => console.log(x), e => console.error(e));\n * ```\n *\n * ### Use on function calling callback with multiple arguments\n * ```javascript\n * someFunction((err, a, b) => {\n *   console.log(err); // null\n *   console.log(a); // 5\n *   console.log(b); // \"some string\"\n * });\n * const boundSomeFunction = bindNodeCallback(someFunction);\n * boundSomeFunction()\n * .subscribe(value => {\n *   console.log(value); // [5, \"some string\"]\n * });\n * ```\n *\n * ### Use on function calling callback in regular style\n * ```javascript\n * someFunction(a => {\n *   console.log(a); // 5\n * });\n * const boundSomeFunction = bindNodeCallback(someFunction);\n * boundSomeFunction()\n * .subscribe(\n *   value => {}             // never gets called\n *   err => console.log(err) // 5\n * );\n * ```\n *\n * @see {@link bindCallback}\n * @see {@link from}\n *\n * @param {function} func Function with a Node.js-style callback as the last parameter.\n * @param {SchedulerLike} [scheduler] The scheduler on which to schedule the\n * callbacks.\n * @return {function(...params: *): Observable} A function which returns the\n * Observable that delivers the same values the Node.js callback would\n * deliver.\n * @name bindNodeCallback\n */\nexport function bindNodeCallback<T>(\n  callbackFunc: Function,\n  resultSelector: Function|SchedulerLike,\n  scheduler?: SchedulerLike\n): (...args: any[]) => Observable<T> {\n\n  if (resultSelector) {\n    if (isScheduler(resultSelector)) {\n      scheduler = resultSelector;\n    } else {\n      // DEPRECATED PATH\n      return (...args: any[]) => bindNodeCallback(callbackFunc, scheduler)(...args).pipe(\n        map(args => isArray(args) ? resultSelector(...args) : resultSelector(args))\n      );\n    }\n  }\n\n  return function(this: any, ...args: any[]): Observable<T> {\n    const params: ParamsState<T> = {\n      subject: undefined,\n      args,\n      callbackFunc,\n      scheduler,\n      context: this,\n    };\n    return new Observable<T>(subscriber => {\n      const { context } = params;\n      let { subject } = params;\n      if (!scheduler) {\n        if (!subject) {\n          subject = params.subject = new AsyncSubject<T>();\n          const handler = (...innerArgs: any[]) => {\n            const err = innerArgs.shift();\n\n            if (err) {\n              subject.error(err);\n              return;\n            }\n\n            subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n            subject.complete();\n          };\n\n          try {\n            callbackFunc.apply(context, [...args, handler]);\n          } catch (err) {\n            if (canReportError(subject)) {\n              subject.error(err);\n            } else {\n              console.warn(err);\n            }\n          }\n        }\n        return subject.subscribe(subscriber);\n      } else {\n        return scheduler.schedule<DispatchState<T>>(dispatch, 0, { params, subscriber, context });\n      }\n    });\n  };\n}\n\ninterface DispatchState<T> {\n  subscriber: Subscriber<T>;\n  context: any;\n  params: ParamsState<T>;\n}\n\ninterface ParamsState<T> {\n  callbackFunc: Function;\n  args: any[];\n  scheduler: SchedulerLike;\n  subject: AsyncSubject<T>;\n  context: any;\n}\n\nfunction dispatch<T>(this: SchedulerAction<DispatchState<T>>, state: DispatchState<T>) {\n  const { params, subscriber, context } = state;\n  const { callbackFunc, args, scheduler } = params;\n  let subject = params.subject;\n\n  if (!subject) {\n    subject = params.subject = new AsyncSubject<T>();\n\n    const handler = (...innerArgs: any[]) => {\n      const err = innerArgs.shift();\n      if (err) {\n        this.add(scheduler.schedule<DispatchErrorArg<T>>(dispatchError, 0, { err, subject }));\n      } else {\n        const value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n        this.add(scheduler.schedule<DispatchNextArg<T>>(dispatchNext, 0, { value, subject }));\n      }\n    };\n\n    try {\n      callbackFunc.apply(context, [...args, handler]);\n    } catch (err) {\n      this.add(scheduler.schedule<DispatchErrorArg<T>>(dispatchError, 0, { err, subject }));\n    }\n  }\n\n  this.add(subject.subscribe(subscriber));\n}\n\ninterface DispatchNextArg<T> {\n  subject: AsyncSubject<T>;\n  value: T;\n}\n\nfunction dispatchNext<T>(arg: DispatchNextArg<T>) {\n  const { value, subject } = arg;\n  subject.next(value);\n  subject.complete();\n}\n\ninterface DispatchErrorArg<T> {\n  subject: AsyncSubject<T>;\n  err: any;\n}\n\nfunction dispatchError<T>(arg: DispatchErrorArg<T>) {\n  const { err, subject } = arg;\n  subject.error(err);\n}\n","import { Subscriber } from './Subscriber';\nimport { InnerSubscriber } from './InnerSubscriber';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class OuterSubscriber<T, R> extends Subscriber<T> {\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.destination.next(innerValue);\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, R>): void {\n    this.destination.error(error);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, R>): void {\n    this.destination.complete();\n  }\n}\n","import { Subscriber } from './Subscriber';\nimport { OuterSubscriber } from './OuterSubscriber';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class InnerSubscriber<T, R> extends Subscriber<R> {\n  private index = 0;\n\n  constructor(private parent: OuterSubscriber<T, R>, public outerValue: T, public outerIndex: number) {\n    super();\n  }\n\n  protected _next(value: R): void {\n    this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n  }\n\n  protected _error(error: any): void {\n    this.parent.notifyError(error, this);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.parent.notifyComplete(this);\n    this.unsubscribe();\n  }\n}\n","import { Subscriber } from '../Subscriber';\nimport { hostReportError } from './hostReportError';\n\nexport const subscribeToPromise = <T>(promise: PromiseLike<T>) => (subscriber: Subscriber<T>) => {\n  promise.then(\n    (value) => {\n      if (!subscriber.closed) {\n        subscriber.next(value);\n        subscriber.complete();\n      }\n    },\n    (err: any) => subscriber.error(err)\n  )\n  .then(null, hostReportError);\n  return subscriber;\n};\n","export function getSymbolIterator(): symbol {\n  if (typeof Symbol !== 'function' || !Symbol.iterator) {\n    return '@@iterator' as any;\n  }\n\n  return Symbol.iterator;\n}\n\nexport const iterator = getSymbolIterator();\n\n/**\n * @deprecated use {@link iterator} instead\n */\nexport const $$iterator = iterator;\n","import { Subscriber } from '../Subscriber';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\n\nexport const subscribeToIterable = <T>(iterable: Iterable<T>) => (subscriber: Subscriber<T>) => {\n  const iterator = iterable[Symbol_iterator]();\n  do {\n    const item = iterator.next();\n    if (item.done) {\n      subscriber.complete();\n      break;\n    }\n    subscriber.next(item.value);\n    if (subscriber.closed) {\n      break;\n    }\n  } while (true);\n\n  // Finalize the iterator if it happens to be a Generator\n  if (typeof iterator.return === 'function') {\n    subscriber.add(() => {\n      if (iterator.return) {\n        iterator.return();\n      }\n    });\n  }\n\n  return subscriber;\n};\n","import { Subscriber } from '../Subscriber';\nimport { observable as Symbol_observable } from '../symbol/observable';\n\n/**\n * Subscribes to an object that implements Symbol.observable with the given\n * Subscriber.\n * @param obj An object that implements Symbol.observable\n */\nexport const subscribeToObservable = <T>(obj: any) => (subscriber: Subscriber<T>) => {\n  const obs = obj[Symbol_observable]();\n  if (typeof obs.subscribe !== 'function') {\n    // Should be caught by observable subscribe function error handling.\n    throw new TypeError('Provided object does not correctly implement Symbol.observable');\n  } else {\n    return obs.subscribe(subscriber);\n  }\n};\n","export const isArrayLike = (<T>(x: any): x is ArrayLike<T> => x && typeof x.length === 'number' && typeof x !== 'function');","export function isPromise(value: any): value is PromiseLike<any> {\n  return value && typeof (<any>value).subscribe !== 'function' && typeof (value as any).then === 'function';\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput } from '../types';\nimport { subscribeToArray } from './subscribeToArray';\nimport { subscribeToPromise } from './subscribeToPromise';\nimport { subscribeToIterable } from './subscribeToIterable';\nimport { subscribeToObservable } from './subscribeToObservable';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nimport { Subscriber } from '../Subscriber';\n\nexport const subscribeTo = <T>(result: ObservableInput<T>) => {\n  if (result instanceof Observable) {\n    return (subscriber: Subscriber<T>) => {\n        if (result._isScalar) {\n        subscriber.next((result as any).value);\n        subscriber.complete();\n        return undefined;\n      } else {\n        return result.subscribe(subscriber);\n      }\n    };\n  } else if (result && typeof result[Symbol_observable] === 'function') {\n    return subscribeToObservable(result as any);\n  } else if (isArrayLike(result)) {\n    return subscribeToArray(result);\n  } else if (isPromise(result)) {\n    return subscribeToPromise(result as Promise<any>);\n  } else if (result && typeof result[Symbol_iterator] === 'function') {\n    return subscribeToIterable(result as any);\n  } else {\n    const value = isObject(result) ? 'an invalid object' : `'${result}'`;\n    const msg = `You provided ${value} where a stream was expected.`\n      + ' You can provide an Observable, Promise, Array, or Iterable.';\n    throw new TypeError(msg);\n  }\n};\n","import { ObservableInput } from '../types';\nimport { Subscription } from '../Subscription';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { Subscriber } from '../Subscriber';\nimport { subscribeTo } from './subscribeTo';\n\nexport function subscribeToResult<T, R>(\n  outerSubscriber: OuterSubscriber<T, R>,\n  result: any,\n  outerValue?: T,\n  outerIndex?: number,\n  destination?: Subscriber<any>\n): Subscription;\nexport function subscribeToResult<T, R>(\n  outerSubscriber: OuterSubscriber<T, R>,\n  result: any,\n  outerValue?: T,\n  outerIndex?: number,\n  destination: Subscriber<any> = new InnerSubscriber(outerSubscriber, outerValue, outerIndex)\n): Subscription | void {\n  if (destination.closed) {\n    return;\n  }\n  return subscribeTo(result)(destination);\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput, SchedulerLike } from '../types';\nimport { isScheduler  } from '../util/isScheduler';\nimport { isArray  } from '../util/isArray';\nimport { Subscriber } from '../Subscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { Operator } from '../Operator';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { fromArray } from './fromArray';\n\nconst NONE = {};\n\n/* tslint:disable:max-line-length */\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, R>(v1: ObservableInput<T>, resultSelector: (v1: T) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, T2, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, resultSelector: (v1: T, v2: T2) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, T2, T3, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, T2, T3, T4, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, T2, T3, T4, T5, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, T2, T3, T4, T5, T6, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5, v6: T6) => R, scheduler?: SchedulerLike): Observable<R>;\n\nexport function combineLatest<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, scheduler?: SchedulerLike): Observable<[T, T2]>;\nexport function combineLatest<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler?: SchedulerLike): Observable<[T, T2, T3]>;\nexport function combineLatest<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler?: SchedulerLike): Observable<[T, T2, T3, T4]>;\nexport function combineLatest<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler?: SchedulerLike): Observable<[T, T2, T3, T4, T5]>;\nexport function combineLatest<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler?: SchedulerLike): Observable<[T, T2, T3, T4, T5, T6]>;\n\nexport function combineLatest<T>(array: ObservableInput<T>[], scheduler?: SchedulerLike): Observable<T[]>;\nexport function combineLatest<R>(array: ObservableInput<any>[], scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<T, R>(array: ObservableInput<T>[], resultSelector: (...values: Array<T>) => R, scheduler?: SchedulerLike): Observable<R>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function combineLatest<R>(array: ObservableInput<any>[], resultSelector: (...values: Array<any>) => R, scheduler?: SchedulerLike): Observable<R>;\nexport function combineLatest<T>(...observables: Array<ObservableInput<T> | SchedulerLike>): Observable<T[]>;\nexport function combineLatest<T, R>(...observables: Array<ObservableInput<T> | ((...values: Array<T>) => R) | SchedulerLike>): Observable<R>;\nexport function combineLatest<R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R) | SchedulerLike>): Observable<R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Combines multiple Observables to create an Observable whose values are\n * calculated from the latest values of each of its input Observables.\n *\n * <span class=\"informal\">Whenever any input Observable emits a value, it\n * computes a formula using the latest values from all the inputs, then emits\n * the output of that formula.</span>\n *\n * ![](combineLatest.png)\n *\n * `combineLatest` combines the values from all the Observables passed as\n * arguments. This is done by subscribing to each Observable in order and,\n * whenever any Observable emits, collecting an array of the most recent\n * values from each Observable. So if you pass `n` Observables to operator,\n * returned Observable will always emit an array of `n` values, in order\n * corresponding to order of passed Observables (value from the first Observable\n * on the first place and so on).\n *\n * Static version of `combineLatest` accepts either an array of Observables\n * or each Observable can be put directly as an argument. Note that array of\n * Observables is good choice, if you don't know beforehand how many Observables\n * you will combine. Passing empty array will result in Observable that\n * completes immediately.\n *\n * To ensure output array has always the same length, `combineLatest` will\n * actually wait for all input Observables to emit at least once,\n * before it starts emitting results. This means if some Observable emits\n * values before other Observables started emitting, all these values but the last\n * will be lost. On the other hand, if some Observable does not emit a value but\n * completes, resulting Observable will complete at the same moment without\n * emitting anything, since it will be now impossible to include value from\n * completed Observable in resulting array. Also, if some input Observable does\n * not emit any value and never completes, `combineLatest` will also never emit\n * and never complete, since, again, it will wait for all streams to emit some\n * value.\n *\n * If at least one Observable was passed to `combineLatest` and all passed Observables\n * emitted something, resulting Observable will complete when all combined\n * streams complete. So even if some Observable completes, result of\n * `combineLatest` will still emit values when other Observables do. In case\n * of completed Observable, its value from now on will always be the last\n * emitted value. On the other hand, if any Observable errors, `combineLatest`\n * will error immediately as well, and all other Observables will be unsubscribed.\n *\n * `combineLatest` accepts as optional parameter `project` function, which takes\n * as arguments all values that would normally be emitted by resulting Observable.\n * `project` can return any kind of value, which will be then emitted by Observable\n * instead of default array. Note that `project` does not take as argument that array\n * of values, but values themselves. That means default `project` can be imagined\n * as function that takes all its arguments and puts them into an array.\n *\n * ## Examples\n * ### Combine two timer Observables\n * ```javascript\n * const firstTimer = timer(0, 1000); // emit 0, 1, 2... after every second, starting from now\n * const secondTimer = timer(500, 1000); // emit 0, 1, 2... after every second, starting 0,5s from now\n * const combinedTimers = combineLatest(firstTimer, secondTimer);\n * combinedTimers.subscribe(value => console.log(value));\n * // Logs\n * // [0, 0] after 0.5s\n * // [1, 0] after 1s\n * // [1, 1] after 1.5s\n * // [2, 1] after 2s\n * ```\n *\n * ### Combine an array of Observables\n * ```javascript\n * const observables = [1, 5, 10].map(\n *   n => of(n).pipe(\n *     delay(n * 1000),   // emit 0 and then emit n after n seconds\n *     startWith(0),\n *   )\n * );\n * const combined = combineLatest(observables);\n * combined.subscribe(value => console.log(value));\n * // Logs\n * // [0, 0, 0] immediately\n * // [1, 0, 0] after 1s\n * // [1, 5, 0] after 5s\n * // [1, 5, 10] after 10s\n * ```\n *\n *\n * ### Use project function to dynamically calculate the Body-Mass Index\n * ```javascript\n * * const weight = of(70, 72, 76, 79, 75);\n * const height = of(1.76, 1.77, 1.78);\n * const bmi = combineLatest(weight, height).pipe(\n *   map(([w, h]) => w / (h * h)),\n * );\n * bmi.subscribe(x => console.log('BMI is ' + x));\n *\n * // With output to console:\n * // BMI is 24.212293388429753\n * // BMI is 23.93948099205209\n * // BMI is 23.671253629592222\n * ```\n *\n * @see {@link combineAll}\n * @see {@link merge}\n * @see {@link withLatestFrom}\n *\n * @param {ObservableInput} observable1 An input Observable to combine with other Observables.\n * @param {ObservableInput} observable2 An input Observable to combine with other Observables.\n * More than one input Observables may be given as arguments\n * or an array of Observables may be given as the first argument.\n * @param {function} [project] An optional function to project the values from\n * the combined latest values into a new value on the output Observable.\n * @param {SchedulerLike} [scheduler=null] The {@link SchedulerLike} to use for subscribing to\n * each input Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n */\nexport function combineLatest<T, R>(...observables: Array<any | ObservableInput<any> |\n                                                    Array<ObservableInput<any>> |\n                                                    (((...values: Array<any>) => R)) |\n                                                    SchedulerLike>): Observable<R> {\n  let resultSelector: (...values: Array<any>) => R =  null;\n  let scheduler: SchedulerLike = null;\n\n  if (isScheduler(observables[observables.length - 1])) {\n    scheduler = <SchedulerLike>observables.pop();\n  }\n\n  if (typeof observables[observables.length - 1] === 'function') {\n    resultSelector = <(...values: Array<any>) => R>observables.pop();\n  }\n\n  // if the first and only other argument besides the resultSelector is an array\n  // assume it's been called with `combineLatest([obs1, obs2, obs3], resultSelector)`\n  if (observables.length === 1 && isArray(observables[0])) {\n    observables = <Array<Observable<any>>>observables[0];\n  }\n\n  return fromArray(observables, scheduler).lift(new CombineLatestOperator<T, R>(resultSelector));\n}\n\nexport class CombineLatestOperator<T, R> implements Operator<T, R> {\n  constructor(private resultSelector?: (...values: Array<any>) => R) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class CombineLatestSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private active: number = 0;\n  private values: any[] = [];\n  private observables: any[] = [];\n  private toRespond: number;\n\n  constructor(destination: Subscriber<R>, private resultSelector?: (...values: Array<any>) => R) {\n    super(destination);\n  }\n\n  protected _next(observable: any) {\n    this.values.push(NONE);\n    this.observables.push(observable);\n  }\n\n  protected _complete() {\n    const observables = this.observables;\n    const len = observables.length;\n    if (len === 0) {\n      this.destination.complete();\n    } else {\n      this.active = len;\n      this.toRespond = len;\n      for (let i = 0; i < len; i++) {\n        const observable = observables[i];\n        this.add(subscribeToResult(this, observable, observable, i));\n      }\n    }\n  }\n\n  notifyComplete(unused: Subscriber<R>): void {\n    if ((this.active -= 1) === 0) {\n      this.destination.complete();\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    const values = this.values;\n    const oldVal = values[outerIndex];\n    const toRespond = !this.toRespond\n      ? 0\n      : oldVal === NONE ? --this.toRespond : this.toRespond;\n    values[outerIndex] = innerValue;\n\n    if (toRespond === 0) {\n      if (this.resultSelector) {\n        this._tryResultSelector(values);\n      } else {\n        this.destination.next(values.slice());\n      }\n    }\n  }\n\n  private _tryResultSelector(values: any[]) {\n    let result: any;\n    try {\n      result = this.resultSelector.apply(this, values);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","import { InteropObservable } from '../types';\nimport { observable as Symbol_observable } from '../symbol/observable';\n\n/** Identifies an input as being Observable (but not necessary an Rx Observable) */\nexport function isInteropObservable(input: any): input is InteropObservable<any> {\n  return input && typeof input[Symbol_observable] === 'function';\n}\n","import { iterator as Symbol_iterator } from '../symbol/iterator';\n\n/** Identifies an input as being an Iterable */\nexport function isIterable(input: any): input is Iterable<any> {\n  return input && typeof input[Symbol_iterator] === 'function';\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { Subscription } from '../Subscription';\nimport { subscribeToPromise } from '../util/subscribeToPromise';\n\nexport function fromPromise<T>(input: PromiseLike<T>, scheduler?: SchedulerLike) {\n  if (!scheduler) {\n    return new Observable<T>(subscribeToPromise(input));\n  } else {\n    return new Observable<T>(subscriber => {\n      const sub = new Subscription();\n      sub.add(scheduler.schedule(() => input.then(\n        value => {\n          sub.add(scheduler.schedule(() => {\n            subscriber.next(value);\n            sub.add(scheduler.schedule(() => subscriber.complete()));\n          }));\n        },\n        err => {\n          sub.add(scheduler.schedule(() => subscriber.error(err)));\n        }\n      )));\n      return sub;\n    });\n  }\n}\n","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\nimport { Subscription } from '../Subscription';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { subscribeToIterable } from '../util/subscribeToIterable';\n\nexport function fromIterable<T>(input: Iterable<T>, scheduler: SchedulerLike) {\n  if (!input) {\n    throw new Error('Iterable cannot be null');\n  }\n  if (!scheduler) {\n    return new Observable<T>(subscribeToIterable(input));\n  } else {\n    return new Observable<T>(subscriber => {\n      const sub = new Subscription();\n      let iterator: Iterator<T>;\n      sub.add(() => {\n        // Finalize generators\n        if (iterator && typeof iterator.return === 'function') {\n          iterator.return();\n        }\n      });\n      sub.add(scheduler.schedule(() => {\n        iterator = input[Symbol_iterator]();\n        sub.add(scheduler.schedule(function () {\n          if (subscriber.closed) {\n            return;\n          }\n          let value: T;\n          let done: boolean;\n          try {\n            const result = iterator.next();\n            value = result.value;\n            done = result.done;\n          } catch (err) {\n            subscriber.error(err);\n            return;\n          }\n          if (done) {\n            subscriber.complete();\n          } else {\n            subscriber.next(value);\n            this.schedule();\n          }\n        }));\n      }));\n      return sub;\n    });\n  }\n}\n","import { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { observable as Symbol_observable } from '../symbol/observable';\nimport { subscribeToObservable } from '../util/subscribeToObservable';\nimport { InteropObservable, SchedulerLike, Subscribable } from '../types';\n\nexport function fromObservable<T>(input: InteropObservable<T>, scheduler: SchedulerLike) {\n  if (!scheduler) {\n    return new Observable<T>(subscribeToObservable(input));\n  } else {\n    return new Observable<T>(subscriber => {\n      const sub = new Subscription();\n      sub.add(scheduler.schedule(() => {\n        const observable: Subscribable<T> = input[Symbol_observable]();\n        sub.add(observable.subscribe({\n          next(value) { sub.add(scheduler.schedule(() => subscriber.next(value))); },\n          error(err) { sub.add(scheduler.schedule(() => subscriber.error(err))); },\n          complete() { sub.add(scheduler.schedule(() => subscriber.complete())); },\n        }));\n      }));\n      return sub;\n    });\n  }\n}\n","import { Observable } from '../Observable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isIterable } from '../util/isIterable';\nimport { fromArray } from './fromArray';\nimport { fromPromise } from './fromPromise';\nimport { fromIterable } from './fromIterable';\nimport { fromObservable } from './fromObservable';\nimport { subscribeTo } from '../util/subscribeTo';\nimport { ObservableInput, SchedulerLike } from '../types';\n\nexport function from<T>(input: ObservableInput<T>, scheduler?: SchedulerLike): Observable<T>;\nexport function from<T>(input: ObservableInput<ObservableInput<T>>, scheduler?: SchedulerLike): Observable<Observable<T>>;\n\n/**\n * Creates an Observable from an Array, an array-like object, a Promise, an iterable object, or an Observable-like object.\n *\n * <span class=\"informal\">Converts almost anything to an Observable.</span>\n *\n * ![](from.png)\n *\n * `from` converts various other objects and data types into Observables. It also converts a Promise, an array-like, or an\n * <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable\" target=\"_blank\">iterable</a>\n * object into an Observable that emits the items in that promise, array, or iterable. A String, in this context, is treated\n * as an array of characters. Observable-like objects (contains a function named with the ES2015 Symbol for Observable) can also be\n * converted through this operator.\n *\n * ## Examples\n * ### Converts an array to an Observable\n * ```javascript\n * import { from } from 'rxjs/observable/from';\n *\n * const array = [10, 20, 30];\n * const result = from(array);\n *\n * result.subscribe(x => console.log(x));\n *\n * // Logs:\n * // 10 20 30\n * ```\n *\n * ---\n *\n * ### Convert an infinite iterable (from a generator) to an Observable\n * ```javascript\n * import { take } from 'rxjs/operators';\n * import { from } from 'rxjs/observable/from';\n *\n * function* generateDoubles(seed) {\n *    let i = seed;\n *    while (true) {\n *      yield i;\n *      i = 2 * i; // double it\n *    }\n * }\n *\n * const iterator = generateDoubles(3);\n * const result = from(iterator).pipe(take(10));\n *\n * result.subscribe(x => console.log(x));\n *\n * // Logs:\n * // 3 6 12 24 48 96 192 384 768 1536\n * ```\n *\n * ---\n *\n * ### with async scheduler\n * ```javascript\n * import { from } from 'rxjs/observable/from';\n * import { async } from 'rxjs/scheduler/async';\n *\n * console.log('start');\n *\n * const array = [10, 20, 30];\n * const result = from(array, async);\n *\n * result.subscribe(x => console.log(x));\n *\n * console.log('end');\n *\n * // Logs:\n * // start end 10 20 30\n * ```\n *\n * @see {@link fromEvent}\n * @see {@link fromEventPattern}\n * @see {@link fromPromise}\n *\n * @param {ObservableInput<T>} A subscription object, a Promise, an Observable-like,\n * an Array, an iterable, or an array-like object to be converted.\n * @param {SchedulerLike} An optional {@link SchedulerLike} on which to schedule the emission of values.\n * @return {Observable<T>}\n * @name from\n * @owner Observable\n */\n\nexport function from<T>(input: ObservableInput<T>, scheduler?: SchedulerLike): Observable<T> {\n  if (!scheduler) {\n    if (input instanceof Observable) {\n      return input;\n    }\n    return new Observable<T>(subscribeTo(input));\n  }\n\n  if (input != null) {\n    if (isInteropObservable(input)) {\n      return fromObservable(input, scheduler);\n    } else if (isPromise(input)) {\n      return fromPromise(input, scheduler);\n    } else if (isArrayLike(input)) {\n      return fromArray(input, scheduler);\n    }  else if (isIterable(input) || typeof input === 'string') {\n      return fromIterable(input, scheduler);\n    }\n  }\n\n  throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { ObservableInput, OperatorFunction } from '../types';\nimport { map } from './map';\nimport { from } from '../observable/from';\n\n/* tslint:disable:max-line-length */\nexport function mergeMap<T, R>(project: (value: T, index: number) => ObservableInput<R>, concurrent?: number): OperatorFunction<T, R>;\n/** @deprecated resultSelector no longer supported, use inner map instead */\nexport function mergeMap<T, R>(project: (value: T, index: number) => ObservableInput<R>, resultSelector: undefined, concurrent?: number): OperatorFunction<T, R>;\n/** @deprecated resultSelector no longer supported, use inner map instead */\nexport function mergeMap<T, I, R>(project: (value: T, index: number) => ObservableInput<I>, resultSelector: (outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R, concurrent?: number): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link mergeAll}.</span>\n *\n * ![](mergeMap.png)\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger.\n *\n * ## Example\n * Map and flatten each letter to an Observable ticking every 1 second\n * ```javascript\n * const letters = of('a', 'b', 'c');\n * const result = letters.pipe(\n *   mergeMap(x => interval(1000).pipe(map(i => x+i))),\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // a0\n * // b0\n * // c0\n * // a1\n * // b1\n * // c1\n * // continues to list a,b,c with respective ascending integers\n * ```\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional deprecated `resultSelector`) to each item\n * emitted by the source Observable and merging the results of the Observables\n * obtained from this transformation.\n * @method mergeMap\n * @owner Observable\n */\nexport function mergeMap<T, I, R>(\n  project: (value: T, index: number) => ObservableInput<I>,\n  resultSelector?: ((outerValue: T, innerValue: I, outerIndex: number, innerIndex: number) => R) | number,\n  concurrent: number = Number.POSITIVE_INFINITY\n): OperatorFunction<T, I|R> {\n  if (typeof resultSelector === 'function') {\n    // DEPRECATED PATH\n    return (source: Observable<T>) => source.pipe(\n      mergeMap((a, i) => from(project(a, i)).pipe(\n        map((b, ii) => resultSelector(a, b, i, ii)),\n      ), concurrent)\n    );\n  } else if (typeof resultSelector === 'number') {\n    concurrent = resultSelector;\n  }\n  return (source: Observable<T>) => source.lift(new MergeMapOperator(project, concurrent));\n}\n\nexport class MergeMapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => ObservableInput<R>,\n              private concurrent: number = Number.POSITIVE_INFINITY) {\n  }\n\n  call(observer: Subscriber<R>, source: any): any {\n    return source.subscribe(new MergeMapSubscriber(\n      observer, this.project, this.concurrent\n    ));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class MergeMapSubscriber<T, R> extends OuterSubscriber<T, R> {\n  private hasCompleted: boolean = false;\n  private buffer: T[] = [];\n  private active: number = 0;\n  protected index: number = 0;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => ObservableInput<R>,\n              private concurrent: number = Number.POSITIVE_INFINITY) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    if (this.active < this.concurrent) {\n      this._tryNext(value);\n    } else {\n      this.buffer.push(value);\n    }\n  }\n\n  protected _tryNext(value: T) {\n    let result: ObservableInput<R>;\n    const index = this.index++;\n    try {\n      result = this.project(value, index);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.active++;\n    this._innerSub(result, value, index);\n  }\n\n  private _innerSub(ish: ObservableInput<R>, value: T, index: number): void {\n    const innerSubscriber = new InnerSubscriber(this, undefined, undefined);\n    const destination = this.destination as Subscription;\n    destination.add(innerSubscriber);\n    subscribeToResult<T, R>(this, ish, value, index, innerSubscriber);\n  }\n\n  protected _complete(): void {\n    this.hasCompleted = true;\n    if (this.active === 0 && this.buffer.length === 0) {\n      this.destination.complete();\n    }\n    this.unsubscribe();\n  }\n\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.destination.next(innerValue);\n  }\n\n  notifyComplete(innerSub: Subscription): void {\n    const buffer = this.buffer;\n    this.remove(innerSub);\n    this.active--;\n    if (buffer.length > 0) {\n      this._next(buffer.shift());\n    } else if (this.active === 0 && this.hasCompleted) {\n      this.destination.complete();\n    }\n  }\n}\n","\nimport { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nimport { MonoTypeOperatorFunction, OperatorFunction, ObservableInput } from '../types';\n\nexport function mergeAll<T>(concurrent?: number): OperatorFunction<ObservableInput<T>, T>;\n\n/**\n * Converts a higher-order Observable into a first-order Observable which\n * concurrently delivers all values that are emitted on the inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * ![](mergeAll.png)\n *\n * `mergeAll` subscribes to an Observable that emits Observables, also known as\n * a higher-order Observable. Each time it observes one of these emitted inner\n * Observables, it subscribes to that and delivers all the values from the\n * inner Observable on the output Observable. The output Observable only\n * completes once all inner Observables have completed. Any error delivered by\n * a inner Observable will be immediately emitted on the output Observable.\n *\n * ## Examples\n * Spawn a new interval Observable for each click event, and blend their outputs as one Observable\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(map((ev) => interval(1000)));\n * const firstOrder = higherOrder.pipe(mergeAll());\n * firstOrder.subscribe(x => console.log(x));\n * ```\n *\n * Count from 0 to 9 every second for each click, but only allow 2 concurrent timers\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(\n *   map((ev) => interval(1000).pipe(take(10))),\n * );\n * const firstOrder = higherOrder.pipe(mergeAll(2));\n * firstOrder.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link merge}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchAll}\n * @see {@link switchMap}\n * @see {@link zipAll}\n *\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits values coming from all the\n * inner Observables emitted by the source Observable.\n * @method mergeAll\n * @owner Observable\n */\nexport function mergeAll<T>(concurrent: number = Number.POSITIVE_INFINITY): MonoTypeOperatorFunction<T> {\n  return mergeMap<T, T>(identity as (value: T, index: number) => ObservableInput<T>, concurrent);\n}\n","\nimport { mergeAll } from './mergeAll';\nimport { OperatorFunction, ObservableInput } from '../types';\n\nexport function concatAll<T>(): OperatorFunction<ObservableInput<T>, T>;\nexport function concatAll<R>(): OperatorFunction<any, R>;\n\n/**\n * Converts a higher-order Observable into a first-order Observable by\n * concatenating the inner Observables in order.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by putting one\n * inner Observable after the other.</span>\n *\n * ![](concatAll.png)\n *\n * Joins every Observable emitted by the source (a higher-order Observable), in\n * a serial fashion. It subscribes to each inner Observable only after the\n * previous inner Observable has completed, and merges all of their values into\n * the returned observable.\n *\n * __Warning:__ If the source Observable emits Observables quickly and\n * endlessly, and the inner Observables it emits generally complete slower than\n * the source emits, you can run into memory issues as the incoming Observables\n * collect in an unbounded buffer.\n *\n * Note: `concatAll` is equivalent to `mergeAll` with concurrency parameter set\n * to `1`.\n *\n * ## Example\n *\n * For each click event, tick every second from 0 to 3, with no concurrency\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const higherOrder = clicks.pipe(\n *   map(ev => interval(1000).pipe(take(4))),\n * );\n * const firstOrder = higherOrder.pipe(concatAll());\n * firstOrder.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n * ```\n *\n * @see {@link combineAll}\n * @see {@link concat}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n * @see {@link exhaust}\n * @see {@link mergeAll}\n * @see {@link switchAll}\n * @see {@link switchMap}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable emitting values from all the inner\n * Observables concatenated.\n * @method concatAll\n * @owner Observable\n */\nexport function concatAll<T>(): OperatorFunction<ObservableInput<T>, T> {\n  return mergeAll<T>(1);\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput, SchedulerLike } from '../types';\nimport { isScheduler } from '../util/isScheduler';\nimport { of } from './of';\nimport { from } from './from';\nimport { concatAll } from '../operators/concatAll';\n\n/* tslint:disable:max-line-length */\nexport function concat<T>(v1: ObservableInput<T>, scheduler?: SchedulerLike): Observable<T>;\nexport function concat<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, scheduler?: SchedulerLike): Observable<T | T2>;\nexport function concat<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler?: SchedulerLike): Observable<T | T2 | T3>;\nexport function concat<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4>;\nexport function concat<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5>;\nexport function concat<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function concat<T>(...observables: (ObservableInput<T> | SchedulerLike)[]): Observable<T>;\nexport function concat<T, R>(...observables: (ObservableInput<any> | SchedulerLike)[]): Observable<R>;\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which sequentially emits all values from given\n * Observable and then moves on to the next.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * ![](concat.png)\n *\n * `concat` joins multiple Observables together, by subscribing to them one at a time and\n * merging their results into the output Observable. You can pass either an array of\n * Observables, or put them directly as arguments. Passing an empty array will result\n * in Observable that completes immediately.\n *\n * `concat` will subscribe to first input Observable and emit all its values, without\n * changing or affecting them in any way. When that Observable completes, it will\n * subscribe to then next Observable passed and, again, emit its values. This will be\n * repeated, until the operator runs out of Observables. When last input Observable completes,\n * `concat` will complete as well. At any given moment only one Observable passed to operator\n * emits values. If you would like to emit values from passed Observables concurrently, check out\n * {@link merge} instead, especially with optional `concurrent` parameter. As a matter of fact,\n * `concat` is an equivalent of `merge` operator with `concurrent` parameter set to `1`.\n *\n * Note that if some input Observable never completes, `concat` will also never complete\n * and Observables following the one that did not complete will never be subscribed. On the other\n * hand, if some Observable simply completes immediately after it is subscribed, it will be\n * invisible for `concat`, which will just move on to the next Observable.\n *\n * If any Observable in chain errors, instead of passing control to the next Observable,\n * `concat` will error immediately as well. Observables that would be subscribed after\n * the one that emitted error, never will.\n *\n * If you pass to `concat` the same Observable many times, its stream of values\n * will be \"replayed\" on every subscription, which means you can repeat given Observable\n * as many times as you like. If passing the same Observable to `concat` 1000 times becomes tedious,\n * you can always use {@link repeat}.\n *\n * ## Examples\n * ### Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10\n * ```javascript\n * const timer = interval(1000).pipe(take(4));\n * const sequence = range(1, 10);\n * const result = concat(timer, sequence);\n * result.subscribe(x => console.log(x));\n *\n * // results in:\n * // 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10\n * ```\n *\n * ### Concatenate an array of 3 Observables\n * ```javascript\n * const timer1 = interval(1000).pipe(take(10));\n * const timer2 = interval(2000).pipe(take(6));\n * const timer3 = interval(500).pipe(take(10));\n * const result = concat([timer1, timer2, timer3]); // note that array is passed\n * result.subscribe(x => console.log(x));\n *\n * // results in the following:\n * // (Prints to console sequentially)\n * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9\n * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5\n * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9\n * ```\n *\n * ### Concatenate the same Observable to repeat it\n * ```javascript\n * const timer = interval(1000).pipe(take(2));\n * *\n * concat(timer, timer) // concatenating the same Observable!\n * .subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('...and it is done!')\n * );\n *\n * // Logs:\n * // 0 after 1s\n * // 1 after 2s\n * // 0 after 3s\n * // 1 after 4s\n * // \"...and it is done!\" also after 4s\n * ```\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {ObservableInput} input1 An input Observable to concatenate with others.\n * @param {ObservableInput} input2 An input Observable to concatenate with others.\n * More than one input Observables may be given as argument.\n * @param {SchedulerLike} [scheduler=null] An optional {@link SchedulerLike} to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @static true\n * @name concat\n * @owner Observable\n */\nexport function concat<T, R>(...observables: Array<ObservableInput<any> | SchedulerLike>): Observable<R> {\n  if (observables.length === 1 || (observables.length === 2 && isScheduler(observables[1]))) {\n    return from(<any>observables[0]);\n  }\n  return concatAll<R>()(of(...observables));\n}\n","import { Observable } from '../Observable';\nimport { SubscribableOrPromise } from '../types';\nimport { from } from './from'; // lol\nimport { empty } from './empty';\n\n/**\n * Creates an Observable that, on subscribe, calls an Observable factory to\n * make an Observable for each new Observer.\n *\n * <span class=\"informal\">Creates the Observable lazily, that is, only when it\n * is subscribed.\n * </span>\n *\n * ![](defer.png)\n *\n * `defer` allows you to create the Observable only when the Observer\n * subscribes, and create a fresh Observable for each Observer. It waits until\n * an Observer subscribes to it, and then it generates an Observable,\n * typically with an Observable factory function. It does this afresh for each\n * subscriber, so although each subscriber may think it is subscribing to the\n * same Observable, in fact each subscriber gets its own individual\n * Observable.\n *\n * ## Example\n * ### Subscribe to either an Observable of clicks or an Observable of interval, at random\n * ```javascript\n * const clicksOrInterval = defer(function () {\n *   return Math.random() > 0.5\n *     ? fromEvent(document, 'click')\n *     : interval(1000);\n * });\n * clicksOrInterval.subscribe(x => console.log(x));\n *\n * // Results in the following behavior:\n * // If the result of Math.random() is greater than 0.5 it will listen\n * // for clicks anywhere on the \"document\"; when document is clicked it\n * // will log a MouseEvent object to the console. If the result is less\n * // than 0.5 it will emit ascending numbers, one every second(1000ms).\n * ```\n *\n * @see {@link Observable}\n *\n * @param {function(): SubscribableOrPromise} observableFactory The Observable\n * factory function to invoke for each Observer that subscribes to the output\n * Observable. May also return a Promise, which will be converted on the fly\n * to an Observable.\n * @return {Observable} An Observable whose Observers' subscriptions trigger\n * an invocation of the given Observable factory function.\n * @static true\n * @name defer\n * @owner Observable\n */\nexport function defer<T>(observableFactory: () => SubscribableOrPromise<T> | void): Observable<T> {\n  return new Observable(subscriber => {\n    let input: SubscribableOrPromise<T> | void;\n    try {\n      input = observableFactory();\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n    const source = input ? from(input) : empty();\n    return source.subscribe(subscriber);\n  });\n}","import { Observable } from '../Observable';\nimport { ObservableInput } from '../types';\nimport { isArray } from '../util/isArray';\nimport { EMPTY } from './empty';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { Subscriber } from '../Subscriber';\nimport { map } from '../operators/map';\n\n/* tslint:disable:max-line-length */\n// forkJoin([a$, b$, c$]);\nexport function forkJoin<T>(sources: [ObservableInput<T>]): Observable<T[]>;\nexport function forkJoin<T, T2>(sources: [ObservableInput<T>, ObservableInput<T2>]): Observable<[T, T2]>;\nexport function forkJoin<T, T2, T3>(sources: [ObservableInput<T>, ObservableInput<T2>, ObservableInput<T3>]): Observable<[T, T2, T3]>;\nexport function forkJoin<T, T2, T3, T4>(sources: [ObservableInput<T>, ObservableInput<T2>, ObservableInput<T3>, ObservableInput<T4>]): Observable<[T, T2, T3, T4]>;\nexport function forkJoin<T, T2, T3, T4, T5>(sources: [ObservableInput<T>, ObservableInput<T2>, ObservableInput<T3>, ObservableInput<T4>, ObservableInput<T5>]): Observable<[T, T2, T3, T4, T5]>;\nexport function forkJoin<T, T2, T3, T4, T5, T6>(sources: [ObservableInput<T>, ObservableInput<T2>, ObservableInput<T3>, ObservableInput<T4>, ObservableInput<T5>, ObservableInput<T6>]): Observable<[T, T2, T3, T4, T5, T6]>;\nexport function forkJoin<T>(sources: Array<ObservableInput<T>>): Observable<T[]>;\n\n// forkJoin(a$, b$, c$)\nexport function forkJoin<T>(v1: ObservableInput<T>): Observable<T[]>;\nexport function forkJoin<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>): Observable<[T, T2]>;\nexport function forkJoin<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>): Observable<[T, T2, T3]>;\nexport function forkJoin<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): Observable<[T, T2, T3, T4]>;\nexport function forkJoin<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): Observable<[T, T2, T3, T4, T5]>;\nexport function forkJoin<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): Observable<[T, T2, T3, T4, T5, T6]>;\n\n/** @deprecated resultSelector is deprecated, pipe to map instead */\nexport function forkJoin(...args: Array<ObservableInput<any>|Function>): Observable<any>;\nexport function forkJoin<T>(...sources: ObservableInput<T>[]): Observable<T[]>;\n/* tslint:enable:max-line-length */\n\n/**\n * Joins last values emitted by passed Observables.\n *\n * <span class=\"informal\">Wait for Observables to complete and then combine last values they emitted.</span>\n *\n * ![](forkJoin.png)\n *\n * `forkJoin` is an operator that takes any number of Observables which can be passed either as an array\n * or directly as arguments. If no input Observables are provided, resulting stream will complete\n * immediately.\n *\n * `forkJoin` will wait for all passed Observables to complete and then it will emit an array with last\n * values from corresponding Observables. So if you pass `n` Observables to the operator, resulting\n * array will have `n` values, where first value is the last thing emitted by the first Observable,\n * second value is the last thing emitted by the second Observable and so on. That means `forkJoin` will\n * not emit more than once and it will complete after that. If you need to emit combined values not only\n * at the end of lifecycle of passed Observables, but also throughout it, try out {@link combineLatest}\n * or {@link zip} instead.\n *\n * In order for resulting array to have the same length as the number of input Observables, whenever any of\n * that Observables completes without emitting any value, `forkJoin` will complete at that moment as well\n * and it will not emit anything either, even if it already has some last values from other Observables.\n * Conversely, if there is an Observable that never completes, `forkJoin` will never complete as well,\n * unless at any point some other Observable completes without emitting value, which brings us back to\n * the previous case. Overall, in order for `forkJoin` to emit a value, all Observables passed as arguments\n * have to emit something at least once and complete.\n *\n * If any input Observable errors at some point, `forkJoin` will error as well and all other Observables\n * will be immediately unsubscribed.\n *\n * Optionally `forkJoin` accepts project function, that will be called with values which normally\n * would land in emitted array. Whatever is returned by project function, will appear in output\n * Observable instead. This means that default project can be thought of as a function that takes\n * all its arguments and puts them into an array. Note that project function will be called only\n * when output Observable is supposed to emit a result.\n *\n * ## Examples\n * ### Use forkJoin with operator emitting immediately\n * ```javascript\n * import { forkJoin, of } from 'rxjs';\n *\n * const observable = forkJoin(\n *   of(1, 2, 3, 4),\n *   of(5, 6, 7, 8),\n * );\n * observable.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('This is how it ends!'),\n * );\n *\n * // Logs:\n * // [4, 8]\n * // \"This is how it ends!\"\n * ```\n *\n * ### Use forkJoin with operator emitting after some time\n * ```javascript\n * import { forkJoin, interval } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * const observable = forkJoin(\n *   interval(1000).pipe(take(3)), // emit 0, 1, 2 every second and complete\n *   interval(500).pipe(take(4)),  // emit 0, 1, 2, 3 every half a second and complete\n * );\n * observable.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('This is how it ends!'),\n * );\n *\n * // Logs:\n * // [2, 3] after 3 seconds\n * // \"This is how it ends!\" immediately after\n * ```\n *\n * ### Use forkJoin with project function\n * ```javascript\n * import { forkJoin, interval } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * const observable = forkJoin(\n *   interval(1000).pipe(take(3)), // emit 0, 1, 2 every second and complete\n *   interval(500).pipe(take(4)),  // emit 0, 1, 2, 3 every half a second and complete\n * ).pipe(\n *   map(([n, m]) => n + m),\n * );\n * observable.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('This is how it ends!'),\n * );\n *\n * // Logs:\n * // 5 after 3 seconds\n * // \"This is how it ends!\" immediately after\n * ```\n *\n * @see {@link combineLatest}\n * @see {@link zip}\n *\n * @param {...ObservableInput} sources Any number of Observables provided either as an array or as an arguments\n * passed directly to the operator.\n * @param {function} [project] Function that takes values emitted by input Observables and returns value\n * that will appear in resulting Observable instead of default array.\n * @return {Observable} Observable emitting either an array of last values emitted by passed Observables\n * or value from project function.\n */\nexport function forkJoin<T>(\n  ...sources: Array<ObservableInput<T> | ObservableInput<T>[] | Function>\n): Observable<T[]> {\n\n  let resultSelector: Function;\n  if (typeof sources[sources.length - 1] === 'function') {\n    // DEPRECATED PATH\n    resultSelector = sources.pop() as Function;\n  }\n\n  // if the first and only other argument is an array\n  // assume it's been called with `forkJoin([obs1, obs2, obs3])`\n  if (sources.length === 1 && isArray(sources[0])) {\n    sources = sources[0] as Array<ObservableInput<T>>;\n  }\n\n  if (sources.length === 0) {\n    return EMPTY;\n  }\n\n  if (resultSelector) {\n    // DEPRECATED PATH\n    return forkJoin(sources).pipe(\n      map(args => resultSelector(...args))\n    );\n  }\n\n  return new Observable(subscriber => {\n    return new ForkJoinSubscriber(subscriber, sources as Array<ObservableInput<T>>);\n  });\n}\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass ForkJoinSubscriber<T, R> extends OuterSubscriber<T, T> {\n  private completed = 0;\n  private values: T[];\n  private haveValues = 0;\n\n  constructor(destination: Subscriber<R>,\n              private sources: Array<ObservableInput<T>>) {\n    super(destination);\n\n    const len = sources.length;\n    this.values = new Array(len);\n\n    for (let i = 0; i < len; i++) {\n      const source = sources[i];\n      const innerSubscription = subscribeToResult(this, source, null, i);\n\n      if (innerSubscription) {\n        this.add(innerSubscription);\n      }\n    }\n  }\n\n  notifyNext(outerValue: any, innerValue: T,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, T>): void {\n    this.values[outerIndex] = innerValue;\n    if (!(innerSub as any)._hasValue) {\n      (innerSub as any)._hasValue = true;\n      this.haveValues++;\n    }\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, T>): void {\n    const { destination, haveValues, values } = this;\n    const len = values.length;\n\n    if (!(innerSub as any)._hasValue) {\n      destination.complete();\n      return;\n    }\n\n    this.completed++;\n\n    if (this.completed !== len) {\n      return;\n    }\n\n    if (haveValues === len) {\n      destination.next(values);\n    }\n\n    destination.complete();\n  }\n}\n","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { isFunction } from '../util/isFunction';\nimport { Subscriber } from '../Subscriber';\nimport { map } from '../operators/map';\n\nconst toString: Function = Object.prototype.toString;\n\nexport interface NodeStyleEventEmitter {\n  addListener: (eventName: string | symbol, handler: NodeEventHandler) => this;\n  removeListener: (eventName: string | symbol, handler: NodeEventHandler) => this;\n}\n\nexport type NodeEventHandler = (...args: any[]) => void;\n\n// For APIs that implement `addListener` and `removeListener` methods that may\n// not use the same arguments or return EventEmitter values\n// such as React Native\nexport interface NodeCompatibleEventEmitter {\n  addListener: (eventName: string, handler: NodeEventHandler) => void | {};\n  removeListener: (eventName: string, handler: NodeEventHandler) => void | {};\n}\n\nexport interface JQueryStyleEventEmitter {\n  on: (eventName: string, handler: Function) => void;\n  off: (eventName: string, handler: Function) => void;\n}\n\nexport interface HasEventTargetAddRemove<E> {\n  addEventListener(type: string, listener: ((evt: E) => void) | null, options?: boolean | AddEventListenerOptions): void;\n  removeEventListener(type: string, listener?: ((evt: E) => void) | null, options?: EventListenerOptions | boolean): void;\n}\n\nexport type EventTargetLike<T> = HasEventTargetAddRemove<T> | NodeStyleEventEmitter | NodeCompatibleEventEmitter | JQueryStyleEventEmitter;\n\nexport type FromEventTarget<T> = EventTargetLike<T> | ArrayLike<EventTargetLike<T>>;\n\nexport interface EventListenerOptions {\n  capture?: boolean;\n  passive?: boolean;\n  once?: boolean;\n}\n\nexport interface AddEventListenerOptions extends EventListenerOptions {\n  once?: boolean;\n  passive?: boolean;\n}\n\n/* tslint:disable:max-line-length */\nexport function fromEvent<T>(target: FromEventTarget<T>, eventName: string): Observable<T>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function fromEvent<T>(target: FromEventTarget<T>, eventName: string, resultSelector: (...args: any[]) => T): Observable<T>;\nexport function fromEvent<T>(target: FromEventTarget<T>, eventName: string, options: EventListenerOptions): Observable<T>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function fromEvent<T>(target: FromEventTarget<T>, eventName: string, options: EventListenerOptions, resultSelector: (...args: any[]) => T): Observable<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Creates an Observable that emits events of a specific type coming from the\n * given event target.\n *\n * <span class=\"informal\">Creates an Observable from DOM events, or Node.js\n * EventEmitter events or others.</span>\n *\n * ![](fromEvent.png)\n *\n * `fromEvent` accepts as a first argument event target, which is an object with methods\n * for registering event handler functions. As a second argument it takes string that indicates\n * type of event we want to listen for. `fromEvent` supports selected types of event targets,\n * which are described in detail below. If your event target does not match any of the ones listed,\n * you should use {@link fromEventPattern}, which can be used on arbitrary APIs.\n * When it comes to APIs supported by `fromEvent`, their methods for adding and removing event\n * handler functions have different names, but they all accept a string describing event type\n * and function itself, which will be called whenever said event happens.\n *\n * Every time resulting Observable is subscribed, event handler function will be registered\n * to event target on given event type. When that event fires, value\n * passed as a first argument to registered function will be emitted by output Observable.\n * When Observable is unsubscribed, function will be unregistered from event target.\n *\n * Note that if event target calls registered function with more than one argument, second\n * and following arguments will not appear in resulting stream. In order to get access to them,\n * you can pass to `fromEvent` optional project function, which will be called with all arguments\n * passed to event handler. Output Observable will then emit value returned by project function,\n * instead of the usual value.\n *\n * Remember that event targets listed below are checked via duck typing. It means that\n * no matter what kind of object you have and no matter what environment you work in,\n * you can safely use `fromEvent` on that object if it exposes described methods (provided\n * of course they behave as was described above). So for example if Node.js library exposes\n * event target which has the same method names as DOM EventTarget, `fromEvent` is still\n * a good choice.\n *\n * If the API you use is more callback then event handler oriented (subscribed\n * callback function fires only once and thus there is no need to manually\n * unregister it), you should use {@link bindCallback} or {@link bindNodeCallback}\n * instead.\n *\n * `fromEvent` supports following types of event targets:\n *\n * **DOM EventTarget**\n *\n * This is an object with `addEventListener` and `removeEventListener` methods.\n *\n * In the browser, `addEventListener` accepts - apart from event type string and event\n * handler function arguments - optional third parameter, which is either an object or boolean,\n * both used for additional configuration how and when passed function will be called. When\n * `fromEvent` is used with event target of that type, you can provide this values\n * as third parameter as well.\n *\n * **Node.js EventEmitter**\n *\n * An object with `addListener` and `removeListener` methods.\n *\n * **JQuery-style event target**\n *\n * An object with `on` and `off` methods\n *\n * **DOM NodeList**\n *\n * List of DOM Nodes, returned for example by `document.querySelectorAll` or `Node.childNodes`.\n *\n * Although this collection is not event target in itself, `fromEvent` will iterate over all Nodes\n * it contains and install event handler function in every of them. When returned Observable\n * is unsubscribed, function will be removed from all Nodes.\n *\n * **DOM HtmlCollection**\n *\n * Just as in case of NodeList it is a collection of DOM nodes. Here as well event handler function is\n * installed and removed in each of elements.\n *\n *\n * ## Examples\n * ### Emits clicks happening on the DOM document\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * clicks.subscribe(x => console.log(x));\n *\n * // Results in:\n * // MouseEvent object logged to console every time a click\n * // occurs on the document.\n * ```\n *\n * ### Use addEventListener with capture option\n * ```javascript\n * const clicksInDocument = fromEvent(document, 'click', true); // note optional configuration parameter\n *                                                              // which will be passed to addEventListener\n * const clicksInDiv = fromEvent(someDivInDocument, 'click');\n *\n * clicksInDocument.subscribe(() => console.log('document'));\n * clicksInDiv.subscribe(() => console.log('div'));\n *\n * // By default events bubble UP in DOM tree, so normally\n * // when we would click on div in document\n * // \"div\" would be logged first and then \"document\".\n * // Since we specified optional `capture` option, document\n * // will catch event when it goes DOWN DOM tree, so console\n * // will log \"document\" and then \"div\".\n * ```\n *\n * @see {@link bindCallback}\n * @see {@link bindNodeCallback}\n * @see {@link fromEventPattern}\n *\n * @param {FromEventTarget<T>} target The DOM EventTarget, Node.js\n * EventEmitter, JQuery-like event target, NodeList or HTMLCollection to attach the event handler to.\n * @param {string} eventName The event name of interest, being emitted by the\n * `target`.\n * @param {EventListenerOptions} [options] Options to pass through to addEventListener\n * @return {Observable<T>}\n * @name fromEvent\n */\nexport function fromEvent<T>(\n  target: FromEventTarget<T>,\n  eventName: string,\n  options?: EventListenerOptions | ((...args: any[]) => T),\n  resultSelector?: ((...args: any[]) => T)\n): Observable<T> {\n\n  if (isFunction(options)) {\n    // DEPRECATED PATH\n    resultSelector = options;\n    options = undefined;\n  }\n  if (resultSelector) {\n    // DEPRECATED PATH\n    return fromEvent<T>(target, eventName, <EventListenerOptions | undefined>options).pipe(\n      map(args => isArray(args) ? resultSelector(...args) : resultSelector(args))\n    );\n  }\n\n  return new Observable<T>(subscriber => {\n    function handler(e: T) {\n      if (arguments.length > 1) {\n        subscriber.next(Array.prototype.slice.call(arguments));\n      } else {\n        subscriber.next(e);\n      }\n    }\n    setupSubscription(target, eventName, handler, subscriber, options as EventListenerOptions);\n  });\n}\n\nfunction setupSubscription<T>(sourceObj: FromEventTarget<T>, eventName: string,\n                              handler: (...args: any[]) => void, subscriber: Subscriber<T>,\n                              options?: EventListenerOptions) {\n  let unsubscribe: () => void;\n  if (isEventTarget(sourceObj)) {\n    const source = sourceObj;\n    sourceObj.addEventListener(eventName, handler, options);\n    unsubscribe = () => source.removeEventListener(eventName, handler, options);\n  } else if (isJQueryStyleEventEmitter(sourceObj)) {\n    const source = sourceObj;\n    sourceObj.on(eventName, handler);\n    unsubscribe = () => source.off(eventName, handler);\n  } else if (isNodeStyleEventEmitter(sourceObj)) {\n    const source = sourceObj;\n    sourceObj.addListener(eventName, handler as NodeEventHandler);\n    unsubscribe = () => source.removeListener(eventName, handler as NodeEventHandler);\n  } else if (sourceObj && (sourceObj as any).length) {\n    for (let i = 0, len = (sourceObj as any).length; i < len; i++) {\n      setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n    }\n  } else {\n    throw new TypeError('Invalid event target');\n  }\n\n  subscriber.add(unsubscribe);\n}\n\nfunction isNodeStyleEventEmitter(sourceObj: any): sourceObj is NodeStyleEventEmitter {\n  return sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n}\n\nfunction isJQueryStyleEventEmitter(sourceObj: any): sourceObj is JQueryStyleEventEmitter {\n  return sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n}\n\nfunction isEventTarget(sourceObj: any): sourceObj is HasEventTargetAddRemove<any> {\n  return sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n}\n","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { isFunction } from '../util/isFunction';\nimport { fromEvent } from './fromEvent';\nimport { map } from '../operators/map';\n\n/* tslint:disable:max-line-length */\nexport function fromEventPattern<T>(addHandler: (handler: Function) => any, removeHandler?: (handler: Function, signal?: any) => void): Observable<T>;\n/** @deprecated resultSelector no longer supported, pipe to map instead */\nexport function fromEventPattern<T>(addHandler: (handler: Function) => any, removeHandler?: (handler: Function, signal?: any) => void, resultSelector?: (...args: any[]) => T): Observable<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Creates an Observable from an arbitrary API for registering event handlers.\n *\n * <span class=\"informal\">When that method for adding event handler was something {@link fromEvent}\n * was not prepared for.</span>\n *\n * ![](fromEventPattern.png)\n *\n * `fromEventPattern` allows you to convert into an Observable any API that supports registering handler functions\n * for events. It is similar to {@link fromEvent}, but far\n * more flexible. In fact, all use cases of {@link fromEvent} could be easily handled by\n * `fromEventPattern` (although in slightly more verbose way).\n *\n * This operator accepts as a first argument an `addHandler` function, which will be injected with\n * handler parameter. That handler is actually an event handler function that you now can pass\n * to API expecting it. `addHandler` will be called whenever Observable\n * returned by the operator is subscribed, so registering handler in API will not\n * necessarily happen when `fromEventPattern` is called.\n *\n * After registration, every time an event that we listen to happens,\n * Observable returned by `fromEventPattern` will emit value that event handler\n * function was called with. Note that if event handler was called with more\n * then one argument, second and following arguments will not appear in the Observable.\n *\n * If API you are using allows to unregister event handlers as well, you can pass to `fromEventPattern`\n * another function - `removeHandler` - as a second parameter. It will be injected\n * with the same handler function as before, which now you can use to unregister\n * it from the API. `removeHandler` will be called when consumer of resulting Observable\n * unsubscribes from it.\n *\n * In some APIs unregistering is actually handled differently. Method registering an event handler\n * returns some kind of token, which is later used to identify which function should\n * be unregistered or it itself has method that unregisters event handler.\n * If that is the case with your API, make sure token returned\n * by registering method is returned by `addHandler`. Then it will be passed\n * as a second argument to `removeHandler`, where you will be able to use it.\n *\n * If you need access to all event handler parameters (not only the first one),\n * or you need to transform them in any way, you can call `fromEventPattern` with optional\n * third parameter - project function which will accept all arguments passed to\n * event handler when it is called. Whatever is returned from project function will appear on\n * resulting stream instead of usual event handlers first argument. This means\n * that default project can be thought of as function that takes its first parameter\n * and ignores the rest.\n *\n * ## Example\n * ### Emits clicks happening on the DOM document\n *\n * ```javascript\n * function addClickHandler(handler) {\n *   document.addEventListener('click', handler);\n * }\n *\n * function removeClickHandler(handler) {\n *   document.removeEventListener('click', handler);\n * }\n *\n * const clicks = fromEventPattern(\n *   addClickHandler,\n *   removeClickHandler\n * );\n * clicks.subscribe(x => console.log(x));\n *\n * // Whenever you click anywhere in the browser, DOM MouseEvent\n * // object will be logged.\n * ```\n *\n * ## Example\n * ### Use with API that returns cancellation token\n *\n * ```javascript\n * const token = someAPI.registerEventHandler(function() {});\n * someAPI.unregisterEventHandler(token); // this APIs cancellation method accepts\n *                                        // not handler itself, but special token.\n *\n * const someAPIObservable = fromEventPattern(\n *   function(handler) { return someAPI.registerEventHandler(handler); }, // Note that we return the token here...\n *   function(handler, token) { someAPI.unregisterEventHandler(token); }  // ...to then use it here.\n * );\n * ```\n *\n * ## Example\n * ### Use with project function\n *\n * ```javascript\n * someAPI.registerEventHandler((eventType, eventMessage) => {\n *   console.log(eventType, eventMessage); // Logs \"EVENT_TYPE\" \"EVENT_MESSAGE\" to console.\n * });\n *\n * const someAPIObservable = fromEventPattern(\n *   handler => someAPI.registerEventHandler(handler),\n *   handler => someAPI.unregisterEventHandler(handler)\n *   (eventType, eventMessage) => eventType + \" --- \" + eventMessage // without that function only \"EVENT_TYPE\"\n * );                                                                // would be emitted by the Observable\n *\n * someAPIObservable.subscribe(value => console.log(value));\n *\n * // Logs:\n * // \"EVENT_TYPE --- EVENT_MESSAGE\"\n * ```\n *\n * @see {@link fromEvent}\n * @see {@link bindCallback}\n * @see {@link bindNodeCallback}\n *\n * @param {function(handler: Function): any} addHandler A function that takes\n * a `handler` function as argument and attaches it somehow to the actual\n * source of events.\n * @param {function(handler: Function, token?: any): void} [removeHandler] A function that\n * takes a `handler` function as an argument and removes it from the event source. If `addHandler`\n * returns some kind of token, `removeHandler` function will have it as a second parameter.\n * @param {function(...args: any): T} [project] A function to\n * transform results. It takes the arguments from the event handler and\n * should return a single value.\n * @return {Observable<T>} Observable which, when an event happens, emits first parameter\n * passed to registered event handler. Alternatively it emits whatever project function returns\n * at that moment.\n * @static true\n * @name fromEventPattern\n * @owner Observable\n */\n\nexport function fromEventPattern<T>(addHandler: (handler: Function) => any,\n                                    removeHandler?: (handler: Function, signal?: any) => void,\n                                    resultSelector?: (...args: any[]) => T): Observable<T | T[]> {\n\n  if (resultSelector) {\n    // DEPRECATED PATH\n    return fromEventPattern<T>(addHandler, removeHandler).pipe(\n      map(args => isArray(args) ? resultSelector(...args) : resultSelector(args))\n    );\n  }\n\n  return new Observable<T | T[]>(subscriber => {\n    const handler = (...e: T[]) => subscriber.next(e.length === 1 ? e[0] : e);\n\n    let retValue: any;\n    try {\n      retValue = addHandler(handler);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n\n    if (!isFunction(removeHandler)) {\n      return undefined;\n    }\n\n    return () => removeHandler(handler, retValue) ;\n  });\n}\n","import { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { identity } from '../util/identity';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { isScheduler } from '../util/isScheduler';\n\nexport type ConditionFunc<S> = (state: S) => boolean;\nexport type IterateFunc<S> = (state: S) => S;\nexport type ResultFunc<S, T> = (state: S) => T;\n\ninterface SchedulerState<T, S> {\n  needIterate?: boolean;\n  state: S;\n  subscriber: Subscriber<T>;\n  condition?: ConditionFunc<S>;\n  iterate: IterateFunc<S>;\n  resultSelector: ResultFunc<S, T>;\n}\n\nexport interface GenerateBaseOptions<S> {\n  /**\n   * Initial state.\n   */\n  initialState: S;\n  /**\n   * Condition function that accepts state and returns boolean.\n   * When it returns false, the generator stops.\n   * If not specified, a generator never stops.\n   */\n  condition?: ConditionFunc<S>;\n  /**\n   * Iterate function that accepts state and returns new state.\n   */\n  iterate: IterateFunc<S>;\n  /**\n   * SchedulerLike to use for generation process.\n   * By default, a generator starts immediately.\n   */\n  scheduler?: SchedulerLike;\n}\n\nexport interface GenerateOptions<T, S> extends GenerateBaseOptions<S> {\n  /**\n   * Result selection function that accepts state and returns a value to emit.\n   */\n  resultSelector: ResultFunc<S, T>;\n}\n\n/**\n * Generates an observable sequence by running a state-driven loop\n * producing the sequence's elements, using the specified scheduler\n * to send out observer messages.\n *\n * ![](generate.png)\n *\n * @example <caption>Produces sequence of 0, 1, 2, ... 9, then completes.</caption>\n * const res = generate(0, x => x < 10, x => x + 1, x => x);\n *\n * @example <caption>Using asap scheduler, produces sequence of 2, 3, 5, then completes.</caption>\n * const res = generate(1, x => x < 5, x =>  * 2, x => x + 1, asap);\n *\n * @see {@link from}\n * @see {@link Observable}\n *\n * @param {S} initialState Initial state.\n * @param {function (state: S): boolean} condition Condition to terminate generation (upon returning false).\n * @param {function (state: S): S} iterate Iteration step function.\n * @param {function (state: S): T} resultSelector Selector function for results produced in the sequence. (deprecated)\n * @param {SchedulerLike} [scheduler] A {@link SchedulerLike} on which to run the generator loop. If not provided, defaults to emit immediately.\n * @returns {Observable<T>} The generated sequence.\n */\n  export function generate<T, S>(initialState: S,\n                                 condition: ConditionFunc<S>,\n                                 iterate: IterateFunc<S>,\n                                 resultSelector: ResultFunc<S, T>,\n                                 scheduler?: SchedulerLike): Observable<T>;\n\n/**\n * Generates an Observable by running a state-driven loop\n * that emits an element on each iteration.\n *\n * <span class=\"informal\">Use it instead of nexting values in a for loop.</span>\n *\n * <img src=\"./img/generate.png\" width=\"100%\">\n *\n * `generate` allows you to create stream of values generated with a loop very similar to\n * traditional for loop. First argument of `generate` is a beginning value. Second argument\n * is a function that accepts this value and tests if some condition still holds. If it does,\n * loop continues, if not, it stops. Third value is a function which takes previously defined\n * value and modifies it in some way on each iteration. Note how these three parameters\n * are direct equivalents of three expressions in regular for loop: first expression\n * initializes some state (for example numeric index), second tests if loop can make next\n * iteration (for example if index is lower than 10) and third states how defined value\n * will be modified on every step (index will be incremented by one).\n *\n * Return value of a `generate` operator is an Observable that on each loop iteration\n * emits a value. First, condition function is ran. If it returned true, Observable\n * emits currently stored value (initial value at the first iteration) and then updates\n * that value with iterate function. If at some point condition returned false, Observable\n * completes at that moment.\n *\n * Optionally you can pass fourth parameter to `generate` - a result selector function which allows you\n * to immediately map value that would normally be emitted by an Observable.\n *\n * If you find three anonymous functions in `generate` call hard to read, you can provide\n * single object to the operator instead. That object has properties: `initialState`,\n * `condition`, `iterate` and `resultSelector`, which should have respective values that you\n * would normally pass to `generate`. `resultSelector` is still optional, but that form\n * of calling `generate` allows you to omit `condition` as well. If you omit it, that means\n * condition always holds, so output Observable will never complete.\n *\n * Both forms of `generate` can optionally accept a scheduler. In case of multi-parameter call,\n * scheduler simply comes as a last argument (no matter if there is resultSelector\n * function or not). In case of single-parameter call, you can provide it as a\n * `scheduler` property on object passed to the operator. In both cases scheduler decides when\n * next iteration of the loop will happen and therefore when next value will be emitted\n * by the Observable. For example to ensure that each value is pushed to the observer\n * on separate task in event loop, you could use `async` scheduler. Note that\n * by default (when no scheduler is passed) values are simply emitted synchronously.\n *\n *\n * @example <caption>Use with condition and iterate functions.</caption>\n * const generated = generate(0, x => x < 3, x => x + 1);\n *\n * generated.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('Yo!')\n * );\n *\n * // Logs:\n * // 0\n * // 1\n * // 2\n * // \"Yo!\"\n *\n *\n * @example <caption>Use with condition, iterate and resultSelector functions.</caption>\n * const generated = generate(0, x => x < 3, x => x + 1, x => x * 1000);\n *\n * generated.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('Yo!')\n * );\n *\n * // Logs:\n * // 0\n * // 1000\n * // 2000\n * // \"Yo!\"\n *\n *\n * @example <caption>Use with options object.</caption>\n * const generated = generate({\n *   initialState: 0,\n *   condition(value) { return value < 3; },\n *   iterate(value) { return value + 1; },\n *   resultSelector(value) { return value * 1000; }\n * });\n *\n * generated.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('Yo!')\n * );\n *\n * // Logs:\n * // 0\n * // 1000\n * // 2000\n * // \"Yo!\"\n *\n * @example <caption>Use options object without condition function.</caption>\n * const generated = generate({\n *   initialState: 0,\n *   iterate(value) { return value + 1; },\n *   resultSelector(value) { return value * 1000; }\n * });\n *\n * generated.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('Yo!') // This will never run.\n * );\n *\n * // Logs:\n * // 0\n * // 1000\n * // 2000\n * // 3000\n * // ...and never stops.\n *\n *\n * @see {@link from}\n * @see {@link create}\n *\n * @param {S} initialState Initial state.\n * @param {function (state: S): boolean} condition Condition to terminate generation (upon returning false).\n * @param {function (state: S): S} iterate Iteration step function.\n * @param {function (state: S): T} [resultSelector] Selector function for results produced in the sequence.\n * @param {Scheduler} [scheduler] A {@link Scheduler} on which to run the generator loop. If not provided, defaults to emitting immediately.\n * @return {Observable<T>} The generated sequence.\n */\nexport function generate<S>(initialState: S,\n                            condition: ConditionFunc<S>,\n                            iterate: IterateFunc<S>,\n                            scheduler?: SchedulerLike): Observable<S>;\n\n/**\n * Generates an observable sequence by running a state-driven loop\n * producing the sequence's elements, using the specified scheduler\n * to send out observer messages.\n * The overload accepts options object that might contain initial state, iterate,\n * condition and scheduler.\n *\n * ![](generate.png)\n *\n * @example <caption>Produces sequence of 0, 1, 2, ... 9, then completes.</caption>\n * const res = generate({\n *   initialState: 0,\n *   condition: x => x < 10,\n *   iterate: x => x + 1,\n * });\n *\n * @see {@link from}\n * @see {@link Observable}\n *\n * @param {GenerateBaseOptions<S>} options Object that must contain initialState, iterate and might contain condition and scheduler.\n * @returns {Observable<S>} The generated sequence.\n */\nexport function generate<S>(options: GenerateBaseOptions<S>): Observable<S>;\n\n/**\n * Generates an observable sequence by running a state-driven loop\n * producing the sequence's elements, using the specified scheduler\n * to send out observer messages.\n * The overload accepts options object that might contain initial state, iterate,\n * condition, result selector and scheduler.\n *\n * ![](generate.png)\n *\n * @example <caption>Produces sequence of 0, 1, 2, ... 9, then completes.</caption>\n * const res = generate({\n *   initialState: 0,\n *   condition: x => x < 10,\n *   iterate: x => x + 1,\n *   resultSelector: x => x,\n * });\n *\n * @see {@link from}\n * @see {@link Observable}\n *\n * @param {GenerateOptions<T, S>} options Object that must contain initialState, iterate, resultSelector and might contain condition and scheduler.\n * @returns {Observable<T>} The generated sequence.\n */\nexport function generate<T, S>(options: GenerateOptions<T, S>): Observable<T>;\n\nexport function generate<T, S>(initialStateOrOptions: S | GenerateOptions<T, S>,\n                               condition?: ConditionFunc<S>,\n                               iterate?: IterateFunc<S>,\n                               resultSelectorOrObservable?: (ResultFunc<S, T>) | SchedulerLike,\n                               scheduler?: SchedulerLike): Observable<T> {\n\n  let resultSelector: ResultFunc<S, T>;\n  let initialState: S;\n\n  if (arguments.length == 1) {\n    const options = initialStateOrOptions as GenerateOptions<T, S>;\n    initialState = options.initialState;\n    condition = options.condition;\n    iterate = options.iterate;\n    resultSelector = options.resultSelector || identity as ResultFunc<S, T>;\n    scheduler = options.scheduler;\n  } else if (resultSelectorOrObservable === undefined || isScheduler(resultSelectorOrObservable)) {\n    initialState = initialStateOrOptions as S;\n    resultSelector = identity as ResultFunc<S, T>;\n    scheduler = resultSelectorOrObservable as SchedulerLike;\n  } else {\n    initialState = initialStateOrOptions as S;\n    resultSelector = resultSelectorOrObservable as ResultFunc<S, T>;\n  }\n\n  return new Observable<T>(subscriber => {\n    let state = initialState;\n    if (scheduler) {\n      return scheduler.schedule<SchedulerState<T, S>>(dispatch, 0, {\n        subscriber,\n        iterate,\n        condition,\n        resultSelector,\n        state\n      });\n    }\n\n    do {\n      if (condition) {\n        let conditionResult: boolean;\n        try {\n          conditionResult = condition(state);\n        } catch (err) {\n          subscriber.error(err);\n          return undefined;\n        }\n        if (!conditionResult) {\n          subscriber.complete();\n          break;\n        }\n      }\n      let value: T;\n      try {\n        value = resultSelector(state);\n      } catch (err) {\n        subscriber.error(err);\n        return undefined;\n      }\n      subscriber.next(value);\n      if (subscriber.closed) {\n        break;\n      }\n      try {\n        state = iterate(state);\n      } catch (err) {\n        subscriber.error(err);\n        return undefined;\n      }\n    } while (true);\n\n    return undefined;\n  });\n}\n\nfunction dispatch<T, S>(this: SchedulerAction<SchedulerState<T, S>>, state: SchedulerState<T, S>) {\n  const { subscriber, condition } = state;\n  if (subscriber.closed) {\n    return undefined;\n  }\n  if (state.needIterate) {\n    try {\n      state.state = state.iterate(state.state);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n  } else {\n    state.needIterate = true;\n  }\n  if (condition) {\n    let conditionResult: boolean;\n    try {\n      conditionResult = condition(state.state);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n    if (!conditionResult) {\n      subscriber.complete();\n      return undefined;\n    }\n    if (subscriber.closed) {\n      return undefined;\n    }\n  }\n  let value: T;\n  try {\n    value = state.resultSelector(state.state);\n  } catch (err) {\n    subscriber.error(err);\n    return undefined;\n  }\n  if (subscriber.closed) {\n    return undefined;\n  }\n  subscriber.next(value);\n  if (subscriber.closed) {\n    return undefined;\n  }\n  return this.schedule(state);\n}\n","import { Observable } from '../Observable';\nimport { defer } from './defer';\nimport { EMPTY } from './empty';\nimport { SubscribableOrPromise } from '../types';\n\n/**\n * Decides at subscription time which Observable will actually be subscribed.\n *\n * <span class=\"informal\">`If` statement for Observables.</span>\n *\n * `iif` accepts a condition function and two Observables. When\n * an Observable returned by the operator is subscribed, condition function will be called.\n * Based on what boolean it returns at that moment, consumer will subscribe either to\n * the first Observable (if condition was true) or to the second (if condition was false). Condition\n * function may also not return anything - in that case condition will be evaluated as false and\n * second Observable will be subscribed.\n *\n * Note that Observables for both cases (true and false) are optional. If condition points to an Observable that\n * was left undefined, resulting stream will simply complete immediately. That allows you to, rather\n * then controlling which Observable will be subscribed, decide at runtime if consumer should have access\n * to given Observable or not.\n *\n * If you have more complex logic that requires decision between more than two Observables, {@link defer}\n * will probably be a better choice. Actually `iif` can be easily implemented with {@link defer}\n * and exists only for convenience and readability reasons.\n *\n *\n * ## Examples\n * ### Change at runtime which Observable will be subscribed\n * ```javascript\n * let subscribeToFirst;\n * const firstOrSecond = iif(\n *   () => subscribeToFirst,\n *   of('first'),\n *   of('second'),\n * );\n *\n * subscribeToFirst = true;\n * firstOrSecond.subscribe(value => console.log(value));\n *\n * // Logs:\n * // \"first\"\n *\n * subscribeToFirst = false;\n * firstOrSecond.subscribe(value => console.log(value));\n *\n * // Logs:\n * // \"second\"\n *\n * ```\n *\n * ### Control an access to an Observable\n * ```javascript\n * let accessGranted;\n * const observableIfYouHaveAccess = iif(\n *   () => accessGranted,\n *   of('It seems you have an access...'), // Note that only one Observable is passed to the operator.\n * );\n *\n * accessGranted = true;\n * observableIfYouHaveAccess.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('The end'),\n * );\n *\n * // Logs:\n * // \"It seems you have an access...\"\n * // \"The end\"\n *\n * accessGranted = false;\n * observableIfYouHaveAccess.subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('The end'),\n * );\n *\n * // Logs:\n * // \"The end\"\n * ```\n *\n * @see {@link defer}\n *\n * @param {function(): boolean} condition Condition which Observable should be chosen.\n * @param {Observable} [trueObservable] An Observable that will be subscribed if condition is true.\n * @param {Observable} [falseObservable] An Observable that will be subscribed if condition is false.\n * @return {Observable} Either first or second Observable, depending on condition.\n * @static true\n * @name iif\n * @owner Observable\n */\nexport function iif<T, F>(\n  condition: () => boolean,\n  trueResult: SubscribableOrPromise<T> = EMPTY,\n  falseResult: SubscribableOrPromise<F> = EMPTY\n): Observable<T|F> {\n  return defer<T|F>(() => condition() ? trueResult : falseResult);\n}\n","import { isArray } from './isArray';\n\nexport function isNumeric(val: any): val is number | string {\n  // parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n  // ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n  // subtraction forces infinities to NaN\n  // adding 1 corrects loss of precision from parseFloat (#15100)\n  return !isArray(val) && (val - parseFloat(val) + 1) >= 0;\n}\n","import { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { isNumeric } from '../util/isNumeric';\nimport { Subscriber } from '../Subscriber';\n\n/**\n * Creates an Observable that emits sequential numbers every specified\n * interval of time, on a specified {@link SchedulerLike}.\n *\n * <span class=\"informal\">Emits incremental numbers periodically in time.\n * </span>\n *\n * ![](interval.png)\n *\n * `interval` returns an Observable that emits an infinite sequence of\n * ascending integers, with a constant interval of time of your choosing\n * between those emissions. The first emission is not sent immediately, but\n * only after the first period has passed. By default, this operator uses the\n * `async` {@link SchedulerLike} to provide a notion of time, but you may pass any\n * {@link SchedulerLike} to it.\n *\n * ## Example\n * Emits ascending numbers, one every second (1000ms) up to the number 3\n * ```javascript\n * import { interval } from 'rxjs';\n * import { take } from 'rxjs/operators';\n *\n * const numbers = interval(1000);\n *\n * const takeFourNumbers = numbers.pipe(take(4));\n *\n * takeFourNumbers.subscribe(x => console.log('Next: ', x));\n *\n * // Logs:\n * // Next: 0\n * // Next: 1\n * // Next: 2\n * // Next: 3\n * ```\n *\n * @see {@link timer}\n * @see {@link delay}\n *\n * @param {number} [period=0] The interval size in milliseconds (by default)\n * or the time unit determined by the scheduler's clock.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for scheduling\n * the emission of values, and providing a notion of \"time\".\n * @return {Observable} An Observable that emits a sequential number each time\n * interval.\n * @static true\n * @name interval\n * @owner Observable\n */\nexport function interval(period = 0,\n                         scheduler: SchedulerLike = async): Observable<number> {\n  if (!isNumeric(period) || period < 0) {\n    period = 0;\n  }\n\n  if (!scheduler || typeof scheduler.schedule !== 'function') {\n    scheduler = async;\n  }\n\n  return new Observable<number>(subscriber => {\n    subscriber.add(\n      scheduler.schedule(dispatch, period, { subscriber, counter: 0, period })\n    );\n    return subscriber;\n  });\n}\n\nfunction dispatch(this: SchedulerAction<IntervalState>, state: IntervalState) {\n  const { subscriber, counter, period } = state;\n  subscriber.next(counter);\n  this.schedule({ subscriber, counter: counter + 1, period }, period);\n}\n\ninterface IntervalState {\n  subscriber: Subscriber<number>;\n  counter: number;\n  period: number;\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput, SchedulerLike} from '../types';\nimport { isScheduler } from '../util/isScheduler';\nimport { mergeAll } from '../operators/mergeAll';\nimport { fromArray } from './fromArray';\n\n/* tslint:disable:max-line-length */\nexport function merge<T>(v1: ObservableInput<T>, scheduler?: SchedulerLike): Observable<T>;\nexport function merge<T>(v1: ObservableInput<T>, concurrent?: number, scheduler?: SchedulerLike): Observable<T>;\nexport function merge<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, scheduler?: SchedulerLike): Observable<T | T2>;\nexport function merge<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, concurrent?: number, scheduler?: SchedulerLike): Observable<T | T2>;\nexport function merge<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler?: SchedulerLike): Observable<T | T2 | T3>;\nexport function merge<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, concurrent?: number, scheduler?: SchedulerLike): Observable<T | T2 | T3>;\nexport function merge<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4>;\nexport function merge<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, concurrent?: number, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4>;\nexport function merge<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5>;\nexport function merge<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, concurrent?: number, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5>;\nexport function merge<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function merge<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, concurrent?: number, scheduler?: SchedulerLike): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function merge<T>(...observables: (ObservableInput<T> | SchedulerLike | number)[]): Observable<T>;\nexport function merge<T, R>(...observables: (ObservableInput<any> | SchedulerLike | number)[]): Observable<R>;\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * ![](merge.png)\n *\n * `merge` subscribes to each given input Observable (as arguments), and simply\n * forwards (without doing any transformation) all the values from all the input\n * Observables to the output Observable. The output Observable only completes\n * once all input Observables have completed. Any error delivered by an input\n * Observable will be immediately emitted on the output Observable.\n *\n * ## Examples\n * ### Merge together two Observables: 1s interval and clicks\n * ```javascript\n * const clicks = fromEvent(document, 'click');\n * const timer = interval(1000);\n * const clicksOrTimer = merge(clicks, timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // timer will emit ascending values, one every second(1000ms) to console\n * // clicks logs MouseEvents to console everytime the \"document\" is clicked\n * // Since the two streams are merged you see these happening\n * // as they occur.\n * ```\n *\n * ### Merge together 3 Observables, but only 2 run concurrently\n * ```javascript\n * const timer1 = interval(1000).pipe(take(10));\n * const timer2 = interval(2000).pipe(take(6));\n * const timer3 = interval(500).pipe(take(10));\n * const concurrent = 2; // the argument\n * const merged = merge(timer1, timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - First timer1 and timer2 will run concurrently\n * // - timer1 will emit a value every 1000ms for 10 iterations\n * // - timer2 will emit a value every 2000ms for 6 iterations\n * // - after timer1 hits it's max iteration, timer2 will\n * //   continue, and timer3 will start to run concurrently with timer2\n * // - when timer2 hits it's max iteration it terminates, and\n * //   timer3 will continue to emit a value every 500ms until it is complete\n * ```\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {...ObservableInput} observables Input Observables to merge together.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {SchedulerLike} [scheduler=null] The {@link SchedulerLike} to use for managing\n * concurrency of input Observables.\n * @return {Observable} an Observable that emits items that are the result of\n * every input Observable.\n * @static true\n * @name merge\n * @owner Observable\n */\nexport function merge<T, R>(...observables: Array<ObservableInput<any> | SchedulerLike | number>): Observable<R> {\n let concurrent = Number.POSITIVE_INFINITY;\n let scheduler: SchedulerLike = null;\n  let last: any = observables[observables.length - 1];\n  if (isScheduler(last)) {\n    scheduler = <SchedulerLike>observables.pop();\n    if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n      concurrent = <number>observables.pop();\n    }\n  } else if (typeof last === 'number') {\n    concurrent = <number>observables.pop();\n  }\n\n  if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable) {\n    return <Observable<R>>observables[0];\n  }\n\n  return mergeAll<R>(concurrent)(fromArray<any>(observables, scheduler));\n}\n","import { Observable } from '../Observable';\nimport { noop } from '../util/noop';\n\n/**\n * An Observable that emits no items to the Observer and never completes.\n *\n * ![](never.png)\n *\n * A simple Observable that emits neither values nor errors nor the completion\n * notification. It can be used for testing purposes or for composing with other\n * Observables. Please note that by never emitting a complete notification, this\n * Observable keeps the subscription from being disposed automatically.\n * Subscriptions need to be manually disposed.\n *\n * ##  Example\n * ### Emit the number 7, then never emit anything else (not even complete)\n * ```javascript\n * function info() {\n *   console.log('Will not be called');\n * }\n * const result = NEVER.pipe(startWith(7));\n * result.subscribe(x => console.log(x), info, info);\n *\n * ```\n *\n * @see {@link Observable}\n * @see {@link index/EMPTY}\n * @see {@link of}\n * @see {@link throwError}\n */\nexport const NEVER = new Observable<never>(noop);\n\n/**\n * @deprecated Deprecated in favor of using {@link NEVER} constant.\n */\nexport function never () {\n  return NEVER;\n}\n","import { Observable } from '../Observable';\nimport { ObservableInput } from '../types';\nimport { from } from './from';\nimport { isArray } from '../util/isArray';\nimport { EMPTY } from './empty';\n\n/* tslint:disable:max-line-length */\nexport function onErrorResumeNext<R>(v: ObservableInput<R>): Observable<R>;\nexport function onErrorResumeNext<T2, T3, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>): Observable<R>;\nexport function onErrorResumeNext<T2, T3, T4, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): Observable<R>;\nexport function onErrorResumeNext<T2, T3, T4, T5, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): Observable<R>;\nexport function onErrorResumeNext<T2, T3, T4, T5, T6, R>(v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): Observable<R>;\n\nexport function onErrorResumeNext<R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): Observable<R>;\nexport function onErrorResumeNext<R>(array: ObservableInput<any>[]): Observable<R>;\n/* tslint:enable:max-line-length */\n\n/**\n * When any of the provided Observable emits an complete or error notification, it immediately subscribes to the next one\n * that was passed.\n *\n * <span class=\"informal\">Execute series of Observables no matter what, even if it means swallowing errors.</span>\n *\n * ![](onErrorResumeNext.png)\n *\n * `onErrorResumeNext` Will subscribe to each observable source it is provided, in order.\n * If the source it's subscribed to emits an error or completes, it will move to the next source\n * without error.\n *\n * If `onErrorResumeNext` is provided no arguments, or a single, empty array, it will return {@link index/EMPTY}.\n *\n * `onErrorResumeNext` is basically {@link concat}, only it will continue, even if one of its\n * sources emits an error.\n *\n * Note that there is no way to handle any errors thrown by sources via the resuult of\n * `onErrorResumeNext`. If you want to handle errors thrown in any given source, you can\n * always use the {@link catchError} operator on them before passing them into `onErrorResumeNext`.\n *\n * ## Example\n * Subscribe to the next Observable after map fails</caption>\n * ```javascript\n * import { onErrorResumeNext, of } from 'rxjs';\n * import { map } from 'rxjs/operators';\n *\n * onErrorResumeNext(\n *  of(1, 2, 3, 0).pipe(\n *    map(x => {\n *      if (x === 0) throw Error();\n *      return 10 / x;\n *    })\n *  ),\n *  of(1, 2, 3),\n * )\n * .subscribe(\n *   val => console.log(val),\n *   err => console.log(err),          // Will never be called.\n *   () => console.log('done'),\n * );\n *\n * // Logs:\n * // 10\n * // 5\n * // 3.3333333333333335\n * // 1\n * // 2\n * // 3\n * // \"done\"\n * ```\n *\n * @see {@link concat}\n * @see {@link catchError}\n *\n * @param {...ObservableInput} sources Observables (or anything that *is* observable) passed either directly or as an array.\n * @return {Observable} An Observable that concatenates all sources, one after the other,\n * ignoring all errors, such that any error causes it to move on to the next source.\n */\nexport function onErrorResumeNext<T, R>(...sources: Array<ObservableInput<any> |\n                                                              Array<ObservableInput<any>> |\n                                                              ((...values: Array<any>) => R)>): Observable<R> {\n\n  if (sources.length === 0) {\n    return EMPTY;\n  }\n\n  const [ first, ...remainder ] = sources;\n\n  if (sources.length === 1 && isArray(first)) {\n    return onErrorResumeNext(...first);\n  }\n\n  return new Observable(subscriber => {\n    const subNext = () => subscriber.add(\n      onErrorResumeNext(...remainder).subscribe(subscriber)\n    );\n\n    return from(first).subscribe({\n      next(value) { subscriber.next(value); },\n      error: subNext,\n      complete: subNext,\n    });\n  });\n}\n","import { Observable } from '../Observable';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\n\n/**\n * Convert an object into an Observable of `[key, value]` pairs.\n *\n * <span class=\"informal\">Turn entries of an object into a stream.</span>\n *\n * <img src=\"./img/pairs.png\" width=\"100%\">\n *\n * `pairs` takes an arbitrary object and returns an Observable that emits arrays. Each\n * emitted array has exactly two elements - the first is a key from the object\n * and the second is a value corresponding to that key. Keys are extracted from\n * an object via `Object.keys` function, which means that they will be only\n * enumerable keys that are present on an object directly - not ones inherited\n * via prototype chain.\n *\n * By default these arrays are emitted synchronously. To change that you can\n * pass a {@link SchedulerLike} as a second argument to `pairs`.\n *\n * @example <caption>Converts a javascript object to an Observable</caption>\n * ```javascript\n * const obj = {\n *   foo: 42,\n *   bar: 56,\n *   baz: 78\n * };\n *\n * pairs(obj)\n * .subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('the end!')\n * );\n *\n * // Logs:\n * // [\"foo\": 42],\n * // [\"bar\": 56],\n * // [\"baz\": 78],\n * // \"the end!\"\n * ```\n *\n * @param {Object} obj The object to inspect and turn into an\n * Observable sequence.\n * @param {Scheduler} [scheduler] An optional IScheduler to schedule\n * when resulting Observable will emit values.\n * @returns {(Observable<Array<string|T>>)} An observable sequence of\n * [key, value] pairs from the object.\n */\nexport function pairs<T>(obj: Object, scheduler?: SchedulerLike): Observable<[string, T]> {\n  if (!scheduler) {\n    return new Observable<[string, T]>(subscriber => {\n      const keys = Object.keys(obj);\n      for (let i = 0; i < keys.length && !subscriber.closed; i++) {\n        const key = keys[i];\n        if (obj.hasOwnProperty(key)) {\n          subscriber.next([key, obj[key]]);\n        }\n      }\n      subscriber.complete();\n    });\n  } else {\n    return new Observable<[string, T]>(subscriber => {\n      const keys = Object.keys(obj);\n      const subscription = new Subscription();\n      subscription.add(\n        scheduler.schedule<{ keys: string[], index: number, subscriber: Subscriber<[string, T]>, subscription: Subscription, obj: Object }>\n          (dispatch, 0, { keys, index: 0, subscriber, subscription, obj }));\n      return subscription;\n    });\n  }\n}\n\n/** @internal */\nexport function dispatch<T>(this: SchedulerAction<any>,\n                            state: { keys: string[], index: number, subscriber: Subscriber<[string, T]>, subscription: Subscription, obj: Object }) {\n  const { keys, index, subscriber, subscription, obj } = state;\n  if (!subscriber.closed) {\n    if (index < keys.length) {\n      const key = keys[index];\n      subscriber.next([key, obj[key]]);\n      subscription.add(this.schedule({ keys, index: index + 1, subscriber, subscription, obj }));\n    } else {\n      subscriber.complete();\n    }\n  }\n}\n","import { Observable } from '../Observable';\nimport { isArray } from '../util/isArray';\nimport { fromArray } from './fromArray';\nimport { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { TeardownLogic } from '../types';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\n/**\n * Returns an Observable that mirrors the first source Observable to emit an item.\n *\n * ## Example\n * ### Subscribes to the observable that was the first to start emitting.\n *\n * ```javascript\n * const obs1 = interval(1000).pipe(mapTo('fast one'));\n * const obs2 = interval(3000).pipe(mapTo('medium one'));\n * const obs3 = interval(5000).pipe(mapTo('slow one'));\n *\n * race(obs3, obs1, obs2)\n * .subscribe(\n *   winner => console.log(winner)\n * );\n *\n * // result:\n * // a series of 'fast one'\n * ```\n *\n * @param {...Observables} ...observables sources used to race for which Observable emits first.\n * @return {Observable} an Observable that mirrors the output of the first Observable to emit an item.\n * @static true\n * @name race\n * @owner Observable\n */\nexport function race<T>(observables: Array<Observable<T>>): Observable<T>;\nexport function race<T>(observables: Array<Observable<any>>): Observable<T>;\nexport function race<T>(...observables: Array<Observable<T> | Array<Observable<T>>>): Observable<T>;\nexport function race<T>(...observables: Array<Observable<any> | Array<Observable<any>>>): Observable<T> {\n  // if the only argument is an array, it was most likely called with\n  // `race([obs1, obs2, ...])`\n  if (observables.length === 1) {\n    if (isArray(observables[0])) {\n      observables = <Array<Observable<any>>>observables[0];\n    } else {\n      return <Observable<any>>observables[0];\n    }\n  }\n\n  return fromArray(observables, undefined).lift(new RaceOperator<T>());\n}\n\nexport class RaceOperator<T> implements Operator<T, T> {\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new RaceSubscriber(subscriber));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class RaceSubscriber<T> extends OuterSubscriber<T, T> {\n  private hasFirst: boolean = false;\n  private observables: Observable<any>[] = [];\n  private subscriptions: Subscription[] = [];\n\n  constructor(destination: Subscriber<T>) {\n    super(destination);\n  }\n\n  protected _next(observable: any): void {\n    this.observables.push(observable);\n  }\n\n  protected _complete() {\n    const observables = this.observables;\n    const len = observables.length;\n\n    if (len === 0) {\n      this.destination.complete();\n    } else {\n      for (let i = 0; i < len && !this.hasFirst; i++) {\n        let observable = observables[i];\n        let subscription = subscribeToResult(this, observable, observable as any, i);\n\n        if (this.subscriptions) {\n          this.subscriptions.push(subscription);\n        }\n        this.add(subscription);\n      }\n      this.observables = null;\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: T,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, T>): void {\n    if (!this.hasFirst) {\n      this.hasFirst = true;\n\n      for (let i = 0; i < this.subscriptions.length; i++) {\n        if (i !== outerIndex) {\n          let subscription = this.subscriptions[i];\n\n          subscription.unsubscribe();\n          this.remove(subscription);\n        }\n      }\n\n      this.subscriptions = null;\n    }\n\n    this.destination.next(innerValue);\n  }\n}\n","import { SchedulerAction, SchedulerLike } from '../types';\nimport { Observable } from '../Observable';\n\n/**\n * Creates an Observable that emits a sequence of numbers within a specified\n * range.\n *\n * <span class=\"informal\">Emits a sequence of numbers in a range.</span>\n *\n * ![](range.png)\n *\n * `range` operator emits a range of sequential integers, in order, where you\n * select the `start` of the range and its `length`. By default, uses no\n * {@link SchedulerLike} and just delivers the notifications synchronously, but may use\n * an optional {@link SchedulerLike} to regulate those deliveries.\n *\n * ## Example\n * Emits the numbers 1 to 10</caption>\n * ```javascript\n * const numbers = range(1, 10);\n * numbers.subscribe(x => console.log(x));\n * ```\n * @see {@link timer}\n * @see {@link index/interval}\n *\n * @param {number} [start=0] The value of the first integer in the sequence.\n * @param {number} [count=0] The number of sequential integers to generate.\n * @param {SchedulerLike} [scheduler] A {@link SchedulerLike} to use for scheduling\n * the emissions of the notifications.\n * @return {Observable} An Observable of numbers that emits a finite range of\n * sequential integers.\n * @static true\n * @name range\n * @owner Observable\n */\nexport function range(start: number = 0,\n                      count: number = 0,\n                      scheduler?: SchedulerLike): Observable<number> {\n  return new Observable<number>(subscriber => {\n    let index = 0;\n    let current = start;\n\n    if (scheduler) {\n      return scheduler.schedule(dispatch, 0, {\n        index, count, start, subscriber\n      });\n    } else {\n      do {\n        if (index++ >= count) {\n          subscriber.complete();\n          break;\n        }\n        subscriber.next(current++);\n        if (subscriber.closed) {\n          break;\n        }\n      } while (true);\n    }\n\n    return undefined;\n  });\n}\n\n/** @internal */\nexport function dispatch(this: SchedulerAction<any>, state: any) {\n  const { start, index, count, subscriber } = state;\n\n  if (index >= count) {\n    subscriber.complete();\n    return;\n  }\n\n  subscriber.next(start);\n\n  if (subscriber.closed) {\n    return;\n  }\n\n  state.index = index + 1;\n  state.start = start + 1;\n\n  this.schedule(state);\n}\n","import { Observable } from '../Observable';\nimport { SchedulerAction, SchedulerLike } from '../types';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nimport { isScheduler } from '../util/isScheduler';\nimport { Subscriber } from '../Subscriber';\n\n/**\n * Creates an Observable that starts emitting after an `dueTime` and\n * emits ever increasing numbers after each `period` of time thereafter.\n *\n * <span class=\"informal\">Its like {@link index/interval}, but you can specify when\n * should the emissions start.</span>\n *\n * ![](timer.png)\n *\n * `timer` returns an Observable that emits an infinite sequence of ascending\n * integers, with a constant interval of time, `period` of your choosing\n * between those emissions. The first emission happens after the specified\n * `dueTime`. The initial delay may be a `Date`. By default, this\n * operator uses the {@link asyncScheduler} {@link SchedulerLike} to provide a notion of time, but you\n * may pass any {@link SchedulerLike} to it. If `period` is not specified, the output\n * Observable emits only one value, `0`. Otherwise, it emits an infinite\n * sequence.\n *\n * ## Examples\n * ### Emits ascending numbers, one every second (1000ms), starting after 3 seconds\n * ```javascript\n * const numbers = timer(3000, 1000);\n * numbers.subscribe(x => console.log(x));\n * ```\n *\n * ### Emits one number after five seconds\n * ```javascript\n * const numbers = timer(5000);\n * numbers.subscribe(x => console.log(x));\n * ```\n * @see {@link index/interval}\n * @see {@link delay}\n *\n * @param {number|Date} [dueTime] The initial delay time specified as a Date object or as an integer denoting\n * milliseconds to wait before emitting the first value of 0`.\n * @param {number|SchedulerLike} [periodOrScheduler] The period of time between emissions of the\n * subsequent numbers.\n * @param {SchedulerLike} [scheduler=async] The {@link SchedulerLike} to use for scheduling\n * the emission of values, and providing a notion of \"time\".\n * @return {Observable} An Observable that emits a `0` after the\n * `dueTime` and ever increasing numbers after each `period` of time\n * thereafter.\n * @static true\n * @name timer\n * @owner Observable\n */\nexport function timer(dueTime: number | Date = 0,\n                      periodOrScheduler?: number | SchedulerLike,\n                      scheduler?: SchedulerLike): Observable<number> {\n  let period = -1;\n  if (isNumeric(periodOrScheduler)) {\n    period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n  } else if (isScheduler(periodOrScheduler)) {\n    scheduler = periodOrScheduler as any;\n  }\n\n  if (!isScheduler(scheduler)) {\n    scheduler = async;\n  }\n\n  return new Observable(subscriber => {\n    const due = isNumeric(dueTime)\n      ? (dueTime as number)\n      : (+dueTime - scheduler.now());\n\n    return scheduler.schedule(dispatch, due, {\n      index: 0, period, subscriber\n    });\n  });\n}\n\ninterface TimerState {\n  index: number;\n  period: number;\n  subscriber: Subscriber<number>;\n}\n\nfunction dispatch(this: SchedulerAction<TimerState>, state: TimerState) {\n  const { index, period, subscriber } = state;\n  subscriber.next(index);\n\n  if (subscriber.closed) {\n    return;\n  } else if (period === -1) {\n    return subscriber.complete();\n  }\n\n  state.index = index + 1;\n  this.schedule(state, period);\n}\n","import { Observable } from '../Observable';\nimport { Unsubscribable, ObservableInput } from '../types';\nimport { from } from './from'; // from from from! LAWL\nimport { EMPTY } from './empty';\n\n/**\n * Creates an Observable that uses a resource which will be disposed at the same time as the Observable.\n *\n * <span class=\"informal\">Use it when you catch yourself cleaning up after an Observable.</span>\n *\n * `using` is a factory operator, which accepts two functions. First function returns a disposable resource.\n * It can be an arbitrary object that implements `unsubscribe` method. Second function will be injected with\n * that object and should return an Observable. That Observable can use resource object during its execution.\n * Both functions passed to `using` will be called every time someone subscribes - neither an Observable nor\n * resource object will be shared in any way between subscriptions.\n *\n * When Observable returned by `using` is subscribed, Observable returned from the second function will be subscribed\n * as well. All its notifications (nexted values, completion and error events) will be emitted unchanged by the output\n * Observable. If however someone unsubscribes from the Observable or source Observable completes or errors by itself,\n * the `unsubscribe` method on resource object will be called. This can be used to do any necessary clean up, which\n * otherwise would have to be handled by hand. Note that complete or error notifications are not emitted when someone\n * cancels subscription to an Observable via `unsubscribe`, so `using` can be used as a hook, allowing you to make\n * sure that all resources which need to exist during an Observable execution will be disposed at appropriate time.\n *\n * @see {@link defer}\n *\n * @param {function(): ISubscription} resourceFactory A function which creates any resource object\n * that implements `unsubscribe` method.\n * @param {function(resource: ISubscription): Observable<T>} observableFactory A function which\n * creates an Observable, that can use injected resource object.\n * @return {Observable<T>} An Observable that behaves the same as Observable returned by `observableFactory`, but\n * which - when completed, errored or unsubscribed - will also call `unsubscribe` on created resource object.\n */\nexport function using<T>(resourceFactory: () => Unsubscribable | void,\n                         observableFactory: (resource: Unsubscribable | void) => ObservableInput<T> | void): Observable<T> {\n  return new Observable<T>(subscriber => {\n    let resource: Unsubscribable | void;\n\n    try {\n      resource = resourceFactory();\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n\n    let result: ObservableInput<T> | void;\n    try {\n      result = observableFactory(resource);\n    } catch (err) {\n      subscriber.error(err);\n      return undefined;\n    }\n\n    const source = result ? from(result) : EMPTY;\n    const subscription = source.subscribe(subscriber);\n    return () => {\n      subscription.unsubscribe();\n      if (resource) {\n        resource.unsubscribe();\n      }\n    };\n  });\n}\n","import { Observable } from '../Observable';\nimport { fromArray } from './fromArray';\nimport { isArray } from '../util/isArray';\nimport { Operator } from '../Operator';\nimport { ObservableInput, PartialObserver } from '../types';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { iterator as Symbol_iterator } from '../../internal/symbol/iterator';\n\n/* tslint:disable:max-line-length */\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, R>(v1: ObservableInput<T>, resultSelector: (v1: T) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, T2, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, resultSelector: (v1: T, v2: T2) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, T2, T3, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, resultSelector: (v1: T, v2: T2, v3: T3) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, T2, T3, T4, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, T2, T3, T4, T5, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, T2, T3, T4, T5, T6, R>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, resultSelector: (v1: T, v2: T2, v3: T3, v4: T4, v5: T5, v6: T6) => R): Observable<R>;\n\nexport function zip<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>): Observable<[T, T2]>;\nexport function zip<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>): Observable<[T, T2, T3]>;\nexport function zip<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>): Observable<[T, T2, T3, T4]>;\nexport function zip<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>): Observable<[T, T2, T3, T4, T5]>;\nexport function zip<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>): Observable<[T, T2, T3, T4, T5, T6]>;\n\nexport function zip<T>(array: ObservableInput<T>[]): Observable<T[]>;\nexport function zip<R>(array: ObservableInput<any>[]): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<T, R>(array: ObservableInput<T>[], resultSelector: (...values: Array<T>) => R): Observable<R>;\n/** @deprecated resultSelector is no longer supported, pipe to map instead */\nexport function zip<R>(array: ObservableInput<any>[], resultSelector: (...values: Array<any>) => R): Observable<R>;\n\nexport function zip<T>(...observables: Array<ObservableInput<T>>): Observable<T[]>;\nexport function zip<T, R>(...observables: Array<ObservableInput<T> | ((...values: Array<T>) => R)>): Observable<R>;\nexport function zip<R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): Observable<R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Combines multiple Observables to create an Observable whose values are calculated from the values, in order, of each\n * of its input Observables.\n *\n * If the latest parameter is a function, this function is used to compute the created value from the input values.\n * Otherwise, an array of the input values is returned.\n *\n * ## Example\n * Combine age and name from different sources\n * ```javascript\n * let age$ = of<number>(27, 25, 29);\n * let name$ = of<string>('Foo', 'Bar', 'Beer');\n * let isDev$ = of<boolean>(true, true, false);\n *\n * zip(age$, name$, isDev$).pipe(\n *   map((age: number, name: string, isDev: boolean) => ({ age, name, isDev })),\n * )\n * .subscribe(x => console.log(x));\n *\n * // outputs\n * // { age: 27, name: 'Foo', isDev: true }\n * // { age: 25, name: 'Bar', isDev: true }\n * // { age: 29, name: 'Beer', isDev: false }\n * ```\n * @param observables\n * @return {Observable<R>}\n * @static true\n * @name zip\n * @owner Observable\n */\nexport function zip<T, R>(...observables: Array<ObservableInput<any> | ((...values: Array<any>) => R)>): Observable<R> {\n  const resultSelector = <((...ys: Array<any>) => R)> observables[observables.length - 1];\n  if (typeof resultSelector === 'function') {\n    observables.pop();\n  }\n  return fromArray(observables, undefined).lift(new ZipOperator(resultSelector));\n}\n\nexport class ZipOperator<T, R> implements Operator<T, R> {\n\n  resultSelector: (...values: Array<any>) => R;\n\n  constructor(resultSelector?: (...values: Array<any>) => R) {\n    this.resultSelector = resultSelector;\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new ZipSubscriber(subscriber, this.resultSelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class ZipSubscriber<T, R> extends Subscriber<T> {\n  private values: any;\n  private resultSelector: (...values: Array<any>) => R;\n  private iterators: LookAheadIterator<any>[] = [];\n  private active = 0;\n\n  constructor(destination: Subscriber<R>,\n              resultSelector?: (...values: Array<any>) => R,\n              values: any = Object.create(null)) {\n    super(destination);\n    this.resultSelector = (typeof resultSelector === 'function') ? resultSelector : null;\n    this.values = values;\n  }\n\n  protected _next(value: any) {\n    const iterators = this.iterators;\n    if (isArray(value)) {\n      iterators.push(new StaticArrayIterator(value));\n    } else if (typeof value[Symbol_iterator] === 'function') {\n      iterators.push(new StaticIterator(value[Symbol_iterator]()));\n    } else {\n      iterators.push(new ZipBufferIterator(this.destination, this, value));\n    }\n  }\n\n  protected _complete() {\n    const iterators = this.iterators;\n    const len = iterators.length;\n\n    this.unsubscribe();\n\n    if (len === 0) {\n      this.destination.complete();\n      return;\n    }\n\n    this.active = len;\n    for (let i = 0; i < len; i++) {\n      let iterator: ZipBufferIterator<any, any> = <any>iterators[i];\n      if (iterator.stillUnsubscribed) {\n        const destination = this.destination as Subscription;\n        destination.add(iterator.subscribe(iterator, i));\n      } else {\n        this.active--; // not an observable\n      }\n    }\n  }\n\n  notifyInactive() {\n    this.active--;\n    if (this.active === 0) {\n      this.destination.complete();\n    }\n  }\n\n  checkIterators() {\n    const iterators = this.iterators;\n    const len = iterators.length;\n    const destination = this.destination;\n\n    // abort if not all of them have values\n    for (let i = 0; i < len; i++) {\n      let iterator = iterators[i];\n      if (typeof iterator.hasValue === 'function' && !iterator.hasValue()) {\n        return;\n      }\n    }\n\n    let shouldComplete = false;\n    const args: any[] = [];\n    for (let i = 0; i < len; i++) {\n      let iterator = iterators[i];\n      let result = iterator.next();\n\n      // check to see if it's completed now that you've gotten\n      // the next value.\n      if (iterator.hasCompleted()) {\n        shouldComplete = true;\n      }\n\n      if (result.done) {\n        destination.complete();\n        return;\n      }\n\n      args.push(result.value);\n    }\n\n    if (this.resultSelector) {\n      this._tryresultSelector(args);\n    } else {\n      destination.next(args);\n    }\n\n    if (shouldComplete) {\n      destination.complete();\n    }\n  }\n\n  protected _tryresultSelector(args: any[]) {\n    let result: any;\n    try {\n      result = this.resultSelector.apply(this, args);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n\ninterface LookAheadIterator<T> extends Iterator<T> {\n  hasValue(): boolean;\n  hasCompleted(): boolean;\n}\n\nclass StaticIterator<T> implements LookAheadIterator<T> {\n  private nextResult: IteratorResult<T>;\n\n  constructor(private iterator: Iterator<T>) {\n    this.nextResult = iterator.next();\n  }\n\n  hasValue() {\n    return true;\n  }\n\n  next(): IteratorResult<T> {\n    const result = this.nextResult;\n    this.nextResult = this.iterator.next();\n    return result;\n  }\n\n  hasCompleted() {\n    const nextResult = this.nextResult;\n    return nextResult && nextResult.done;\n  }\n}\n\nclass StaticArrayIterator<T> implements LookAheadIterator<T> {\n  private index = 0;\n  private length = 0;\n\n  constructor(private array: T[]) {\n    this.length = array.length;\n  }\n\n  [Symbol_iterator]() {\n    return this;\n  }\n\n  next(value?: any): IteratorResult<T> {\n    const i = this.index++;\n    const array = this.array;\n    return i < this.length ? { value: array[i], done: false } : { value: null, done: true };\n  }\n\n  hasValue() {\n    return this.array.length > this.index;\n  }\n\n  hasCompleted() {\n    return this.array.length === this.index;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass ZipBufferIterator<T, R> extends OuterSubscriber<T, R> implements LookAheadIterator<T> {\n  stillUnsubscribed = true;\n  buffer: T[] = [];\n  isComplete = false;\n\n  constructor(destination: PartialObserver<T>,\n              private parent: ZipSubscriber<T, R>,\n              private observable: Observable<T>) {\n    super(destination);\n  }\n\n  [Symbol_iterator]() {\n    return this;\n  }\n\n  // NOTE: there is actually a name collision here with Subscriber.next and Iterator.next\n  //    this is legit because `next()` will never be called by a subscription in this case.\n  next(): IteratorResult<T> {\n    const buffer = this.buffer;\n    if (buffer.length === 0 && this.isComplete) {\n      return { value: null, done: true };\n    } else {\n      return { value: buffer.shift(), done: false };\n    }\n  }\n\n  hasValue() {\n    return this.buffer.length > 0;\n  }\n\n  hasCompleted() {\n    return this.buffer.length === 0 && this.isComplete;\n  }\n\n  notifyComplete() {\n    if (this.buffer.length > 0) {\n      this.isComplete = true;\n      this.parent.notifyInactive();\n    } else {\n      this.destination.complete();\n    }\n  }\n\n  notifyNext(outerValue: T, innerValue: any,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.buffer.push(innerValue);\n    this.parent.checkIterators();\n  }\n\n  subscribe(value: any, index: number) {\n    return subscribeToResult<any, any>(this, this.observable, this, index);\n  }\n}\n","/* Observable */\nexport { Observable } from './internal/Observable';\nexport { ConnectableObservable } from './internal/observable/ConnectableObservable';\nexport { GroupedObservable } from './internal/operators/groupBy';\nexport { Operator } from './internal/Operator';\nexport { observable } from './internal/symbol/observable';\n\n/* Subjects */\nexport { Subject } from './internal/Subject';\nexport { BehaviorSubject } from './internal/BehaviorSubject';\nexport { ReplaySubject } from './internal/ReplaySubject';\nexport { AsyncSubject } from './internal/AsyncSubject';\n\n/* Schedulers */\nexport { asap as asapScheduler } from './internal/scheduler/asap';\nexport { async as asyncScheduler } from './internal/scheduler/async';\nexport { queue as queueScheduler } from './internal/scheduler/queue';\nexport { animationFrame as animationFrameScheduler } from './internal/scheduler/animationFrame';\nexport { VirtualTimeScheduler, VirtualAction } from './internal/scheduler/VirtualTimeScheduler';\nexport { Scheduler } from './internal/Scheduler';\n\n/* Subscription */\nexport { Subscription } from './internal/Subscription';\nexport { Subscriber } from './internal/Subscriber';\n\n/* Notification */\nexport { Notification } from './internal/Notification';\n\n/* Utils */\nexport { pipe } from './internal/util/pipe';\nexport { noop } from './internal/util/noop';\nexport { identity } from './internal/util/identity';\nexport { isObservable } from './internal/util/isObservable';\n\n/* Error types */\nexport { ArgumentOutOfRangeError } from './internal/util/ArgumentOutOfRangeError';\nexport { EmptyError } from './internal/util/EmptyError';\nexport { ObjectUnsubscribedError } from './internal/util/ObjectUnsubscribedError';\nexport { UnsubscriptionError } from './internal/util/UnsubscriptionError';\nexport { TimeoutError } from './internal/util/TimeoutError';\n\n/* Static observable creation exports */\nexport { bindCallback } from './internal/observable/bindCallback';\nexport { bindNodeCallback } from './internal/observable/bindNodeCallback';\nexport { combineLatest } from './internal/observable/combineLatest';\nexport { concat } from './internal/observable/concat';\nexport { defer } from './internal/observable/defer';\nexport { empty } from './internal/observable/empty';\nexport { forkJoin } from './internal/observable/forkJoin';\nexport { from } from './internal/observable/from';\nexport { fromEvent } from './internal/observable/fromEvent';\nexport { fromEventPattern } from './internal/observable/fromEventPattern';\nexport { generate } from './internal/observable/generate';\nexport { iif } from './internal/observable/iif';\nexport { interval } from './internal/observable/interval';\nexport { merge } from './internal/observable/merge';\nexport { never } from './internal/observable/never';\nexport { of } from './internal/observable/of';\nexport { onErrorResumeNext } from './internal/observable/onErrorResumeNext';\nexport { pairs } from './internal/observable/pairs';\nexport { race } from './internal/observable/race';\nexport { range } from './internal/observable/range';\nexport { throwError } from './internal/observable/throwError';\nexport { timer } from './internal/observable/timer';\nexport { using } from './internal/observable/using';\nexport { zip } from './internal/observable/zip';\n\n/* Constants */\nexport { EMPTY } from './internal/observable/empty';\nexport { NEVER } from './internal/observable/never';\n\n/* Types */\nexport * from './internal/types';\n\n/* Config */\nexport { config } from './internal/config';\n","import { Subject, Subscription } from 'rxjs';\n// import { Injectable } from 'indiv';\nimport { Injectable } from '../../../InDiv/src';\n\n@Injectable()\nexport default class TestService {\n  public data: number;\n  public subject: Subject<any>;\n\n  constructor() {\n    this.data = 1;\n    this.subject = new Subject();\n  }\n  \n  public subscribe(fun: (value: any) => void): Subscription {\n    return this.subject.subscribe({\n      next: fun,\n    });\n  }\n\n  public update(value: any) {\n    this.subject.next({\n      next: value,\n    });\n  }\n\n  public unsubscribe() {\n    this.subject.subscribe()\n  }\n}\n",null,"export const templateInfo = () => [\n  {\n    h1: '模板语法',\n    p: [\n      '从使用模型-视图-控制器 (MVC) 或模型-视图-视图模型 (MVVM) 的经验中，很多开发人员都熟悉了组件和模板这两个概念。',\n      '在 InDiv 中，组件扮演着控制器或视图模型的角色，模板则扮演视图的角色。',\n      '模板很像字符串的HTML，但是它还包含 InDiv 的模板语法，这些模板语法可以根据你的应用逻辑、应用状态和 DOM 数据来修改这些 HTML。',\n      '你的模板可以使用数据绑定来协调应用和 DOM 中的数据，把程序逻辑应用到要显示的内容上。',\n      'InDiv 模板指令使用 nv- 开头，下面介绍一下 InDiv 的模板语法。',\n      '1. 拥有特殊渲染方法的指令有 nv-model nv-text nv-html nv-if nv-class nv-repeat nv-key nv-on:Event。',\n      '2. 如果属性可以通过 Element.attribute = value来设置的话，也可以使用 nv-attribute 来使用。例如：nv-src nv-href nv-alt',\n      '3. 内置指令接收2种字符串：',\n      '(1) state.xxx 和 nv-repeat的值：nv-text=\"state.text\" nv-text=\"repeatData.text\"',\n      '(2) 除 nv-on:Event 和 nv-model 外，其他指令的值可以接收@开头加组件实例上带返回值的方法，参数可以使用事件指令中除了$event之外的参数，指令渲染为方法返回值：nv-text=\"@bindText(state.text, $index, $element)\"',\n    ],\n    info: [\n      {\n        title: '1. 事件指令',\n        p: [\n          '以 nv-on:event 开头, event 为未加on的事件名， 指令值为 @开头 加 组件实例上的方法',\n          '例如：nv-on:click=\"@goTo()\"',\n          '方法可使用参数：',\n        ],\n        pchild: [\n          `- Element => $element`,\n          `- event => $event`,\n          `- string => '1','2','3'`,\n          ` - number => 1,2,3`,\n          ` - index > $index`,\n          `- 变量: 仅能传递state上的值， 通过state.xxx标示`,\n          `- repeat value: 传递nv-repeat='let item in array'的item值，如： nv-on:click=\"@show(nav)\" nv-repeat=\"let nav in state.navList\" nv-key=\"nav.id\"`,\n        ],\n        code: `\n  <a class=\"nav\" nv-on:click=\"@goTo($event, $index, 1, 'state', state.nav.to,)\">{{state.nav.name}}</a>\n\n  public goTo(event: Event, index: number, aa: number, s: string, to: string) {\n    this.$setLocation(to);\n  }\n `,\n      },\n      {\n        title: '2. text 指令',\n        p: [\n          '该指令可直接渲染为标签内的文字，或 <input> 的 value。',\n        ],\n        pchild: [\n          '可以使用 nv-text 也可以使用模板语法 {{}}。',\n        ],\n        code: `\n  <p nv-text=\"state.b\"></p>\n  <p nv-text=\"@returnValue(state.b)\"></p>\n  <p>{{state.b}}</p>\n  <p>{{@returnValue(state.b)}}</p>\n `,\n      },\n      {\n        title: '3. html 指令',\n        p: [\n          '该指令可直接渲染为标签内的 HTML，内部实现相当于 innerHTML。',\n        ],\n        pchild: [\n          '可以使用 nv-html。',\n        ],\n        code: `\n  <p nv-html=\"state.b\"></p>\n  <p nv-html=\"@returnValue(state.b)\"></p>\n `,\n      },\n      {\n        title: '4. model 指令',\n        p: [\n          '此指令等同于 nv-text 和 nv-on:input 同时使用',\n        ],\n        pchild: [\n          '仅仅可以对 <input> 使用 nv-model, model会主动更新被绑定的值并更新视图。',\n        ],\n        code: `\n  <input nv-model=\"state.c\"/>\n `,\n      },\n      {\n        title: '5. class 指令',\n        p: [\n          '指令会主动把被绑定的值作为 className 增加到元素的class中。',\n        ],\n        pchild: [\n          '使用 nv-class。',\n        ],\n        code: `\n  <input nv-class=\"state.d\"/>\n  <input nv-class=\"@returnValue(state.d)\"/>\n `,\n      },\n      {\n        title: '6. if 指令',\n        p: [\n          '如果被绑定的值被 javascript 判定为 true/false，将分别在DOM树中显示或移除。',\n        ],\n        pchild: [\n          '使用 nv-if。',\n        ],\n        code: `\n  <input nv-if=\"state.e\"/>\n  <input nv-if=\"@returnValue(state.e)\"/>\n `,\n      },\n      {\n        title: '7. repeat 指令',\n        p: [\n          'repeat 是一个重复器指令 —— 自定义数据显示的一种方式。',\n          '你的目标是展示一个由多个条目组成的列表。',\n          '首先定义了一个 HTML 块，它规定了单个条目应该如何显示。',\n          '再告诉 InDiv 把这个块当做模板，渲染列表中的每个条目。',\n          '该指令可以搭配 nv-key 指令使用提高渲染性能。',\n        ],\n        pchild: [\n          '使用 nv-repeat=\"let item in Array\"语法, Array只能为其他被repeat值或组件实例state上的数组。',\n          '可以通过 let item in Array 的语法定义 nv-repeat 指令，在元素本身或子元素可以直接使用 item 作为值。',\n          '此指令十分耗费性能，不建议多用，并且建议搭配 nv-key 使用。',\n        ],\n        code: `\n  <div nv-class=\"li.class\" nv-repeat=\"let li in state.arrayList\" nv-key=\"li.id\">\n    <input nv-model=\"l.value\" nv-repeat=\"let l in li\" nv-key=\"l.id\"/>\n    <demo-component value=\"{l}\" nv-key=\"li.id\"></demo-component>\n  </div>\n `,\n      },\n      {\n        title: '8. key 指令',\n        p: [\n          '搭配 repeat 指令使用，为每个被 repeat 的元素指定一个唯一的值',\n          '该指令会提高 repeat 指令的渲染性能，',\n          '每次虚拟DOM更新时会优先匹配 tagName 和 key 都相同的虚拟DOM。',\n        ],\n        pchild: [\n          'nv-key 的值必须在 同级且同标签名的元素 中为唯一值',\n          '建议如果对 自定义组件的父元素 或 自定义组件本身 使用 nv-repeat，尽量加上 nv-key 指令来避免重复创建组件实例，并保存组件内部状态。',\n        ],\n        code: `\n  <div nv-class=\"li.class\" nv-repeat=\"let li in state.arrayList\" nv-key=\"li.id\">\n    <input nv-model=\"l.value\" nv-repeat=\"let l in li\" nv-key=\"l.id\"/>\n    <demo-component value=\"{l}\" nv-key=\"li.id\"></demo-component>\n  </div>\n `,\n      },\n      {\n        title: '9. 其他指令',\n        p: [\n          '如果属性可以通过 Element.attribute = value来设置的话，也可以使用 nv-attribute 来使用。',\n        ],\n        pchild: [\n          '例如：nv-src nv-href nv-alt等',\n        ],\n        code: `\n  <img nv-src=\"state.src\" nv-alt=\"state.alt\"/>\n  <img nv-src=\"@return(state.src)\" nv-alt=\"@return(state.alt)\"/>\n `,\n      },\n    ],\n  },\n];\n",null,"export const moduleInfo = () => [\n  {\n    h1: 'InDiv 模块',\n    p: [\n      'JavaScript 和 InDiv 都使用模块来组织代码，虽然它们的组织形式不同，但 InDiv 的应用会同时依赖两者。',\n      '此处不过多讲 JavaScript 模块，而着重叙述 InDiv 模块。',\n    ],\n    info: [\n      {\n        title: '装饰器 NvModule',\n        p: [\n          'NvModule 是一些带有 @NvModule 装饰器的类。',\n          '@NvModule 装饰器的 会告诉 InDiv 哪些其它的东西是当前模块所需的。',\n          '@NvModule 接收5个参数。',\n        ],\n        pchild: [\n          '声明某些组件（component）、服务（service）属于这个模块',\n          '公开其中的部分组件，以便其它模块中的组件模板中可以使用它们',\n          '导入其它带有组件、服务的模块（NvModule），这些模块中的元件都是本模块所需的',\n          '提供一些供应用中的其它组件使用的服务',\n        ],\n        code: `\n  // in TypeScript\n  @NvModule({\n    imports: [\n      M2,\n    ],\n    components: [\n      Container,\n      PComponent,\n      TestComponent,\n      R1,\n    ],\n    providers: [\n      HeroSearchService,\n      {\n        provide: HeroSearchService1,\n        useClass: HeroSearchService1,\n      },\n      {\n        provide: ValueClass,\n        useValue: '12324',\n      },\n    ],\n  })\n  export default class M1 {}\n\n  // in JavaScript\n  export default class M1 {}\n  NvModule({\n    imports: [\n      M2,\n    ],\n    components: [\n      Container,\n      PComponent,\n      TestComponent,\n      R1,\n    ],\n    providers: [\n      {\n        provide: 'heroSearchService',\n        useClass: HeroSearchService,\n      },\n      {\n        provide: 'heroSearchService1',\n        useClass: HeroSearchService1,\n      },\n      {\n        provide: 'valueClass',\n        useValue: '12324',\n      },\n    ],\n  })(M1);\n `,\n      },\n      {\n        title: '1. imports 导入模块',\n        p: [\n          'imports?: Function[];',\n        ],\n        pchild: [\n          'imports 数组 会告诉 InDiv 哪些其它的 模块 是当前 模块 所需的',\n          'imports 数组中的这些模块（NvModule）与 JavaScript 模块不同，它们都是 NvModule 而不是常规的 JavaScript 模块。',\n          '而是因为它带有 @NvModule 装饰器及其元数据。',\n          '被 imports 的 模块 一定要有 exports，否则将无效。',\n        ],\n        code: `\n  // NvModule M2\n  @NvModule({\n    components: [\n      R2,\n      RouteChild,\n      PCChild,\n    ],\n    providers: [\n      HeroSearchService2,\n    ],\n    exports: [\n      R2,\n      RouteChild,\n    ],\n  })\n  class M2 {}\n\n  // NvModule M1\n  @NvModule({\n    imports: [\n      M2,\n    ],\n    components: [\n      Container,\n    ],\n  })\n  export default class M1 {}\n `,\n      },\n      {\n        title: '2. components 声明组件',\n        p: [\n          'components: Function[];',\n        ],\n        pchild: [\n          'components 用来声明 组件 。',\n          '在 NvModule 中被声明的 组件 里，可以直接使用该 NvModule 中声明过的 组件 和被 imports 进来的 模块 导出过的 组件。',\n        ],\n        code: `\n  // NvModule M2\n  @Component({\n    selector: 'pp-childs',\n    template: (\\`\n      <div>\n        <p>子组件</p>\n      </div>\n    \\`),\n  })\n  class PCChild {}\n\n  @NvModule({\n    components: [\n      PCChild,\n    ],\n    exports: [\n      PCChild,\n    ],\n  })\n  class M2 {}\n\n\n  // NvModule M1\n  @Component({\n    selector: 'cc-ontainer',\n    template: (\\`\n      <div>\n        <pp-childs></pp-childs>\n      </div>\n    \\`),\n  })\n  class Container {}\n\n  @NvModule({\n    imports: [\n      M2,\n    ],\n    components: [\n      Container,\n    ],\n  })\n  export default class M1 {}\n\n `,\n      },\n      {\n        title: '3. providers 声明被提供的服务',\n        p: [\n          'providers 用来声明被提供的服务。',\n          '服务可以被声明在 模块 的 providers 中。',\n          '被声明后，所有该模块的组件，被该模块导出的组件，和该模块中的服务都可以直接依赖模块中的所有服务。',\n        ],\n        pchild: [\n          'providers 有三种类型',\n          '1. Function (相当于{provide: Function; useClass: Function;}的简写)，最简便的方法，但在 JavaScript 中无法使用',\n          '2. { provide: any; useClass: Function; } 该类型将提供 provide 作为injectToken，并将 useClass 实例化提供给 DI 系统',\n          '3. { provide: any; useValue: any; } 该类型将提供 provide 作为injectToken，并将 useValue 直接提供给 DI 系统',\n          '在 TypeScript 中三种类型都可以使用，但 provide 必须为类(provide: Function)，因为要通过反射拿到 constructor 的参数类型作为 injectToken 进行匹配',\n          '但在 JavaScript 中，仅仅可以使用后两种对象的形式，通过主动声明 provide 为字符串(provide: string)，再通过 Class 的静态属性 injectTokens 进行匹配',\n        ],\n        code: `\n  // in TypeScript\n  @Injected\n  @Component({\n    selector: 'pp-childs',\n    template: ('\n      <div>\n        <p>子组件</p>\n      </div>'),\n  })\n  class PCChild {\n    constructor (\n      private heroS: HeroSearchService2,\n    ) {\n      this.service = heroS;\n    }\n  }\n\n  @NvModule({\n    components: [\n      PCChild,\n    ],\n    providers: [\n      HeroSearchService2,\n    ],\n    exports: [\n      PCChild,\n    ],\n  })\n  class M2 {}\n\n\n  // in JavaScript\n  class PCChild {\n    static injectTokens = [\n      'heroSearchService2'\n    ];\n\n    constructor (\n      private heroS,\n    ) {\n      this.service = heroS;\n    }\n  }\n  Component({\n    selector: 'pp-childs',\n    template: (\\`\n      <div>\n        <p>子组件</p>\n      </div>\n    \\`),\n  })(PCChild)\n\n  class M2 {}\n  NvModule({\n    components: [\n      PCChild,\n    ],\n    providers: [\n      {\n        provide: 'heroSearchService2',\n        useClass: HeroSearchService2,\n      },\n    ],\n    exports: [\n      PCChild,\n    ],\n  })(M2)\n `,\n      },\n      {\n        title: '4. exports 模块导出的组件',\n        p: [\n          'exports?: Function[];',\n        ],\n        pchild: [\n          'exports 用来声明模块被导出的组件（component）。',\n          '模块只能导出可声明的类。它不会声明或导出任何其它类型的类。',\n          '被模块导出的组件，可以随意在 导入该模块的模块（NvModule） 中的 组件（component） 使用。',\n          '被模块导出的组件，只能获取模块本身声明的依赖，组件本身声明的依赖，和根模块声明的依赖。',\n        ],\n        code: `\n  // NvModule M2\n  @Injectable\n  @Component({\n    selector: 'pp-childs',\n    template: (\\`\n      <div>\n        <p>子组件</p>\n      </div>\n    \\`),\n  })\n  class PCChild {\n    constructor (\n      private heroS: HeroSearchService2,\n    ) {\n      this.service = heroS;\n    }\n  }\n\n  @NvModule({\n    components: [\n      PCChild,\n    ],\n    providers: [\n      HeroSearchService2,\n    ],\n    exports: [\n      PCChild,\n    ],\n  })\n  class M2 {}\n\n\n  // NvModule M1\n  @Component({\n    selector: 'cc-ontainer',\n    template: (\\`\n      <div>\n        <pp-childs></pp-childs>\n      </div>\n    \\`),\n  })\n  class Container {}\n\n  @NvModule({\n    imports: [\n      M2,\n    ],\n    components: [\n      Container,\n    ],\n  })\n  export default class M1 {}\n\n `,\n      },\n      {\n        title: '5. bootstrap 引导启动',\n        p: [\n          'bootstrap?: Function;',\n        ],\n        pchild: [\n          '从分类上说，入口组件是 InDiv 命令式加载的任意组件。',\n          '如果你没有使用路由，则需要在 根模块 中将一个 组件 声明给该项，被声明的 组件 将作为 入口组件 被 InDiv 渲染到页面。',\n          '如果你使用路由，则无需对此项赋值，因为路由会自动根据配置去找到需要渲染的页面。',\n        ],\n        code: `\n  @Component({\n    selector: 'cc-ontainer',\n    template: (\\`\n      <div>\n        <pp-childs></pp-childs>\n      </div>\n    \\`),\n  })\n  class Container {}\n\n  @NvModule({\n    components: [\n      Container,\n    ],\n    bootstrap: Container,\n  })\n  export default class M1 {}\n `,\n      },\n    ],\n  },\n];\n",null,"export const serviceInfo = () => [\n  {\n    h1: '服务 与 依赖注入',\n    p: [\n      '组件不应该直接获取或保存数据，它们不应该了解是否在展示假数据。',\n      '它们应该聚焦于展示数据，而把数据访问的职责委托给某个服务。',\n      '不要使用 new 来创建服务，而要依靠 InDiv 的 依赖注入(DI) 机制把它注入到 组件或服务的 的构造函数中',\n      'v1.2.0开始，所有服务如果不手动指定则默认都为单例服务',\n    ],\n    info: [\n      {\n        title: '装饰器 Injectable, Injected',\n        p: [\n          'v1.2.0版本开始将由 Injectable, Injected 分别代替1.1.0版本及以下的 Service, Injectable',\n          '@Injectable: 会指出紧随其后的那个类是个服务，并为其指定元数据。',\n          '@Injectable: 接收1个参数: { isSingletonMode?: boolean; }。 用来指出是否为 单例服务。',\n          '@Injected: 不接受任何参数，而是用来提示 InDiv 该 class 有需要注入的服务。',\n          '@Injected: 可以用在 组件（component） 和 服务（service） 上。',\n        ],\n        pchild: [\n          '1. 在 TypeScript 中，在视同我们可以直接在 构造函数 的参数中声明出参数及其类型，类型为需要被注入的 服务，并可以直接在实例中拿到，',\n          '2. 但是在 JavaScript 中，只能通过在 在类的静态属性（injectTokens: string[]）中，把 需要被注入 服务（service） 的字符串provide放入数组，则构造函数中的每项则依次成为被注入的服务实例',\n          '3. 通过使用 @Injected，服务里可以使用其他被注入的服务',\n          '4. 参数 {isSingletonMode: boolean;} 用来告诉 模块 该服务是否为单例服务',\n          '(1) v1.2.0+：如果不设置isSingletonMode则默认为 true，默认所有的都为全局单例，如果不想成为单例服务则需要自己声明',\n          '(2) 如果不使用 Injectable 装饰器，直接在模块 providers 中声明，则默认为非单例服务',\n        ],\n        code: `\n  // in TypeScript\n  @Injected\n  @Injectable({ isSingletonMode: false })\n  export default class HeroSearchService {\n    public hsr: HeroSearchService1; // 服务 HeroSearchService1 被注入, 可以直接用 this.hsr\n    constructor(\n      private hsr: HeroSearchService1,\n    ) {\n      console.log(this.hsr)\n    }\n  }\n\n  // in JavaScript\n  export default class HeroSearchService {\n    static injectTokens: [\n      'heroSearchService1'\n    ];\n\n    constructor(\n      heroSearchService1, // 服务 HeroSearchService1 被注入， 该实例即为 参数 heroSearchService1\n    ) {\n      this.hsr = heroSearchService1;\n      this.hsr.test();\n    }\n  }\n  Injectable({\n    isSingletonMode: false,\n  })(HeroSearchService);\n `,\n      },\n      {\n        title: '依赖注入',\n        p: [\n          '依赖注入是一个很重要的设计模式。 它使用得非常广泛，以至于几乎每个人都把它简称为 DI 。',\n          '依赖注入（DI）是用来创建对象及其依赖的其它对象的一种方式。 ',\n          '当依赖注入系统创建某个对象实例时，会负责提供该对象所依赖的对象（称为该对象的依赖）。',\n        ],\n        pchild: [\n          '1. 在 模块（NvModule） 中的 providers 声明 需要被注入的 服务。',\n          '2. 在 组件（Component） 中的 providers 声明 需要被注入的 服务。',\n          '3. 模块中的声明过的服务，该模块中的所有组件和服务都可以注入。',\n          '4. 根模块（root NvModule）中的声明过的服务，所有模块中的所有组件和服务都可以注入。',\n          '5. 模块中声明过的服务，会根据 isSingletonMode 来判断是否为全局单例。',\n          '6. 模块导出（exports）的 组件 在其他模块（NvModule）也可以仅可以使用原模块的服务。',\n          '7. 组件声明的服务，在每个组件实例中都不共享实例，每次创建组件实例时都会创建一个新的服务实例。',\n          '8. 组件声明的服务，仅仅可以依赖 根模块（root NvModule）中声明的服务和 该组件中声明的服务。',\n        ],\n        code: `\n  @NvModule({\n    imports: [\n    ],\n    components: [\n        DocsContainer,\n    ],\n    providers: [\n      HeroSearchService,\n      {\n        provide: HeroSearchService1,\n        useClass: HeroSearchService,\n      },\n      {\n        provide: Value,\n        useValue: '11333',\n      }\n    ],\n    exports: [\n        DocsContainer,\n    ],\n  })\n  class DocsModule {}\n\n  @Component<State>({\n    selector: 'docs-container',\n    template: ('\n      <div class=\"page-wrapper\">\n          <h1>DocsContainer</h1>\n      </div>\n    '),\n  })\n  class DocsContainer {\n    constructor(\n      private heroService: HeroSearchService,\n      private heroSearchService1: HeroSearchService1,\n      private value: Value,\n    ) {}\n  }\n `,\n      },\n    ],\n  },\n];\n",null,"export const routeInfo = () => [\n  {\n    h1: '路由 与 导航',\n    p: [\n      '类似于其他前端框架，InDiv 也提供了一套路由来帮助页面渲染。让用户从一个视图导航到另一个视图。',\n      '它们应该聚焦于展示数据，而把数据访问的职责委托给某个服务。',\n      'InDiv 的 Router（即“路由器”）借鉴了这个浏览器的导航模型。',\n      '它把浏览器中的 URL 看做一个操作指南， 据此导航到一个由客户端生成的视图，并可以把参数传给支撑视图的相应组件，帮它决定具体该展现哪些内容。',\n      '你可以为页面中的链接绑定一个路由，这样，当用户点击链接时，就会导航到应用中相应的视图。',\n      '当用户点击按钮、从下拉框中选取，或响应来自任何地方的事件时，你也可以在代码控制下进行导航。',\n      '路由器还在浏览器的历史日志中记录下这些活动，这样浏览器的前进和后退按钮也能照常工作。',\n    ],\n    info: [\n      {\n        title: '配置路由',\n        p: [\n          `该配置为一个数组，需要设置 跟路由 '/'`,\n          '每个对应的路由应该有四个键值对，可以引入 TRouter 来看所有类型',\n        ],\n        pchild: [\n          '1. path: string; 路径，提供代码直接更改或在浏览器里访问, 可以设置成 /:id 这种params模式，但不能设置其他同级路由。',\n          '2. component?: string; 需要渲染的 组件（component） 的 selector，如果没有 子路由（children） 并且有 重定向（redirectTo） 可以不写该项 ',\n          '3. redirectTo?: string; 当访问此路径时，需要重定向的地址，值为路由的完整路径。',\n          '4. children?: TRouter[]， 子路由，TRouter 重复上述所有配置',\n        ],\n        code: `\n  const routes: TRouter[] = [\n    {\n      path: '/',\n      redirectTo: '/introduction',\n      component: 'root-component',\n      children: [\n        {\n          path: '/introduction',\n          component: 'introduction-container',\n        },\n        {\n          path: '/docs',\n          redirectTo: '/docs/component',\n          component: 'docs-container',\n          children: [\n            {\n                path: '/component',\n                component: 'docs-component-container',\n            },\n            {\n                path: '/template',\n                redirectTo: '/docs/component',\n                children: [{\n                  path: '/:id',\n                  component: 'docs-id-container',\n                }]\n            },\n          ],\n        },\n      ],\n    },\n  ];\n `,\n      },\n      {\n        title: '路由 Router',\n        p: [\n          '需要声明一份路由的配置 router: TRouter[]，来告诉 路由（Router） 应该以什么样的模式渲染页面。',\n          `需要调用 setRootPath(rootPath: string): void 方法，声明一个 根路径（rootPath） 。如未声明，将把 '/' 当做根路径。`,\n          '路由提供一个 routeChange 的事件，可以监听到全局的路由变化。',\n        ],\n        pchild: [\n          '需要根据如下顺序设置路由',\n          '1. 设置跟路由',\n          '2. 初始化路由',\n          '3. 开始监听路由变化',\n        ],\n        code: `\n  import { Route, TRouter } from 'InDiv';\n\n  const router = new Router();\n\n  const routes: TRouter[] = ....;\n\n  router.setRootPath('/demo');\n  router.init(routes);\n  router.routeChange = (old: string, next: string) => {};\n `,\n      },\n      {\n        title: '工具函数',\n        p: [\n          'InDiv 提供了一些函数，来方便跳转或获取路由相关参数。',\n          '在组件（component）里可以通过引入相应的类型来使用。',\n        ],\n        pchild: [\n          '1. SetLocation: <Q, P>(path: string, query?: Q, params?: P, title?: string) => void;',\n          '2. GetLocation: () => { path: string; query?: any; params?: any; data?: any; };',\n          'path: string; 当前路由的路径',\n          'query?: string; 拼在路由后面的query, request.query',\n          'params?: any; 如果该路径为 /:id 类似这种模式，则params 为 {id: 123}',\n          'data?: any; 额外传递的值',\n          'title?: string; 跳转路由时需要更改的 title',\n        ],\n        code: `\n  import { GetLocation, SetLocation } from 'InDiv';\n  \n  class RoutrComponent {\n    public getLocation: GetLocation;\n    public setLocation: SetLocation;\n\n    constructor() {}\n    public nvOnInit() {\n      console.log('this.getLocation', this.getLocation());\n      this.setLocation('/R1/C1/D1', { b: '1' });\n    }\n  }\n `,\n      },\n    ],\n  },\n];\n",null,"export const inDivInfo = () => [\n  {\n    h1: '启动',\n    p: [\n      '通过引入 InDiv 来启动整个应用',\n    ],\n    info: [\n      {\n        title: '引导启动',\n        p: [\n          '现在我们配置好了 模块，组件，服务，和路由，',\n          '开始引入核心来启动整个应用！',\n        ],\n        pchild: [\n          '1. 实例化 InDiv',\n          '2. 启动根模块（root NvModule）',\n          '3. 使用 use 方法来启用中间件，例如 Route',\n          '4. 使用 init 方法启动整个应用',\n        ],\n        code: `\n  const inDiv = new InDiv();\n  inDiv.bootstrapModule(M1);\n  inDiv.use(router);\n  inDiv.init();\n `,\n      },\n    ],\n  },\n];\n",null,"export const libInfo = () => [\n  {\n    h1: '工具函数',\n    p: [\n      '在开发过程中，使用了一些工具函数，现在我把它们继承在一个 Utils 类里。',\n      '可以通过依赖注入系统注入直接使用该类的非单例实例，也可以自行 new 出一个实例。',\n    ],\n    info: [\n      {\n        title: 'Utils',\n        p: [\n          'Utils 暴露出共6个方法',\n        ],\n        pchild: [\n          '1. setCookie(name: string, value: any, options?: any): void; 设置 cookie',\n          '2. getCookie(name: string): any; 获取 cookie',\n          '3. removeCookie(name: string): boolean; 移除 cookie',\n          '4. getQuery(name: string): string; 获得location上query的某个字段' ,\n          '5. isFunction(func: any): boolean; 判断是否是function' ,\n          '6. isEqual(a: any, b: any): boolean; 深度判断两个东西是否相同',\n          '7. isBrowser(): boolean; 判断是否为浏览器环境',\n        ],\n        code: `\n  import { Utils, NvModule } from 'InDiv';\n\n  const utils = new Utils;\n\n  @NvModule({\n    components: [\n      DocsContainer,\n    ],\n    providers: [\n      Utils\n    ],\n  })\n  class DocsModule { }\n `,\n      },\n    ],\n  },\n];\n",null,"export const httpInfo = () => [\n  {\n    h1: 'HTTP',\n    p: [\n      'Class NVHttp 是 InDiv 通过 HTTP 与远程服务器通讯的机制。',\n    ],\n    info: [\n      {\n        title: 'NVHttp',\n        p: [\n          '通过封装 axios 库，InDiv 可以通过 NVHttp 发送网络请求。',\n          'NVHttp 共封装了5中方法，可以直接注入 NVHttp 使用该类的非单例实例，也可以自己 new 出一个实例。',\n          '如果需要更多方法，欢迎通过使用 axios 来获得更多体验。',\n        ],\n        pchild: [\n          '1. get: <P = any, R = any>(url: string, params?: P): Promise<R>;',\n          '2. delete: <P = any, R = any>(url: string, params?: P): Promise<R>;',\n          '3. post?<P = any, R = any>(url: string, params?: P): Promise<R>;',\n          '4. put?<P = any, R = any>(url: string, params?: P): Promise<R>;',\n          '5. patch?<P = any, R = any>(url: string, params?: P): Promise<R>;',\n        ],\n        code: `\n  import { NVHttp, NvModule,  } from 'InDiv';\n\n  @NvModule({\n    components: [\n      DocsContainer,\n    ],\n    providers: [\n      NVHttp\n    ],\n  })\n  class DocsModule { }\n  @Component({\n    selector: 'docs-container',\n    template: ('\n      <div class=\"page-wrapper\">\n        <p></p>\n      </div>\n    '),\n  })\n  class DocsContainer {\n    constructor( privite nvHttp: NVHttp ) {\n      nvHttp.get(url, params);\n      nvHttp.delete(url, params);\n      nvHttp.post(url, params);\n      nvHttp.put(url, params);\n      nvHttp.patch(url, params);\n    }\n  }\n `,\n      },\n    ],\n  },\n];\n",null,"// import { NvModule } from 'indiv';\nimport { NvModule } from '../../../InDiv/src';\n\nimport DocsContainer from '../pages/docs';\nimport DocsComponentContainer from '../pages/docs/component';\nimport DocsTemplateContainer from '../pages/docs/template';\nimport DocsModuleContainer from '../pages/docs/module';\nimport DocsServiceContainer from '../pages/docs/service';\nimport DocsRouteContainer from '../pages/docs/route';\nimport DocsInDivContainer from '../pages/docs/indiv';\nimport DocsLibsContainer from '../pages/docs/libs';\nimport DocsHttpContainer from '../pages/docs/http';\n\nimport TestService from '../service/test.service';\n\n@NvModule({\n    components: [\n        DocsContainer,\n        DocsComponentContainer,\n        DocsTemplateContainer,\n        DocsModuleContainer,\n        DocsServiceContainer,\n        DocsRouteContainer,\n        DocsInDivContainer,\n        DocsLibsContainer,\n        DocsHttpContainer,\n    ],\n    providers: [\n        {\n            provide: TestService,\n            useClass: TestService,\n        },\n    ],\n    exports: [\n        DocsContainer,\n        DocsComponentContainer,\n        DocsTemplateContainer,\n        DocsModuleContainer,\n        DocsServiceContainer,\n        DocsRouteContainer,\n        DocsInDivContainer,\n        DocsLibsContainer,\n        DocsHttpContainer,\n    ],\n})\nexport default class DocsModule { }\n","export const ssrInfo = () => [\n    {\n      h1: '服务端渲染（SSR）',\n      p: [\n        '标准的 InDiv 应用会运行在浏览器中，',\n        '当 JavaScript 脚本加载完毕后，它会在 DOM 中渲染页面，以响应用户的操作。',\n        '但是在特殊场景，比如 SEO，需要提升在低性能设备上的渲染速度，需要迅速显示首屏时，',\n        '可能服务端渲染更适合。',\n        '它可以生成这些页面，并在浏览器请求时直接用它们给出响应。',\n      ],\n      info: [\n        {\n          title: '工作原理',\n          p: [\n            '通过引入 @indiv/ssr-renderer v1.1.0+。',\n            '@indiv/ssr-renderer 包提供了服务端的 DOM 实现，使得渲染 InDiv 应用不再依赖浏览器。',\n            '通过 node 端，会把客户端对应用页面的请求传给 @indiv/ssr-renderer 中的 renderToString  函数，',\n            '引入 indiv 实例和路由的配置对象，renderToString 会根据对应的路径，返回已经被渲染完的字符串模板。',\n            '通过不同框架的渲染机制，将返回的字符串模板渲染到模板的 <div id=\"root\"></div> 中。',\n            '最后，服务器就会把渲染好的页面返回给客户端。',\n          ],\n          pchild: [\n            '1. 生命周期受到限制，服务端渲染中仅仅支持 constructor 和 OnInit 的调用。',\n            '2. 因为 InDiv 的 nvHttp 对象是封装的 axios 库，因此支持在 node 环境中使用 http 请求。',\n            '3. 通过 nv-on:eventName 方式绑定的方法暂时无法渲染。',\n          ],\n        },\n        {\n          title: '环境及使用',\n          p: [\n            'Node.js: v6+',\n            'indiv: v1.2.0+',\n            '@indiv/ssr-renderer: v1.1.0+',\n            '本例子使用 express 及 ejs 模板，你也可以选择适合的 服务端框架 及 模板 。',\n          ],\n          pchild: [\n            '1. 创建 InDiv app',\n            '2. 创建一个用于处理请求的 express Web 服务器',\n            '3. 创建一个 ejs 模板',\n            '4. 引入 @indiv/ssr-renderer 包 renderToString: (url: string, routes: TRouter[], indiv: InDiv) => string',\n            '5. 将 request 的 url， indiv app路由配置对象，和 indiv实例 作为参数依次传入 renderToString',\n            '6. 最后 renderToString 的返回值渲染至模板中',\n          ],\n          code: `\n  // in index.ejs\n  <div id=\"root\">\n    <%- content %>\n  </div>\n\n  // in service side\n  const express = require('express');\n  const renderToString = require('@indiv/ssr-renderer');\n\n  const app = express();\n\n  app.use('/indiv-doc', (request, response, next) => {    \n    // import indiv app\n    const ssrData = require('./dist/main.js');\n    response.render('index.ejs', {\n      // use in ejs template\n      content: renderToString(request.url, ssrData.routes, ssrData.default.inDiv),\n    });\n  });\n    `,\n        },\n      ],\n    },\n  ];\n  \n",null,"// import { NvModule } from 'indiv';\nimport { NvModule } from '../../../InDiv/src';\n\nimport SSRContainer from '../pages/ssr';\n\n@NvModule({\n    components: [\n        SSRContainer,\n    ],\n    exports: [\n        SSRContainer,\n    ],\n})\nexport default class SSRModule { }\n",null,"export const navs = () => [\n    {\n        name: '介绍',\n        to: '/introduction',\n    },\n    {\n        name: '构架',\n        to: '/architecture',\n    },\n    {\n        name: '文档',\n        to: '/docs',\n        child: [\n            {\n                name: '组件',\n                to: '/docs/component',\n            },\n            {\n                name: '模板语法',\n                to: '/docs/template',\n            },\n            {\n                name: '服务 与 依赖注入',\n                to: '/docs/service',\n            },\n            {\n                name: '模块',\n                to: '/docs/module',\n            },\n            {\n                name: '路由 与 导航',\n                to: '/docs/route',\n            },\n            {\n                name: '引导启动',\n                to: '/docs/indiv',\n            },\n            {\n                name: '工具函数',\n                to: '/docs/libs',\n            },\n            {\n                name: 'HTTP',\n                to: '/docs/http',\n            },\n        ],\n    },\n    {\n        name: '服务端渲染',\n        to: '/ssr',\n    },\n];\n",null,null,"// import { NvModule } from 'indiv';\nimport { NvModule } from '../../../InDiv/src';\n\nimport IntroductionModule from './introduction.module';\nimport ArchitectureModule from './architecture.module';\nimport DocsModule from './docs.module';\nimport SSRModule from './ssr.module';\n\nimport RootComponent from '../components/root-component';\nimport SideBar from '../components/side-bars';\nimport CodeShower from '../components/code-show';\n\nimport TestService from '../service/test.service';\n\n@NvModule({\n  imports: [\n    IntroductionModule,\n    ArchitectureModule,\n    DocsModule,\n    SSRModule,\n  ],\n  components: [\n    SideBar,\n    RootComponent,\n    CodeShower,\n  ],\n  providers: [\n    TestService,\n  ],\n})\nexport default class RootModule { }\n",null,"var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}